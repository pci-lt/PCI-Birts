<?xml version="1.0" encoding="UTF-8"?>
<datamart xmlns="http://www.eclipse.org/birt/2005/design" version="3.2.23" id="1">
    <property name="createdBy">Eclipse BIRT Designer Version 4.7.0.v201710020040</property>
    <data-sources>
        <oda-data-source extensionID="org.eclipse.birt.data.oda.mongodb" name="MongoDB" id="4">
            <list-property name="privateDriverProperties">
                <ex-property>
                    <name>useKerberosAuthentication</name>
                    <value>false</value>
                </ex-property>
            </list-property>
            <property name="mongoURI">mongodb://db2.linkaform.com:27017,db3.linkaform.com:27017,db4.linkaform.com:27017/infosync_answers_client_1259</property>
            <property name="ignoreURI">false</property>
            <property name="serverPort">27017</property>
            <property name="socketKeepAlive">true</property>
        </oda-data-source>
        <oda-data-source extensionID="org.eclipse.birt.report.data.oda.jdbc" name="Infosync" id="605">
            <list-property name="privateDriverProperties">
                <ex-property>
                    <name>metadataBidiFormatStr</name>
                    <value>ILYNN</value>
                </ex-property>
                <ex-property>
                    <name>disabledMetadataBidiFormatStr</name>
                </ex-property>
                <ex-property>
                    <name>contentBidiFormatStr</name>
                    <value>ILYNN</value>
                </ex-property>
                <ex-property>
                    <name>disabledContentBidiFormatStr</name>
                </ex-property>
            </list-property>
            <property name="odaDriverClass">org.postgresql.Driver</property>
            <property name="odaURL">jdbc:postgresql://localhost:5434/infosync</property>
            <property name="odaUser">infosync</property>
        </oda-data-source>
    </data-sources>
    <data-sets>
        <oda-data-set extensionID="org.eclipse.birt.data.oda.mongodb.dataSet" name="Area-Cope-Div-Sub" id="570">
            <list-property name="computedColumns">
                <structure>
                    <property name="name">Division</property>
                    <expression name="expression" type="javascript">var area = row["div"];&#13;
if(area == null){&#13;
	area = "";&#13;
}&#13;
area = area.toUpperCase();&#13;
var arr = area.split('_');&#13;
var resultado = '';&#13;
for (var i = 0; i &lt;arr.length;i++){&#13;
var te =  (new Packages.java.lang.String(arr[i]));&#13;
	resultado = resultado +  new Packages.java.lang.Character.toString(te.charAt(0)).toUpperCase() + te.substring(1);&#13;
	if (i &lt; arr.length - 1) {&#13;
		resultado = resultado + ' ';&#13;
	}&#13;
}&#13;
resultado;</expression>
                    <property name="dataType">string</property>
                </structure>
                <structure>
                    <property name="name">Subdireccion</property>
                    <expression name="expression" type="javascript">var area = row["subdir"];&#13;
if(area == null){&#13;
	area = "";&#13;
}&#13;
area = area.toUpperCase();&#13;
var arr = area.split('_');&#13;
var resultado = '';&#13;
for (var i = 0; i &lt;arr.length;i++){&#13;
var te =  (new Packages.java.lang.String(arr[i]));&#13;
	resultado = resultado +  new Packages.java.lang.Character.toString(te.charAt(0)).toUpperCase() + te.substring(1);&#13;
	if (i &lt; arr.length - 1) {&#13;
		resultado = resultado + ' ';&#13;
	}&#13;
}&#13;
resultado;</expression>
                    <property name="dataType">string</property>
                </structure>
            </list-property>
            <list-property name="columnHints">
                <structure>
                    <property name="columnName">div</property>
                    <property name="analysis">dimension</property>
                    <text-property name="displayName">div</text-property>
                    <text-property name="heading">div</text-property>
                    <property name="indexColumn">false</property>
                    <property name="compressed">false</property>
                </structure>
                <structure>
                    <property name="columnName">subdir</property>
                    <property name="analysis">dimension</property>
                    <text-property name="displayName">subdir</text-property>
                    <text-property name="heading">subdir</text-property>
                    <property name="indexColumn">false</property>
                    <property name="compressed">false</property>
                </structure>
                <structure>
                    <property name="columnName">area</property>
                    <property name="analysis">dimension</property>
                    <text-property name="displayName">area</text-property>
                    <text-property name="heading">area</text-property>
                    <property name="indexColumn">false</property>
                    <property name="compressed">false</property>
                </structure>
                <structure>
                    <property name="columnName">cope</property>
                    <property name="analysis">dimension</property>
                    <text-property name="displayName">cope</text-property>
                    <text-property name="heading">cope</text-property>
                    <property name="indexColumn">false</property>
                    <property name="compressed">false</property>
                </structure>
                <structure>
                    <property name="columnName">Division</property>
                    <property name="analysis">dimension</property>
                </structure>
                <structure>
                    <property name="columnName">Subdireccion</property>
                    <property name="analysis">dimension</property>
                </structure>
            </list-property>
            <structure name="cachedMetaData">
                <list-property name="resultSet">
                    <structure>
                        <property name="position">1</property>
                        <property name="name">div</property>
                        <property name="dataType">string</property>
                    </structure>
                    <structure>
                        <property name="position">2</property>
                        <property name="name">subdir</property>
                        <property name="dataType">string</property>
                    </structure>
                    <structure>
                        <property name="position">3</property>
                        <property name="name">area</property>
                        <property name="dataType">string</property>
                    </structure>
                    <structure>
                        <property name="position">4</property>
                        <property name="name">cope</property>
                        <property name="dataType">string</property>
                    </structure>
                    <structure>
                        <property name="position">5</property>
                        <property name="name">Division</property>
                        <property name="dataType">string</property>
                    </structure>
                    <structure>
                        <property name="position">6</property>
                        <property name="name">Subdireccion</property>
                        <property name="dataType">string</property>
                    </structure>
                </list-property>
            </structure>
            <property name="dataSource">MongoDB</property>
            <list-property name="resultSet">
                <structure>
                    <property name="position">1</property>
                    <property name="name">div</property>
                    <property name="nativeName">div</property>
                    <property name="dataType">string</property>
                    <property name="nativeDataType">2</property>
                </structure>
                <structure>
                    <property name="position">2</property>
                    <property name="name">subdir</property>
                    <property name="nativeName">subdir</property>
                    <property name="dataType">string</property>
                    <property name="nativeDataType">2</property>
                </structure>
                <structure>
                    <property name="position">3</property>
                    <property name="name">area</property>
                    <property name="nativeName">area</property>
                    <property name="dataType">string</property>
                    <property name="nativeDataType">2</property>
                </structure>
                <structure>
                    <property name="position">4</property>
                    <property name="name">cope</property>
                    <property name="nativeName">cope</property>
                    <property name="dataType">string</property>
                    <property name="nativeDataType">2</property>
                </structure>
            </list-property>
            <xml-property name="queryText"><![CDATA[{ "operationExpr" : "[{$match:{\r\n\tform_id:15616,\r\n\tdeleted_at:{$exists:false},\t\r\n}},\r\n\r\n{$project: {\t\r\n\tdiv: '$answers.5a04ef1bb43fdd1023e5f4c7',\r\n\tsubdir: '$answers.5a04ef1bb43fdd1023e5f4c8',\r\n\tarea: '$answers.5952c6ffb43fdd2c5fdd5378',\r\n\tcope: '$answers.5a04f8fdf851c270c84c2e92',\r\n\r\n\t\r\n\r\n\r\n\r\n\t\t\r\n}}\r\n\r\n\r\n\r\n]" , "operationType" : "AGGREGATE" , "selectedFields" : [ "div" , "subdir" , "area" , "cope"] , "collectionName" : "form_answer"}]]></xml-property>
            <structure name="designerState">
                <property name="version">1.0</property>
                <property name="stateContentAsString">false,1</property>
            </structure>
            <xml-property name="designerValues"><![CDATA[<?xml version="1.0" encoding="UTF-8"?>
<model:DesignValues xmlns:design="http://www.eclipse.org/datatools/connectivity/oda/design" xmlns:model="http://www.eclipse.org/birt/report/model/adapter/odaModel">
  <Version>2.0</Version>
  <design:ResultSets derivedMetaData="true">
    <design:resultSetDefinitions>
      <design:resultSetColumns>
        <design:resultColumnDefinitions>
          <design:attributes>
            <design:identifier>
              <design:name>div</design:name>
              <design:position>1</design:position>
            </design:identifier>
            <design:nativeDataTypeCode>2</design:nativeDataTypeCode>
            <design:precision>-1</design:precision>
            <design:scale>-1</design:scale>
            <design:nullability>Nullable</design:nullability>
            <design:uiHints>
              <design:displayName>div</design:displayName>
            </design:uiHints>
          </design:attributes>
          <design:usageHints>
            <design:label>div</design:label>
            <design:formattingHints>
              <design:displaySize>-1</design:displaySize>
            </design:formattingHints>
          </design:usageHints>
        </design:resultColumnDefinitions>
        <design:resultColumnDefinitions>
          <design:attributes>
            <design:identifier>
              <design:name>subdir</design:name>
              <design:position>2</design:position>
            </design:identifier>
            <design:nativeDataTypeCode>2</design:nativeDataTypeCode>
            <design:precision>-1</design:precision>
            <design:scale>-1</design:scale>
            <design:nullability>Nullable</design:nullability>
            <design:uiHints>
              <design:displayName>subdir</design:displayName>
            </design:uiHints>
          </design:attributes>
          <design:usageHints>
            <design:label>subdir</design:label>
            <design:formattingHints>
              <design:displaySize>-1</design:displaySize>
            </design:formattingHints>
          </design:usageHints>
        </design:resultColumnDefinitions>
        <design:resultColumnDefinitions>
          <design:attributes>
            <design:identifier>
              <design:name>area</design:name>
              <design:position>3</design:position>
            </design:identifier>
            <design:nativeDataTypeCode>2</design:nativeDataTypeCode>
            <design:precision>-1</design:precision>
            <design:scale>-1</design:scale>
            <design:nullability>Nullable</design:nullability>
            <design:uiHints>
              <design:displayName>area</design:displayName>
            </design:uiHints>
          </design:attributes>
          <design:usageHints>
            <design:label>area</design:label>
            <design:formattingHints>
              <design:displaySize>-1</design:displaySize>
            </design:formattingHints>
          </design:usageHints>
        </design:resultColumnDefinitions>
        <design:resultColumnDefinitions>
          <design:attributes>
            <design:identifier>
              <design:name>cope</design:name>
              <design:position>4</design:position>
            </design:identifier>
            <design:nativeDataTypeCode>2</design:nativeDataTypeCode>
            <design:precision>-1</design:precision>
            <design:scale>-1</design:scale>
            <design:nullability>Nullable</design:nullability>
            <design:uiHints>
              <design:displayName>cope</design:displayName>
            </design:uiHints>
          </design:attributes>
          <design:usageHints>
            <design:label>cope</design:label>
            <design:formattingHints>
              <design:displaySize>-1</design:displaySize>
            </design:formattingHints>
          </design:usageHints>
        </design:resultColumnDefinitions>
      </design:resultSetColumns>
      <design:criteria/>
    </design:resultSetDefinitions>
  </design:ResultSets>
</model:DesignValues>]]></xml-property>
        </oda-data-set>
        <oda-data-set extensionID="org.eclipse.birt.data.oda.mongodb.dataSet" name="Produccion fibra Maqtel" id="587">
            <list-property name="computedColumns">
                <structure>
                    <property name="name">year</property>
                    <expression name="expression" type="javascript">var fecha = row["_id.reportado"];&#13;
var display = "";&#13;
var apoyo = "";&#13;
&#13;
if(fecha != "" || fecha != null){&#13;
	apoyo = fecha.substring(0,4);&#13;
	display = parseInt(apoyo, 10);&#13;
}&#13;
&#13;
display;</expression>
                    <property name="dataType">integer</property>
                </structure>
                <structure>
                    <property name="name">month</property>
                    <expression name="expression" type="javascript">var fecha = row["_id.reportado"];&#13;
var display = "";&#13;
var apoyo = "";&#13;
&#13;
if(fecha != "" || fecha != null){&#13;
	apoyo = fecha.substring(5,7);&#13;
	display = parseInt(apoyo, 10);&#13;
}&#13;
&#13;
display;</expression>
                    <property name="dataType">integer</property>
                </structure>
                <structure>
                    <property name="name">day</property>
                    <expression name="expression" type="javascript">var fecha = row["_id.reportado"];&#13;
var display = "";&#13;
var apoyo = "";&#13;
&#13;
if(fecha != "" || fecha != null){&#13;
	apoyo = fecha.substring(8);&#13;
	display = parseInt(apoyo, 10);&#13;
}&#13;
&#13;
display;</expression>
                    <property name="dataType">integer</property>
                </structure>
            </list-property>
            <list-property name="columnHints">
                <structure>
                    <property name="columnName">_id.cope</property>
                    <property name="analysis">dimension</property>
                    <text-property name="displayName">_id.cope</text-property>
                    <text-property name="heading">_id.cope</text-property>
                    <property name="indexColumn">false</property>
                    <property name="compressed">false</property>
                </structure>
                <structure>
                    <property name="columnName">_id.reportado</property>
                    <property name="analysis">dimension</property>
                    <text-property name="displayName">_id.reportado</text-property>
                    <text-property name="heading">_id.reportado</text-property>
                    <property name="horizontalAlign">left</property>
                    <property name="indexColumn">false</property>
                    <property name="compressed">false</property>
                </structure>
                <structure>
                    <property name="columnName">_id.tipo</property>
                    <property name="analysis">dimension</property>
                    <text-property name="displayName">_id.tipo</text-property>
                    <text-property name="heading">_id.tipo</text-property>
                </structure>
                <structure>
                    <property name="columnName">cantidad</property>
                    <property name="analysis">measure</property>
                    <text-property name="displayName">cantidad</text-property>
                    <text-property name="heading">cantidad</text-property>
                    <property name="indexColumn">false</property>
                    <property name="compressed">false</property>
                </structure>
                <structure>
                    <property name="columnName">year</property>
                    <property name="analysis">dimension</property>
                    <property name="indexColumn">false</property>
                    <property name="compressed">false</property>
                </structure>
                <structure>
                    <property name="columnName">month</property>
                    <property name="analysis">measure</property>
                </structure>
                <structure>
                    <property name="columnName">day</property>
                    <property name="analysis">measure</property>
                </structure>
            </list-property>
            <list-property name="filter">
                <structure>
                    <property name="operator">ne</property>
                    <expression name="expr" type="javascript">row["_id.reportado"]</expression>
                    <simple-property-list name="value1">
                        <value type="javascript">""</value>
                    </simple-property-list>
                </structure>
            </list-property>
            <list-property name="parameters"/>
            <structure name="cachedMetaData">
                <list-property name="resultSet">
                    <structure>
                        <property name="position">1</property>
                        <property name="name">_id.cope</property>
                        <property name="dataType">string</property>
                    </structure>
                    <structure>
                        <property name="position">2</property>
                        <property name="name">_id.reportado</property>
                        <property name="dataType">string</property>
                    </structure>
                    <structure>
                        <property name="position">3</property>
                        <property name="name">_id.tipo</property>
                        <property name="dataType">string</property>
                    </structure>
                    <structure>
                        <property name="position">4</property>
                        <property name="name">cantidad</property>
                        <property name="dataType">integer</property>
                    </structure>
                    <structure>
                        <property name="position">5</property>
                        <property name="name">year</property>
                        <property name="dataType">integer</property>
                    </structure>
                    <structure>
                        <property name="position">6</property>
                        <property name="name">month</property>
                        <property name="dataType">integer</property>
                    </structure>
                    <structure>
                        <property name="position">7</property>
                        <property name="name">day</property>
                        <property name="dataType">integer</property>
                    </structure>
                </list-property>
            </structure>
            <method name="beforeOpen"><![CDATA[var query = this.queryText.toString();
var year = params["year Maqtel ii"].value;
var year_acumdia = params["year maqtel"].value;
var month = params["month maqtel"].value;
var bookmark = "{$exists:false},";

if(year != null &amp;&amp; year != ""){
	var year_to = year +1;
	new_query = "'answers.f1054000a02000000000fa02': {$gte: '" + year + "-01-01' , $lt: '" + year_to + "-01-01' },";
}
else if ((year_acumdia != null || year_acumdia != "") &amp;&amp; (month != null || month != "")) {
	var year_to = year_acumdia;
	var month_to = month + 1;
	
	if (month == 12) {
		month_to = '01';
		year_to = year_acumdia + 1;
	}
	
	if (month < 10) {
		month = '0' + month;
	}
	if (month_to < 10) {
		month_to = '0' + month_to;
	}
	
	new_query = "'answers.f1054000a02000000000fa02': {$gte: '" + year_acumdia + "-" + month +"-01' , $lt: '" + year_to + "-"+ month_to + "-01' },";
}


query = query.replace(bookmark, bookmark + new_query );
this.queryText = query;]]></method>
            <property name="dataSource">MongoDB</property>
            <list-property name="resultSet">
                <structure>
                    <property name="position">1</property>
                    <property name="name">_id.cope</property>
                    <property name="nativeName">_id.cope</property>
                    <property name="dataType">string</property>
                    <property name="nativeDataType">2</property>
                </structure>
                <structure>
                    <property name="position">2</property>
                    <property name="name">_id.reportado</property>
                    <property name="nativeName">_id.reportado</property>
                    <property name="dataType">string</property>
                    <property name="nativeDataType">2</property>
                </structure>
                <structure>
                    <property name="position">3</property>
                    <property name="name">_id.tipo</property>
                    <property name="nativeName">_id.tipo</property>
                    <property name="dataType">string</property>
                    <property name="nativeDataType">2</property>
                </structure>
                <structure>
                    <property name="position">4</property>
                    <property name="name">cantidad</property>
                    <property name="nativeName">cantidad</property>
                    <property name="dataType">integer</property>
                    <property name="nativeDataType">16</property>
                </structure>
            </list-property>
            <xml-property name="queryText"><![CDATA[{ "operationExpr" : "[{$match:{\r\n\tform_id: {$in: [11044,16343,21953,21954]},\r\n\tdeleted_at:{$exists:false},\r\n\tanswers.f1054000a030000000000002: 'liquidada',\r\n\tanswers.f1054000a0100000000000a2: { $in: ['monterrey_1','monterrey_2','monterrey_foraneas','nuevo_laredo','reynosa','sabinas','tampico']}\r\n}},\r\n{$group: {_id:{\r\n\t\tcope :'$answers.f1054000a010000000000002',\r\n\t\treportado: {$ifNull: ['$answers.f1054000a02000000000fa02', '']},\r\n\t\ttipo: '$answers.f1054000a010000000000021',\r\n  },\r\n  \tcantidad: {$sum:1},\r\n  }}\r\n\r\n]" , "queryReadPreference" : "secondaryPreferred" , "operationType" : "AGGREGATE" , "selectedFields" : [ "_id.cope" , "_id.reportado" , "_id.tipo" , "cantidad"] , "collectionName" : "form_answer"}]]></xml-property>
            <structure name="designerState">
                <property name="version">1.0</property>
                <property name="stateContentAsString">false,1000000000</property>
            </structure>
            <xml-property name="designerValues"><![CDATA[<?xml version="1.0" encoding="UTF-8"?>
<model:DesignValues xmlns:design="http://www.eclipse.org/datatools/connectivity/oda/design" xmlns:model="http://www.eclipse.org/birt/report/model/adapter/odaModel">
  <Version>2.0</Version>
  <design:ResultSets derivedMetaData="true">
    <design:resultSetDefinitions>
      <design:resultSetColumns>
        <design:resultColumnDefinitions>
          <design:attributes>
            <design:identifier>
              <design:name>_id.cope</design:name>
              <design:position>1</design:position>
            </design:identifier>
            <design:nativeDataTypeCode>2</design:nativeDataTypeCode>
            <design:precision>-1</design:precision>
            <design:scale>-1</design:scale>
            <design:nullability>Nullable</design:nullability>
            <design:uiHints>
              <design:displayName>_id.cope</design:displayName>
            </design:uiHints>
          </design:attributes>
          <design:usageHints>
            <design:label>_id.cope</design:label>
            <design:formattingHints>
              <design:displaySize>-1</design:displaySize>
            </design:formattingHints>
          </design:usageHints>
        </design:resultColumnDefinitions>
        <design:resultColumnDefinitions>
          <design:attributes>
            <design:identifier>
              <design:name>_id.reportado</design:name>
              <design:position>2</design:position>
            </design:identifier>
            <design:nativeDataTypeCode>2</design:nativeDataTypeCode>
            <design:precision>-1</design:precision>
            <design:scale>-1</design:scale>
            <design:nullability>Nullable</design:nullability>
            <design:uiHints>
              <design:displayName>_id.reportado</design:displayName>
            </design:uiHints>
          </design:attributes>
          <design:usageHints>
            <design:label>_id.reportado</design:label>
            <design:formattingHints>
              <design:displaySize>-1</design:displaySize>
            </design:formattingHints>
          </design:usageHints>
        </design:resultColumnDefinitions>
        <design:resultColumnDefinitions>
          <design:attributes>
            <design:identifier>
              <design:name>cantidad</design:name>
              <design:position>3</design:position>
            </design:identifier>
            <design:nativeDataTypeCode>16</design:nativeDataTypeCode>
            <design:precision>-1</design:precision>
            <design:scale>-1</design:scale>
            <design:nullability>Nullable</design:nullability>
            <design:uiHints>
              <design:displayName>cantidad</design:displayName>
            </design:uiHints>
          </design:attributes>
          <design:usageHints>
            <design:label>cantidad</design:label>
            <design:formattingHints>
              <design:displaySize>-1</design:displaySize>
            </design:formattingHints>
          </design:usageHints>
        </design:resultColumnDefinitions>
      </design:resultSetColumns>
      <design:criteria/>
    </design:resultSetDefinitions>
  </design:ResultSets>
</model:DesignValues>]]></xml-property>
        </oda-data-set>
        <oda-data-set extensionID="org.eclipse.birt.data.oda.mongodb.dataSet" name="Produccion cobre maqtel" id="588">
            <list-property name="computedColumns">
                <structure>
                    <property name="name">year</property>
                    <expression name="expression" type="javascript">var fecha = row["_id.reportado"];&#13;
var display = "";&#13;
var apoyo = "";&#13;
&#13;
if(fecha != "" || fecha != null){&#13;
	apoyo = fecha.substring(0,4);&#13;
	display = parseInt(apoyo, 10);&#13;
}&#13;
&#13;
display;</expression>
                    <property name="dataType">integer</property>
                </structure>
                <structure>
                    <property name="name">month</property>
                    <expression name="expression" type="javascript">var fecha = row["_id.reportado"];&#13;
var display = "";&#13;
var apoyo = "";&#13;
&#13;
if(fecha != "" || fecha != null){&#13;
	apoyo = fecha.substring(5,7);&#13;
	display = parseInt(apoyo, 10);&#13;
}&#13;
&#13;
display;</expression>
                    <property name="dataType">integer</property>
                </structure>
                <structure>
                    <property name="name">day</property>
                    <expression name="expression" type="javascript">var fecha = row["_id.reportado"];&#13;
var display = "";&#13;
var apoyo = "";&#13;
&#13;
if(fecha != "" || fecha != null){&#13;
	apoyo = fecha.substring(8);&#13;
	display = parseInt(apoyo, 10);&#13;
}&#13;
&#13;
display;</expression>
                    <property name="dataType">integer</property>
                </structure>
            </list-property>
            <list-property name="columnHints">
                <structure>
                    <property name="columnName">_id.cope</property>
                    <property name="analysis">dimension</property>
                    <text-property name="displayName">_id.cope</text-property>
                    <text-property name="heading">_id.cope</text-property>
                    <property name="indexColumn">false</property>
                    <property name="compressed">false</property>
                </structure>
                <structure>
                    <property name="columnName">_id.reportado</property>
                    <property name="analysis">dimension</property>
                    <text-property name="displayName">_id.reportado</text-property>
                    <text-property name="heading">_id.reportado</text-property>
                    <property name="horizontalAlign">left</property>
                    <property name="indexColumn">false</property>
                    <property name="compressed">false</property>
                </structure>
                <structure>
                    <property name="columnName">cantidad</property>
                    <property name="analysis">measure</property>
                    <text-property name="displayName">cantidad</text-property>
                    <text-property name="heading">cantidad</text-property>
                    <property name="indexColumn">false</property>
                    <property name="compressed">false</property>
                </structure>
                <structure>
                    <property name="columnName">_id.tipo</property>
                    <property name="analysis">dimension</property>
                    <text-property name="displayName">_id.tipo</text-property>
                    <text-property name="heading">_id.tipo</text-property>
                </structure>
                <structure>
                    <property name="columnName">year</property>
                    <property name="analysis">dimension</property>
                    <property name="indexColumn">false</property>
                    <property name="compressed">false</property>
                </structure>
                <structure>
                    <property name="columnName">month</property>
                    <property name="analysis">measure</property>
                </structure>
                <structure>
                    <property name="columnName">day</property>
                    <property name="analysis">measure</property>
                </structure>
            </list-property>
            <list-property name="filter">
                <structure>
                    <property name="operator">ne</property>
                    <expression name="expr" type="javascript">row["_id.reportado"]</expression>
                    <simple-property-list name="value1">
                        <value type="javascript">""</value>
                    </simple-property-list>
                </structure>
            </list-property>
            <list-property name="parameters"/>
            <structure name="cachedMetaData">
                <list-property name="resultSet">
                    <structure>
                        <property name="position">1</property>
                        <property name="name">_id.cope</property>
                        <property name="dataType">string</property>
                    </structure>
                    <structure>
                        <property name="position">2</property>
                        <property name="name">_id.reportado</property>
                        <property name="dataType">string</property>
                    </structure>
                    <structure>
                        <property name="position">3</property>
                        <property name="name">cantidad</property>
                        <property name="dataType">integer</property>
                    </structure>
                    <structure>
                        <property name="position">4</property>
                        <property name="name">_id.tipo</property>
                        <property name="dataType">string</property>
                    </structure>
                    <structure>
                        <property name="position">5</property>
                        <property name="name">year</property>
                        <property name="dataType">integer</property>
                    </structure>
                    <structure>
                        <property name="position">6</property>
                        <property name="name">month</property>
                        <property name="dataType">integer</property>
                    </structure>
                    <structure>
                        <property name="position">7</property>
                        <property name="name">day</property>
                        <property name="dataType">integer</property>
                    </structure>
                </list-property>
            </structure>
            <method name="beforeOpen"><![CDATA[var query = this.queryText.toString();
var year = params["year Maqtel ii"].value;
var year_acumdia = params["year maqtel"].value;
var month = params["month maqtel"].value;
var bookmark = "{$exists:false},";

if(year != null &amp;&amp; year != ""){
	var year_to = year +1;
	new_query = "'answers.5a1eecfbb43fdd65914505a1': {$gte: '" + year + "-01-01' , $lt: '" + year_to + "-01-01' },";
}
else if ((year_acumdia != null || year_acumdia != "") &amp;&amp; (month != null || month != "")) {
	var year_to = year_acumdia;
	var month_to = month + 1;
	
	if (month == 12) {
		month_to = '01';
		year_to = year_acumdia + 1;
	}
	
	if (month < 10) {
		month = '0' + month;
	}
	if (month_to < 10) {
		month_to = '0' + month_to;
	}
	
	new_query = "'answers.5a1eecfbb43fdd65914505a1': {$gte: '" + year_acumdia + "-" + month +"-01' , $lt: '" + year_to + "-"+ month_to + "-01' },";
}
query = query.replace(bookmark, bookmark + new_query );
this.queryText = query;]]></method>
            <property name="dataSource">MongoDB</property>
            <list-property name="resultSet">
                <structure>
                    <property name="position">1</property>
                    <property name="name">_id.cope</property>
                    <property name="nativeName">_id.cope</property>
                    <property name="dataType">string</property>
                    <property name="nativeDataType">2</property>
                </structure>
                <structure>
                    <property name="position">2</property>
                    <property name="name">_id.reportado</property>
                    <property name="nativeName">_id.reportado</property>
                    <property name="dataType">string</property>
                    <property name="nativeDataType">2</property>
                </structure>
                <structure>
                    <property name="position">3</property>
                    <property name="name">cantidad</property>
                    <property name="nativeName">cantidad</property>
                    <property name="dataType">integer</property>
                    <property name="nativeDataType">16</property>
                </structure>
                <structure>
                    <property name="position">4</property>
                    <property name="name">_id.tipo</property>
                    <property name="nativeName">_id.tipo</property>
                    <property name="dataType">string</property>
                    <property name="nativeDataType">2</property>
                </structure>
            </list-property>
            <xml-property name="queryText"><![CDATA[{ "operationExpr" : "[{$match:{\r\n\tform_id: {$in: [10540,25928,25927,25929]},\r\n\tdeleted_at:{$exists:false},\r\n\tanswers.f1054000a030000000000002: 'liquidada',\r\n\tanswers.f1054000a0100000000000a2: { $in: ['monterrey_1','monterrey_2','monterrey_foraneas','nuevo_laredo','reynosa','sabinas','tampico']}\r\n}},\r\n{$group: {_id:{\r\n\t\tcope :{$ifNull: ['$answers.f1054000a010000000000002','Sin COPE']},\r\n\t\treportado: {$ifNull: ['$answers.5a1eecfbb43fdd65914505a1', '']},\r\n\t\ttipo: {$ifNull: ['$answers.f1054000a0100000000000a4','sin tipo']},\r\n  },\r\n  \tcantidad: {$sum:1},\r\n  }}\r\n\r\n]" , "queryReadPreference" : "secondaryPreferred" , "operationType" : "AGGREGATE" , "selectedFields" : [ "_id.cope" , "_id.reportado" , "cantidad" , "_id.tipo"] , "collectionName" : "form_answer"}]]></xml-property>
            <structure name="designerState">
                <property name="version">1.0</property>
                <property name="stateContentAsString">false,1000000000</property>
            </structure>
            <xml-property name="designerValues"><![CDATA[<?xml version="1.0" encoding="UTF-8"?>
<model:DesignValues xmlns:design="http://www.eclipse.org/datatools/connectivity/oda/design" xmlns:model="http://www.eclipse.org/birt/report/model/adapter/odaModel">
  <Version>2.0</Version>
  <design:ResultSets derivedMetaData="true">
    <design:resultSetDefinitions>
      <design:resultSetColumns>
        <design:resultColumnDefinitions>
          <design:attributes>
            <design:identifier>
              <design:name>_id.cope</design:name>
              <design:position>1</design:position>
            </design:identifier>
            <design:nativeDataTypeCode>2</design:nativeDataTypeCode>
            <design:precision>-1</design:precision>
            <design:scale>-1</design:scale>
            <design:nullability>Nullable</design:nullability>
            <design:uiHints>
              <design:displayName>_id.cope</design:displayName>
            </design:uiHints>
          </design:attributes>
          <design:usageHints>
            <design:label>_id.cope</design:label>
            <design:formattingHints>
              <design:displaySize>-1</design:displaySize>
            </design:formattingHints>
          </design:usageHints>
        </design:resultColumnDefinitions>
        <design:resultColumnDefinitions>
          <design:attributes>
            <design:identifier>
              <design:name>_id.reportado</design:name>
              <design:position>2</design:position>
            </design:identifier>
            <design:nativeDataTypeCode>2</design:nativeDataTypeCode>
            <design:precision>-1</design:precision>
            <design:scale>-1</design:scale>
            <design:nullability>Nullable</design:nullability>
            <design:uiHints>
              <design:displayName>_id.reportado</design:displayName>
            </design:uiHints>
          </design:attributes>
          <design:usageHints>
            <design:label>_id.reportado</design:label>
            <design:formattingHints>
              <design:displaySize>-1</design:displaySize>
            </design:formattingHints>
          </design:usageHints>
        </design:resultColumnDefinitions>
        <design:resultColumnDefinitions>
          <design:attributes>
            <design:identifier>
              <design:name>cantidad</design:name>
              <design:position>3</design:position>
            </design:identifier>
            <design:nativeDataTypeCode>16</design:nativeDataTypeCode>
            <design:precision>-1</design:precision>
            <design:scale>-1</design:scale>
            <design:nullability>Nullable</design:nullability>
            <design:uiHints>
              <design:displayName>cantidad</design:displayName>
            </design:uiHints>
          </design:attributes>
          <design:usageHints>
            <design:label>cantidad</design:label>
            <design:formattingHints>
              <design:displaySize>-1</design:displaySize>
            </design:formattingHints>
          </design:usageHints>
        </design:resultColumnDefinitions>
      </design:resultSetColumns>
      <design:criteria/>
    </design:resultSetDefinitions>
  </design:ResultSets>
</model:DesignValues>]]></xml-property>
        </oda-data-set>
        <derived-data-set extensionID="com.actuate.birt.data.union" name="Produccion fibra y cobre maqtel" id="589">
            <list-property name="computedColumns">
                <structure>
                    <property name="name">Mes</property>
                    <expression name="expression" type="javascript">var month = row["month"];&#13;
var display = "";&#13;
var months = ["Enero", "Febrero", "Marzo", "Abril", "Mayo", "Junio", "Julio", "Agosto", "Septiembre", "Octubre", "Noviembre", "Diciembre"];&#13;
&#13;
if(month != null || month != ""){&#13;
	display = months[month-1];&#13;
}&#13;
&#13;
display;</expression>
                    <property name="dataType">string</property>
                </structure>
                <structure>
                    <property name="name">Cope</property>
                    <expression name="expression" type="javascript">var area = row["_id.cope"];&#13;
if(area == null){&#13;
	area = "";&#13;
}&#13;
area = area.toUpperCase();&#13;
var arr = area.split('_');&#13;
var resultado = '';&#13;
for (var i = 0; i &lt;arr.length;i++){&#13;
var te =  (new Packages.java.lang.String(arr[i]));&#13;
	resultado = resultado +  new Packages.java.lang.Character.toString(te.charAt(0)).toUpperCase() + te.substring(1);&#13;
	if (i &lt; arr.length - 1) {&#13;
		resultado = resultado + ' ';&#13;
	}&#13;
}&#13;
resultado;</expression>
                    <property name="dataType">string</property>
                </structure>
                <structure>
                    <property name="name">Tipo</property>
                    <expression name="expression" type="javascript">var tipo = row["_id.tipo"];&#13;
var display = "";&#13;
var ts = tipo.indexOf("TS");&#13;
var tk = tipo.indexOf("TK");&#13;
var vsi = tipo.indexOf("VSI");&#13;
var fc = tipo.indexOf("FC");&#13;
&#13;
if(ts != -1 || tk != -1 || vsi != -1 || fc != -1){&#13;
	display = "Migraciones";&#13;
}else{&#13;
	display = "Ordenes de servicio";&#13;
}&#13;
&#13;
display;</expression>
                    <property name="dataType">string</property>
                </structure>
            </list-property>
            <list-property name="columnHints">
                <structure>
                    <property name="columnName">_id.cope</property>
                    <property name="analysis">dimension</property>
                    <text-property name="displayName">_id.cope</text-property>
                    <property name="indexColumn">false</property>
                    <property name="compressed">false</property>
                </structure>
                <structure>
                    <property name="columnName">_id.reportado</property>
                    <property name="analysis">dimension</property>
                    <text-property name="displayName">_id.reportado</text-property>
                    <property name="indexColumn">false</property>
                    <property name="compressed">false</property>
                </structure>
                <structure>
                    <property name="columnName">cantidad</property>
                    <property name="analysis">measure</property>
                    <text-property name="displayName">cantidad</text-property>
                    <property name="indexColumn">false</property>
                    <property name="compressed">false</property>
                </structure>
                <structure>
                    <property name="columnName">year</property>
                    <property name="analysis">dimension</property>
                    <property name="indexColumn">false</property>
                    <property name="compressed">false</property>
                </structure>
                <structure>
                    <property name="columnName">month</property>
                    <property name="analysis">measure</property>
                    <property name="indexColumn">false</property>
                    <property name="compressed">false</property>
                </structure>
                <structure>
                    <property name="columnName">day</property>
                    <property name="analysis">measure</property>
                    <property name="indexColumn">false</property>
                    <property name="compressed">false</property>
                </structure>
                <structure>
                    <property name="columnName">Mes</property>
                    <property name="analysis">dimension</property>
                </structure>
                <structure>
                    <property name="columnName">Cope</property>
                    <property name="analysis">dimension</property>
                </structure>
                <structure>
                    <property name="columnName">Tipo</property>
                    <property name="analysis">dimension</property>
                </structure>
            </list-property>
            <structure name="cachedMetaData">
                <list-property name="resultSet">
                    <structure>
                        <property name="position">1</property>
                        <property name="name">_id.cope</property>
                        <property name="dataType">string</property>
                    </structure>
                    <structure>
                        <property name="position">2</property>
                        <property name="name">_id.reportado</property>
                        <property name="dataType">string</property>
                    </structure>
                    <structure>
                        <property name="position">3</property>
                        <property name="name">_id.tipo</property>
                        <property name="dataType">string</property>
                    </structure>
                    <structure>
                        <property name="position">4</property>
                        <property name="name">cantidad</property>
                        <property name="dataType">integer</property>
                    </structure>
                    <structure>
                        <property name="position">5</property>
                        <property name="name">year</property>
                        <property name="dataType">integer</property>
                    </structure>
                    <structure>
                        <property name="position">6</property>
                        <property name="name">month</property>
                        <property name="dataType">integer</property>
                    </structure>
                    <structure>
                        <property name="position">7</property>
                        <property name="name">day</property>
                        <property name="dataType">integer</property>
                    </structure>
                    <structure>
                        <property name="position">8</property>
                        <property name="name">Mes</property>
                        <property name="dataType">string</property>
                    </structure>
                    <structure>
                        <property name="position">9</property>
                        <property name="name">Cope</property>
                        <property name="dataType">string</property>
                    </structure>
                    <structure>
                        <property name="position">10</property>
                        <property name="name">Tipo</property>
                        <property name="dataType">string</property>
                    </structure>
                </list-property>
            </structure>
            <simple-property-list name="inputDataSets">
                <value>Produccion fibra Maqtel</value>
                <value>Produccion cobre maqtel</value>
            </simple-property-list>
            <xml-property name="queryText"><![CDATA[<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<tns:Union xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://schemas.actuate.com/birt/dataset_union.xsd" xmlns:tns="http://schemas.actuate.com/">
<tns:DataSet Index="0" name="Produccion fibra Maqtel">
<tns:Column name="_id.cope"/>
<tns:Column name="_id.reportado"/>
<tns:Column name="_id.tipo"/>
<tns:Column name="cantidad"/>
<tns:Column name="year"/>
<tns:Column name="month"/>
<tns:Column name="day"/>
</tns:DataSet>
<tns:DataSet Index="1" name="Produccion cobre maqtel">
<tns:Column name="_id.cope"/>
<tns:Column name="_id.reportado"/>
<tns:Column name="cantidad"/>
<tns:Column name="_id.tipo"/>
<tns:Column name="year"/>
<tns:Column name="month"/>
<tns:Column name="day"/>
</tns:DataSet>
</tns:Union>]]></xml-property>
        </derived-data-set>
        <derived-data-set extensionID="com.actuate.birt.data.join" name="Join Maqtel Prod - DSAC" id="612">
            <structure name="cachedMetaData">
                <list-property name="resultSet">
                    <structure>
                        <property name="position">1</property>
                        <property name="name">cantidad</property>
                        <property name="dataType">integer</property>
                    </structure>
                    <structure>
                        <property name="position">2</property>
                        <property name="name">year</property>
                        <property name="dataType">integer</property>
                    </structure>
                    <structure>
                        <property name="position">3</property>
                        <property name="name">month</property>
                        <property name="dataType">integer</property>
                    </structure>
                    <structure>
                        <property name="position">4</property>
                        <property name="name">day</property>
                        <property name="dataType">integer</property>
                    </structure>
                    <structure>
                        <property name="position">5</property>
                        <property name="name">Mes</property>
                        <property name="dataType">string</property>
                    </structure>
                    <structure>
                        <property name="position">6</property>
                        <property name="name">Cope</property>
                        <property name="dataType">string</property>
                    </structure>
                    <structure>
                        <property name="position">7</property>
                        <property name="name">Tipo</property>
                        <property name="dataType">string</property>
                    </structure>
                    <structure>
                        <property name="position">8</property>
                        <property name="name">area</property>
                        <property name="dataType">string</property>
                    </structure>
                    <structure>
                        <property name="position">9</property>
                        <property name="name">cope</property>
                        <property name="dataType">string</property>
                    </structure>
                    <structure>
                        <property name="position">10</property>
                        <property name="name">Division</property>
                        <property name="dataType">string</property>
                    </structure>
                    <structure>
                        <property name="position">11</property>
                        <property name="name">Subdireccion</property>
                        <property name="dataType">string</property>
                    </structure>
                </list-property>
            </structure>
            <simple-property-list name="inputDataSets">
                <value>Produccion fibra y cobre maqtel</value>
                <value>Area-Cope-Div-Sub</value>
            </simple-property-list>
            <xml-property name="queryText"><![CDATA[<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<tns:joinedDataSet xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://schemas.actuate.com/birt/dataset_join.xsd" xmlns:tns="http://schemas.actuate.com/birt/dataset_join.xsd">
<tns:selectColumns>
<tns:Column>Produccion fibra y cobre maqtel::cantidad</tns:Column>
<tns:Column>Produccion fibra y cobre maqtel::year</tns:Column>
<tns:Column>Produccion fibra y cobre maqtel::month</tns:Column>
<tns:Column>Produccion fibra y cobre maqtel::day</tns:Column>
<tns:Column>Produccion fibra y cobre maqtel::Mes</tns:Column>
<tns:Column>Produccion fibra y cobre maqtel::Cope</tns:Column>
<tns:Column>Produccion fibra y cobre maqtel::Tipo</tns:Column>
<tns:Column>Area-Cope-Div-Sub::area</tns:Column>
<tns:Column>Area-Cope-Div-Sub::cope</tns:Column>
<tns:Column>Area-Cope-Div-Sub::Division</tns:Column>
<tns:Column>Area-Cope-Div-Sub::Subdireccion</tns:Column>
</tns:selectColumns>
<tns:joins>
<tns:startingDataSet Index="0" name="Produccion fibra y cobre maqtel"/>
<tns:join>
<tns:type>leftOuter</tns:type>
<tns:dataSet Index="1" name="Area-Cope-Div-Sub"/>
<tns:on>
<tns:condition>
<tns:leftColumn>Produccion fibra y cobre maqtel::Cope</tns:leftColumn>
<tns:rightColumn>Area-Cope-Div-Sub::cope</tns:rightColumn>
<tns:operator>eq</tns:operator>
</tns:condition>
</tns:on>
</tns:join>
</tns:joins>
</tns:joinedDataSet>]]></xml-property>
        </derived-data-set>
        <oda-data-set extensionID="org.eclipse.birt.data.oda.mongodb.dataSet" name="Ao Cobre Maqtel" id="593">
            <list-property name="computedColumns">
                <structure>
                    <property name="name">year</property>
                    <expression name="expression" type="javascript">BirtDateTime.year(row["_id.reportado"])</expression>
                    <property name="dataType">integer</property>
                </structure>
                <structure>
                    <property name="name">month</property>
                    <expression name="expression" type="javascript">BirtDateTime.month(row["_id.reportado"])</expression>
                    <property name="dataType">integer</property>
                </structure>
                <structure>
                    <property name="name">Mes</property>
                    <expression name="expression" type="javascript">var month  = row["month"];&#13;
var months = ["Enero", "Febrero", "Marzo", "Abril", "Mayo", "Junio", "Julio", "Agosto", "Septiembre", "Octubre", "Noviembre", "Diciembre"];&#13;
var display = "";&#13;
if(month != null || month != 0){&#13;
	display = months[month-1];&#13;
}&#13;
&#13;
display;</expression>
                    <property name="dataType">string</property>
                </structure>
            </list-property>
            <list-property name="columnHints">
                <structure>
                    <property name="columnName">_id.reportado</property>
                    <property name="analysis">dimension</property>
                    <text-property name="displayName">_id.reportado</text-property>
                    <text-property name="heading">_id.reportado</text-property>
                    <property name="indexColumn">false</property>
                    <property name="compressed">false</property>
                </structure>
                <structure>
                    <property name="columnName">year</property>
                    <property name="analysis">measure</property>
                </structure>
                <structure>
                    <property name="columnName">month</property>
                    <property name="analysis">measure</property>
                </structure>
                <structure>
                    <property name="columnName">Mes</property>
                    <property name="analysis">dimension</property>
                </structure>
            </list-property>
            <list-property name="filter">
                <structure>
                    <property name="operator">is-not-null</property>
                    <expression name="expr" type="javascript">row["_id.reportado"]</expression>
                </structure>
            </list-property>
            <list-property name="parameters"/>
            <structure name="cachedMetaData">
                <list-property name="resultSet">
                    <structure>
                        <property name="position">1</property>
                        <property name="name">_id.reportado</property>
                        <property name="dataType">string</property>
                    </structure>
                    <structure>
                        <property name="position">2</property>
                        <property name="name">year</property>
                        <property name="dataType">integer</property>
                    </structure>
                    <structure>
                        <property name="position">3</property>
                        <property name="name">month</property>
                        <property name="dataType">integer</property>
                    </structure>
                    <structure>
                        <property name="position">4</property>
                        <property name="name">Mes</property>
                        <property name="dataType">string</property>
                    </structure>
                </list-property>
            </structure>
            <property name="dataSource">MongoDB</property>
            <list-property name="resultSet">
                <structure>
                    <property name="position">1</property>
                    <property name="name">_id.reportado</property>
                    <property name="nativeName">_id.reportado</property>
                    <property name="dataType">string</property>
                    <property name="nativeDataType">2</property>
                </structure>
            </list-property>
            <xml-property name="queryText"><![CDATA[{ "operationExpr" : "[{$match:{\r\n\tform_id: {$in: [10540,25928,25927,25929]},\r\n\tdeleted_at:{$exists:false},\r\n\tanswers.f1054000a030000000000002: 'liquidada',\r\n\t\tanswers.f1054000a0100000000000a2: { $in: ['monterrey_1','monterrey_2','monterrey_foraneas','nuevo_laredo','reynosa','sabinas','tampico']}\r\n}},\r\n{$group: {_id:{\r\n\t\treportado:'$answers.5a1eecfbb43fdd65914505a1', \r\n  },\r\n  \tcantidad: {$sum:1},\r\n  }}\r\n\r\n]" , "queryReadPreference" : "secondaryPreferred" , "operationType" : "AGGREGATE" , "selectedFields" : [ "_id.reportado"] , "collectionName" : "form_answer"}]]></xml-property>
            <structure name="designerState">
                <property name="version">1.0</property>
                <property name="stateContentAsString">false,1000000000</property>
            </structure>
            <xml-property name="designerValues"><![CDATA[<?xml version="1.0" encoding="UTF-8"?>
<model:DesignValues xmlns:design="http://www.eclipse.org/datatools/connectivity/oda/design" xmlns:model="http://www.eclipse.org/birt/report/model/adapter/odaModel">
  <Version>2.0</Version>
  <design:ResultSets derivedMetaData="true">
    <design:resultSetDefinitions>
      <design:resultSetColumns>
        <design:resultColumnDefinitions>
          <design:attributes>
            <design:identifier>
              <design:name>_id.reportado</design:name>
              <design:position>1</design:position>
            </design:identifier>
            <design:nativeDataTypeCode>2</design:nativeDataTypeCode>
            <design:precision>-1</design:precision>
            <design:scale>-1</design:scale>
            <design:nullability>Nullable</design:nullability>
            <design:uiHints>
              <design:displayName>_id.reportado</design:displayName>
            </design:uiHints>
          </design:attributes>
          <design:usageHints>
            <design:label>_id.reportado</design:label>
            <design:formattingHints>
              <design:displaySize>-1</design:displaySize>
            </design:formattingHints>
          </design:usageHints>
        </design:resultColumnDefinitions>
      </design:resultSetColumns>
      <design:criteria/>
    </design:resultSetDefinitions>
  </design:ResultSets>
</model:DesignValues>]]></xml-property>
        </oda-data-set>
        <oda-data-set extensionID="org.eclipse.birt.data.oda.mongodb.dataSet" name="Ao Fibra Maqtel" id="594">
            <list-property name="computedColumns">
                <structure>
                    <property name="name">year</property>
                    <expression name="expression" type="javascript">BirtDateTime.year(row["_id.reportado"])</expression>
                    <property name="dataType">integer</property>
                </structure>
                <structure>
                    <property name="name">month</property>
                    <expression name="expression" type="javascript">BirtDateTime.month(row["_id.reportado"])</expression>
                    <property name="dataType">integer</property>
                </structure>
                <structure>
                    <property name="name">Mes</property>
                    <expression name="expression" type="javascript">var month  = row["month"];&#13;
var months = ["Enero", "Febrero", "Marzo", "Abril", "Mayo", "Junio", "Julio", "Agosto", "Septiembre", "Octubre", "Noviembre", "Diciembre"];&#13;
var display = "";&#13;
if(month != null || month != 0){&#13;
	display = months[month-1];&#13;
}&#13;
&#13;
display;</expression>
                    <property name="dataType">string</property>
                </structure>
            </list-property>
            <list-property name="columnHints">
                <structure>
                    <property name="columnName">_id.reportado</property>
                    <property name="analysis">dimension</property>
                    <text-property name="displayName">_id.reportado</text-property>
                    <text-property name="heading">_id.reportado</text-property>
                    <property name="indexColumn">false</property>
                    <property name="compressed">false</property>
                </structure>
                <structure>
                    <property name="columnName">year</property>
                    <property name="analysis">measure</property>
                    <property name="indexColumn">false</property>
                    <property name="compressed">false</property>
                </structure>
                <structure>
                    <property name="columnName">month</property>
                    <property name="analysis">measure</property>
                    <property name="indexColumn">false</property>
                    <property name="compressed">false</property>
                </structure>
                <structure>
                    <property name="columnName">Mes</property>
                    <property name="analysis">dimension</property>
                    <property name="indexColumn">false</property>
                    <property name="compressed">false</property>
                </structure>
            </list-property>
            <list-property name="filter">
                <structure>
                    <property name="operator">is-not-null</property>
                    <expression name="expr" type="javascript">row["_id.reportado"]</expression>
                </structure>
            </list-property>
            <list-property name="parameters"/>
            <structure name="cachedMetaData">
                <list-property name="resultSet">
                    <structure>
                        <property name="position">1</property>
                        <property name="name">_id.reportado</property>
                        <property name="dataType">string</property>
                    </structure>
                    <structure>
                        <property name="position">2</property>
                        <property name="name">year</property>
                        <property name="dataType">integer</property>
                    </structure>
                    <structure>
                        <property name="position">3</property>
                        <property name="name">month</property>
                        <property name="dataType">integer</property>
                    </structure>
                    <structure>
                        <property name="position">4</property>
                        <property name="name">Mes</property>
                        <property name="dataType">string</property>
                    </structure>
                </list-property>
            </structure>
            <property name="dataSource">MongoDB</property>
            <list-property name="resultSet">
                <structure>
                    <property name="position">1</property>
                    <property name="name">_id.reportado</property>
                    <property name="nativeName">_id.reportado</property>
                    <property name="dataType">string</property>
                    <property name="nativeDataType">2</property>
                </structure>
            </list-property>
            <xml-property name="queryText"><![CDATA[{ "operationExpr" : "[{$match:{\r\n\tform_id: {$in: [11044,16343,21953,21954]},\r\n\tdeleted_at:{$exists:false},\r\n\tanswers.f1054000a030000000000002: 'liquidada',\r\n\tanswers.f1054000a0100000000000a2: { $in: ['monterrey_1','monterrey_2','monterrey_foraneas','nuevo_laredo','reynosa','sabinas','tampico']}\r\n}},\r\n{$group: {_id:{\r\n\t\treportado:'$answers.f1054000a02000000000fa02', \r\n  },\r\n  \tcantidad: {$sum:1},\r\n  }}\r\n\r\n]" , "queryReadPreference" : "secondaryPreferred" , "operationType" : "AGGREGATE" , "selectedFields" : [ "_id.reportado"] , "collectionName" : "form_answer"}]]></xml-property>
            <structure name="designerState">
                <property name="version">1.0</property>
                <property name="stateContentAsString">false,1000000000</property>
            </structure>
            <xml-property name="designerValues"><![CDATA[<?xml version="1.0" encoding="UTF-8"?>
<model:DesignValues xmlns:design="http://www.eclipse.org/datatools/connectivity/oda/design" xmlns:model="http://www.eclipse.org/birt/report/model/adapter/odaModel">
  <Version>2.0</Version>
  <design:ResultSets derivedMetaData="true">
    <design:resultSetDefinitions>
      <design:resultSetColumns>
        <design:resultColumnDefinitions>
          <design:attributes>
            <design:identifier>
              <design:name>_id.reportado</design:name>
              <design:position>1</design:position>
            </design:identifier>
            <design:nativeDataTypeCode>2</design:nativeDataTypeCode>
            <design:precision>-1</design:precision>
            <design:scale>-1</design:scale>
            <design:nullability>Nullable</design:nullability>
            <design:uiHints>
              <design:displayName>_id.reportado</design:displayName>
            </design:uiHints>
          </design:attributes>
          <design:usageHints>
            <design:label>_id.reportado</design:label>
            <design:formattingHints>
              <design:displaySize>-1</design:displaySize>
            </design:formattingHints>
          </design:usageHints>
        </design:resultColumnDefinitions>
      </design:resultSetColumns>
      <design:criteria/>
    </design:resultSetDefinitions>
  </design:ResultSets>
</model:DesignValues>]]></xml-property>
        </oda-data-set>
        <derived-data-set extensionID="com.actuate.birt.data.union" name="Union Aos fibra y cobre Maqtel" id="595">
            <list-property name="columnHints">
                <structure>
                    <property name="columnName">year</property>
                    <property name="analysis">measure</property>
                    <property name="indexColumn">false</property>
                    <property name="compressed">false</property>
                </structure>
            </list-property>
            <structure name="cachedMetaData">
                <list-property name="resultSet">
                    <structure>
                        <property name="position">1</property>
                        <property name="name">year</property>
                        <property name="dataType">integer</property>
                    </structure>
                    <structure>
                        <property name="position">2</property>
                        <property name="name">month</property>
                        <property name="dataType">integer</property>
                    </structure>
                    <structure>
                        <property name="position">3</property>
                        <property name="name">Mes</property>
                        <property name="dataType">string</property>
                    </structure>
                </list-property>
            </structure>
            <simple-property-list name="inputDataSets">
                <value>Ao Cobre Maqtel</value>
                <value>Ao Fibra Maqtel</value>
            </simple-property-list>
            <xml-property name="queryText"><![CDATA[<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<tns:Union xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://schemas.actuate.com/birt/dataset_union.xsd" xmlns:tns="http://schemas.actuate.com/">
<tns:DataSet Index="0" name="Ao Cobre Maqtel">
<tns:Column name="year"/>
<tns:Column name="month"/>
<tns:Column name="Mes"/>
</tns:DataSet>
<tns:DataSet Index="1" name="Ao Fibra Maqtel">
<tns:Column name="year"/>
<tns:Column name="month"/>
<tns:Column name="Mes"/>
</tns:DataSet>
</tns:Union>]]></xml-property>
        </derived-data-set>
        <oda-data-set extensionID="org.eclipse.birt.data.oda.mongodb.dataSet" name="Produccion fibra amsitel" id="613">
            <list-property name="computedColumns">
                <structure>
                    <property name="name">year</property>
                    <expression name="expression" type="javascript">var fecha = row["_id.reportado"];&#13;
var display = "";&#13;
var apoyo = "";&#13;
&#13;
if(fecha != "" || fecha != null){&#13;
	apoyo = fecha.substring(0,4);&#13;
	display = parseInt(apoyo, 10);&#13;
}&#13;
&#13;
display;</expression>
                    <property name="dataType">integer</property>
                </structure>
                <structure>
                    <property name="name">month</property>
                    <expression name="expression" type="javascript">var fecha = row["_id.reportado"];&#13;
var display = "";&#13;
var apoyo = "";&#13;
&#13;
if(fecha != "" || fecha != null){&#13;
	apoyo = fecha.substring(5,7);&#13;
	display = parseInt(apoyo, 10);&#13;
}&#13;
&#13;
display;</expression>
                    <property name="dataType">integer</property>
                </structure>
                <structure>
                    <property name="name">day</property>
                    <expression name="expression" type="javascript">var fecha = row["_id.reportado"];&#13;
var display = "";&#13;
var apoyo = "";&#13;
&#13;
if(fecha != "" || fecha != null){&#13;
	apoyo = fecha.substring(8);&#13;
	display = parseInt(apoyo, 10);&#13;
}&#13;
&#13;
display;</expression>
                    <property name="dataType">integer</property>
                </structure>
            </list-property>
            <list-property name="columnHints">
                <structure>
                    <property name="columnName">_id.cope</property>
                    <property name="analysis">dimension</property>
                    <text-property name="displayName">_id.cope</text-property>
                    <text-property name="heading">_id.cope</text-property>
                    <property name="indexColumn">false</property>
                    <property name="compressed">false</property>
                </structure>
                <structure>
                    <property name="columnName">_id.reportado</property>
                    <property name="analysis">dimension</property>
                    <text-property name="displayName">_id.reportado</text-property>
                    <text-property name="heading">_id.reportado</text-property>
                    <property name="horizontalAlign">left</property>
                    <property name="indexColumn">false</property>
                    <property name="compressed">false</property>
                </structure>
                <structure>
                    <property name="columnName">_id.tipo</property>
                    <property name="analysis">dimension</property>
                    <text-property name="displayName">_id.tipo</text-property>
                    <text-property name="heading">_id.tipo</text-property>
                </structure>
                <structure>
                    <property name="columnName">cantidad</property>
                    <property name="analysis">measure</property>
                    <text-property name="displayName">cantidad</text-property>
                    <text-property name="heading">cantidad</text-property>
                    <property name="indexColumn">false</property>
                    <property name="compressed">false</property>
                </structure>
                <structure>
                    <property name="columnName">year</property>
                    <property name="analysis">dimension</property>
                    <property name="indexColumn">false</property>
                    <property name="compressed">false</property>
                </structure>
                <structure>
                    <property name="columnName">month</property>
                    <property name="analysis">measure</property>
                </structure>
                <structure>
                    <property name="columnName">day</property>
                    <property name="analysis">measure</property>
                </structure>
            </list-property>
            <list-property name="filter">
                <structure>
                    <property name="operator">ne</property>
                    <expression name="expr" type="javascript">row["_id.reportado"]</expression>
                    <simple-property-list name="value1">
                        <value type="javascript">""</value>
                    </simple-property-list>
                </structure>
                <structure>
                    <property name="operator">ne</property>
                    <expression name="expr" type="javascript">row["_id.cope"]</expression>
                    <simple-property-list name="value1">
                        <value type="javascript">"villa_nicolas_romero"</value>
                    </simple-property-list>
                </structure>
                <structure>
                    <property name="operator">ne</property>
                    <expression name="expr" type="javascript">row["_id.cope"]</expression>
                    <simple-property-list name="value1">
                        <value type="javascript">"santa_fe_[mex]"</value>
                    </simple-property-list>
                </structure>
                <structure>
                    <property name="operator">ne</property>
                    <expression name="expr" type="javascript">row["_id.cope"]</expression>
                    <simple-property-list name="value1">
                        <value type="javascript">"satelite"</value>
                    </simple-property-list>
                </structure>
                <structure>
                    <property name="operator">ne</property>
                    <expression name="expr" type="javascript">row["_id.cope"]</expression>
                    <simple-property-list name="value1">
                        <value type="javascript">"tezozomoc"</value>
                    </simple-property-list>
                </structure>
                <structure>
                    <property name="operator">ne</property>
                    <expression name="expr" type="javascript">row["_id.cope"]</expression>
                    <simple-property-list name="value1">
                        <value type="javascript">"colina"</value>
                    </simple-property-list>
                </structure>
            </list-property>
            <list-property name="parameters"/>
            <structure name="cachedMetaData">
                <list-property name="resultSet">
                    <structure>
                        <property name="position">1</property>
                        <property name="name">_id.cope</property>
                        <property name="dataType">string</property>
                    </structure>
                    <structure>
                        <property name="position">2</property>
                        <property name="name">_id.reportado</property>
                        <property name="dataType">string</property>
                    </structure>
                    <structure>
                        <property name="position">3</property>
                        <property name="name">_id.tipo</property>
                        <property name="dataType">string</property>
                    </structure>
                    <structure>
                        <property name="position">4</property>
                        <property name="name">cantidad</property>
                        <property name="dataType">integer</property>
                    </structure>
                    <structure>
                        <property name="position">5</property>
                        <property name="name">year</property>
                        <property name="dataType">integer</property>
                    </structure>
                    <structure>
                        <property name="position">6</property>
                        <property name="name">month</property>
                        <property name="dataType">integer</property>
                    </structure>
                    <structure>
                        <property name="position">7</property>
                        <property name="name">day</property>
                        <property name="dataType">integer</property>
                    </structure>
                </list-property>
            </structure>
            <method name="beforeOpen"><![CDATA[var query = this.queryText.toString();
var year = params["year"].value;
var year_acumdia = params["year amsitel"].value;
var month = params["month amsitel"].value;
var bookmark = "{$exists:false},";

if(year != null &amp;&amp; year != ""){
	var year_to = year +1;
	new_query = "'answers.f1054000a02000000000fa02': {$gte: '" + year + "-01-01' , $lt: '" + year_to + "-01-01' },";
}
else if ((year_acumdia != null || year_acumdia != "") &amp;&amp; (month != null || month != "")) {
	var year_to = year_acumdia;
	var month_to = month + 1;
	
	if (month == 12) {
		month_to = '01';
		year_to = year_acumdia + 1;
	}
	
	if (month < 10) {
		month = '0' + month;
	}
	if (month_to < 10) {
		month_to = '0' + month_to;
	}
	
	new_query = "'answers.f1054000a02000000000fa02': {$gte: '" + year_acumdia + "-" + month +"-01' , $lt: '" + year_to + "-"+ month_to + "-01' },";
}


query = query.replace(bookmark, bookmark + new_query );
this.queryText = query;]]></method>
            <property name="dataSource">MongoDB</property>
            <list-property name="resultSet">
                <structure>
                    <property name="position">1</property>
                    <property name="name">_id.cope</property>
                    <property name="nativeName">_id.cope</property>
                    <property name="dataType">string</property>
                    <property name="nativeDataType">2</property>
                </structure>
                <structure>
                    <property name="position">2</property>
                    <property name="name">_id.reportado</property>
                    <property name="nativeName">_id.reportado</property>
                    <property name="dataType">string</property>
                    <property name="nativeDataType">2</property>
                </structure>
                <structure>
                    <property name="position">3</property>
                    <property name="name">_id.tipo</property>
                    <property name="nativeName">_id.tipo</property>
                    <property name="dataType">string</property>
                    <property name="nativeDataType">2</property>
                </structure>
                <structure>
                    <property name="position">4</property>
                    <property name="name">cantidad</property>
                    <property name="nativeName">cantidad</property>
                    <property name="dataType">integer</property>
                    <property name="nativeDataType">16</property>
                </structure>
            </list-property>
            <xml-property name="queryText"><![CDATA[{ "operationExpr" : "[{$match:{\r\n\tform_id: {$in: [11044,16343,21953,21954]},\r\n\tdeleted_at:{$exists:false},\r\n\tanswers.f1054000a030000000000002: 'liquidada',\r\n\tanswers.f1054000a0100000000000a2: { $in: ['balbuena', 'cd_juarez', 'chihuahua','cuautitlan-morelos','durango','ermita-tlahuac','lindavista','lomas','satelite','sotelo','texcoco-zaragoza','torreon']},\r\n\tconnection_id: {$nin: [2071,2727,2072,2073]},\r\n}},\r\n{$group: {_id:{\r\n\t\tcope :'$answers.f1054000a010000000000002',\r\n\t\treportado: {$ifNull: ['$answers.f1054000a02000000000fa02', '']},\r\n\t\ttipo: '$answers.f1054000a010000000000021',\r\n  },\r\n  \tcantidad: {$sum:1},\r\n  }}\r\n\r\n]" , "queryReadPreference" : "secondaryPreferred" , "operationType" : "AGGREGATE" , "selectedFields" : [ "_id.cope" , "_id.reportado" , "_id.tipo" , "cantidad"] , "collectionName" : "form_answer"}]]></xml-property>
            <structure name="designerState">
                <property name="version">1.0</property>
                <property name="stateContentAsString">false,1000000000</property>
            </structure>
            <xml-property name="designerValues"><![CDATA[<?xml version="1.0" encoding="UTF-8"?>
<model:DesignValues xmlns:design="http://www.eclipse.org/datatools/connectivity/oda/design" xmlns:model="http://www.eclipse.org/birt/report/model/adapter/odaModel">
  <Version>2.0</Version>
  <design:ResultSets derivedMetaData="true">
    <design:resultSetDefinitions>
      <design:resultSetColumns>
        <design:resultColumnDefinitions>
          <design:attributes>
            <design:identifier>
              <design:name>_id.cope</design:name>
              <design:position>1</design:position>
            </design:identifier>
            <design:nativeDataTypeCode>2</design:nativeDataTypeCode>
            <design:precision>-1</design:precision>
            <design:scale>-1</design:scale>
            <design:nullability>Nullable</design:nullability>
            <design:uiHints>
              <design:displayName>_id.cope</design:displayName>
            </design:uiHints>
          </design:attributes>
          <design:usageHints>
            <design:label>_id.cope</design:label>
            <design:formattingHints>
              <design:displaySize>-1</design:displaySize>
            </design:formattingHints>
          </design:usageHints>
        </design:resultColumnDefinitions>
        <design:resultColumnDefinitions>
          <design:attributes>
            <design:identifier>
              <design:name>_id.reportado</design:name>
              <design:position>2</design:position>
            </design:identifier>
            <design:nativeDataTypeCode>2</design:nativeDataTypeCode>
            <design:precision>-1</design:precision>
            <design:scale>-1</design:scale>
            <design:nullability>Nullable</design:nullability>
            <design:uiHints>
              <design:displayName>_id.reportado</design:displayName>
            </design:uiHints>
          </design:attributes>
          <design:usageHints>
            <design:label>_id.reportado</design:label>
            <design:formattingHints>
              <design:displaySize>-1</design:displaySize>
            </design:formattingHints>
          </design:usageHints>
        </design:resultColumnDefinitions>
        <design:resultColumnDefinitions>
          <design:attributes>
            <design:identifier>
              <design:name>cantidad</design:name>
              <design:position>3</design:position>
            </design:identifier>
            <design:nativeDataTypeCode>16</design:nativeDataTypeCode>
            <design:precision>-1</design:precision>
            <design:scale>-1</design:scale>
            <design:nullability>Nullable</design:nullability>
            <design:uiHints>
              <design:displayName>cantidad</design:displayName>
            </design:uiHints>
          </design:attributes>
          <design:usageHints>
            <design:label>cantidad</design:label>
            <design:formattingHints>
              <design:displaySize>-1</design:displaySize>
            </design:formattingHints>
          </design:usageHints>
        </design:resultColumnDefinitions>
      </design:resultSetColumns>
      <design:criteria/>
    </design:resultSetDefinitions>
  </design:ResultSets>
</model:DesignValues>]]></xml-property>
        </oda-data-set>
        <oda-data-set extensionID="org.eclipse.birt.data.oda.mongodb.dataSet" name="Produccion cobre amsitel" id="614">
            <list-property name="computedColumns">
                <structure>
                    <property name="name">year</property>
                    <expression name="expression" type="javascript">var fecha = row["_id.reportado"];&#13;
var display = "";&#13;
var apoyo = "";&#13;
&#13;
if(fecha != "" || fecha != null){&#13;
	apoyo = fecha.substring(0,4);&#13;
	display = parseInt(apoyo, 10);&#13;
}&#13;
&#13;
display;</expression>
                    <property name="dataType">integer</property>
                </structure>
                <structure>
                    <property name="name">month</property>
                    <expression name="expression" type="javascript">var fecha = row["_id.reportado"];&#13;
var display = "";&#13;
var apoyo = "";&#13;
&#13;
if(fecha != "" || fecha != null){&#13;
	apoyo = fecha.substring(5,7);&#13;
	display = parseInt(apoyo, 10);&#13;
}&#13;
&#13;
display;</expression>
                    <property name="dataType">integer</property>
                </structure>
                <structure>
                    <property name="name">day</property>
                    <expression name="expression" type="javascript">var fecha = row["_id.reportado"];&#13;
var display = "";&#13;
var apoyo = "";&#13;
&#13;
if(fecha != "" || fecha != null){&#13;
	apoyo = fecha.substring(8);&#13;
	display = parseInt(apoyo, 10);&#13;
}&#13;
&#13;
display;</expression>
                    <property name="dataType">integer</property>
                </structure>
            </list-property>
            <list-property name="columnHints">
                <structure>
                    <property name="columnName">_id.cope</property>
                    <property name="analysis">dimension</property>
                    <text-property name="displayName">_id.cope</text-property>
                    <text-property name="heading">_id.cope</text-property>
                    <property name="indexColumn">false</property>
                    <property name="compressed">false</property>
                </structure>
                <structure>
                    <property name="columnName">_id.reportado</property>
                    <property name="analysis">dimension</property>
                    <text-property name="displayName">_id.reportado</text-property>
                    <text-property name="heading">_id.reportado</text-property>
                    <property name="horizontalAlign">left</property>
                    <property name="indexColumn">false</property>
                    <property name="compressed">false</property>
                </structure>
                <structure>
                    <property name="columnName">cantidad</property>
                    <property name="analysis">measure</property>
                    <text-property name="displayName">cantidad</text-property>
                    <text-property name="heading">cantidad</text-property>
                    <property name="indexColumn">false</property>
                    <property name="compressed">false</property>
                </structure>
                <structure>
                    <property name="columnName">_id.tipo</property>
                    <property name="analysis">dimension</property>
                    <text-property name="displayName">_id.tipo</text-property>
                    <text-property name="heading">_id.tipo</text-property>
                </structure>
                <structure>
                    <property name="columnName">year</property>
                    <property name="analysis">dimension</property>
                    <property name="indexColumn">false</property>
                    <property name="compressed">false</property>
                </structure>
                <structure>
                    <property name="columnName">month</property>
                    <property name="analysis">measure</property>
                </structure>
                <structure>
                    <property name="columnName">day</property>
                    <property name="analysis">measure</property>
                </structure>
            </list-property>
            <list-property name="filter">
                <structure>
                    <property name="operator">ne</property>
                    <expression name="expr" type="javascript">row["_id.reportado"]</expression>
                    <simple-property-list name="value1">
                        <value type="javascript">""</value>
                    </simple-property-list>
                </structure>
                <structure>
                    <property name="operator">ne</property>
                    <expression name="expr" type="javascript">row["_id.cope"]</expression>
                    <simple-property-list name="value1">
                        <value type="javascript">"villa_nicolas_romero"</value>
                    </simple-property-list>
                </structure>
                <structure>
                    <property name="operator">ne</property>
                    <expression name="expr" type="javascript">row["_id.cope"]</expression>
                    <simple-property-list name="value1">
                        <value type="javascript">"santa_fe_[mex]"</value>
                    </simple-property-list>
                </structure>
                <structure>
                    <property name="operator">ne</property>
                    <expression name="expr" type="javascript">row["_id.cope"]</expression>
                    <simple-property-list name="value1">
                        <value type="javascript">"satelite"</value>
                    </simple-property-list>
                </structure>
                <structure>
                    <property name="operator">ne</property>
                    <expression name="expr" type="javascript">row["_id.cope"]</expression>
                    <simple-property-list name="value1">
                        <value type="javascript">"tezozomoc"</value>
                    </simple-property-list>
                </structure>
                <structure>
                    <property name="operator">ne</property>
                    <expression name="expr" type="javascript">row["_id.cope"]</expression>
                    <simple-property-list name="value1">
                        <value type="javascript">"colina"</value>
                    </simple-property-list>
                </structure>
            </list-property>
            <list-property name="parameters"/>
            <structure name="cachedMetaData">
                <list-property name="resultSet">
                    <structure>
                        <property name="position">1</property>
                        <property name="name">_id.cope</property>
                        <property name="dataType">string</property>
                    </structure>
                    <structure>
                        <property name="position">2</property>
                        <property name="name">_id.reportado</property>
                        <property name="dataType">string</property>
                    </structure>
                    <structure>
                        <property name="position">3</property>
                        <property name="name">cantidad</property>
                        <property name="dataType">integer</property>
                    </structure>
                    <structure>
                        <property name="position">4</property>
                        <property name="name">_id.tipo</property>
                        <property name="dataType">string</property>
                    </structure>
                    <structure>
                        <property name="position">5</property>
                        <property name="name">year</property>
                        <property name="dataType">integer</property>
                    </structure>
                    <structure>
                        <property name="position">6</property>
                        <property name="name">month</property>
                        <property name="dataType">integer</property>
                    </structure>
                    <structure>
                        <property name="position">7</property>
                        <property name="name">day</property>
                        <property name="dataType">integer</property>
                    </structure>
                </list-property>
            </structure>
            <method name="beforeOpen"><![CDATA[var query = this.queryText.toString();
var year = params["year"].value;
var year_acumdia = params["year amsitel"].value;
var month = params["month amsitel"].value;
var bookmark = "{$exists:false},";

if(year != null &amp;&amp; year != ""){
	var year_to = year +1;
	new_query = "'answers.5a1eecfbb43fdd65914505a1': {$gte: '" + year + "-01-01' , $lt: '" + year_to + "-01-01' },";
}
else if ((year_acumdia != null || year_acumdia != "") &amp;&amp; (month != null || month != "")) {
	var year_to = year_acumdia;
	var month_to = month + 1;
	
	if (month == 12) {
		month_to = '01';
		year_to = year_acumdia + 1;
	}
	
	if (month < 10) {
		month = '0' + month;
	}
	if (month_to < 10) {
		month_to = '0' + month_to;
	}
	
	new_query = "'answers.5a1eecfbb43fdd65914505a1': {$gte: '" + year_acumdia + "-" + month +"-01' , $lt: '" + year_to + "-"+ month_to + "-01' },";
}
query = query.replace(bookmark, bookmark + new_query );
this.queryText = query;]]></method>
            <property name="dataSource">MongoDB</property>
            <list-property name="resultSet">
                <structure>
                    <property name="position">1</property>
                    <property name="name">_id.cope</property>
                    <property name="nativeName">_id.cope</property>
                    <property name="dataType">string</property>
                    <property name="nativeDataType">2</property>
                </structure>
                <structure>
                    <property name="position">2</property>
                    <property name="name">_id.reportado</property>
                    <property name="nativeName">_id.reportado</property>
                    <property name="dataType">string</property>
                    <property name="nativeDataType">2</property>
                </structure>
                <structure>
                    <property name="position">3</property>
                    <property name="name">cantidad</property>
                    <property name="nativeName">cantidad</property>
                    <property name="dataType">integer</property>
                    <property name="nativeDataType">16</property>
                </structure>
                <structure>
                    <property name="position">4</property>
                    <property name="name">_id.tipo</property>
                    <property name="nativeName">_id.tipo</property>
                    <property name="dataType">string</property>
                    <property name="nativeDataType">2</property>
                </structure>
            </list-property>
            <xml-property name="queryText"><![CDATA[{ "operationExpr" : "[{$match:{\r\n\tform_id: {$in: [10540,25928,25927,25929]},\r\n\tdeleted_at:{$exists:false},\r\n\tanswers.f1054000a030000000000002: 'liquidada',\r\n\tanswers.f1054000a0100000000000a2: { $in: ['balbuena', 'cd_juarez', 'chihuahua','cuautitlan-morelos','durango','ermita-tlahuac','lindavista','lomas','satelite','sotelo','texcoco-zaragoza','torreon']},\r\n\tconnection_id: {$nin: [2071,2727,2072,2073]},\r\n}},\r\n{$group: {_id:{\r\n\t\tcope :{$ifNull: ['$answers.f1054000a010000000000002','Sin COPE']},\r\n\t\treportado: {$ifNull: ['$answers.5a1eecfbb43fdd65914505a1', '']},\r\n\t\ttipo: {$ifNull: ['$answers.f1054000a0100000000000a4','sin tipo']},\r\n  },\r\n  \tcantidad: {$sum:1},\r\n  }}\r\n\r\n]" , "queryReadPreference" : "secondaryPreferred" , "operationType" : "AGGREGATE" , "selectedFields" : [ "_id.cope" , "_id.reportado" , "cantidad" , "_id.tipo"] , "collectionName" : "form_answer"}]]></xml-property>
            <structure name="designerState">
                <property name="version">1.0</property>
                <property name="stateContentAsString">false,1000000000</property>
            </structure>
            <xml-property name="designerValues"><![CDATA[<?xml version="1.0" encoding="UTF-8"?>
<model:DesignValues xmlns:design="http://www.eclipse.org/datatools/connectivity/oda/design" xmlns:model="http://www.eclipse.org/birt/report/model/adapter/odaModel">
  <Version>2.0</Version>
  <design:ResultSets derivedMetaData="true">
    <design:resultSetDefinitions>
      <design:resultSetColumns>
        <design:resultColumnDefinitions>
          <design:attributes>
            <design:identifier>
              <design:name>_id.cope</design:name>
              <design:position>1</design:position>
            </design:identifier>
            <design:nativeDataTypeCode>2</design:nativeDataTypeCode>
            <design:precision>-1</design:precision>
            <design:scale>-1</design:scale>
            <design:nullability>Nullable</design:nullability>
            <design:uiHints>
              <design:displayName>_id.cope</design:displayName>
            </design:uiHints>
          </design:attributes>
          <design:usageHints>
            <design:label>_id.cope</design:label>
            <design:formattingHints>
              <design:displaySize>-1</design:displaySize>
            </design:formattingHints>
          </design:usageHints>
        </design:resultColumnDefinitions>
        <design:resultColumnDefinitions>
          <design:attributes>
            <design:identifier>
              <design:name>_id.reportado</design:name>
              <design:position>2</design:position>
            </design:identifier>
            <design:nativeDataTypeCode>2</design:nativeDataTypeCode>
            <design:precision>-1</design:precision>
            <design:scale>-1</design:scale>
            <design:nullability>Nullable</design:nullability>
            <design:uiHints>
              <design:displayName>_id.reportado</design:displayName>
            </design:uiHints>
          </design:attributes>
          <design:usageHints>
            <design:label>_id.reportado</design:label>
            <design:formattingHints>
              <design:displaySize>-1</design:displaySize>
            </design:formattingHints>
          </design:usageHints>
        </design:resultColumnDefinitions>
        <design:resultColumnDefinitions>
          <design:attributes>
            <design:identifier>
              <design:name>cantidad</design:name>
              <design:position>3</design:position>
            </design:identifier>
            <design:nativeDataTypeCode>16</design:nativeDataTypeCode>
            <design:precision>-1</design:precision>
            <design:scale>-1</design:scale>
            <design:nullability>Nullable</design:nullability>
            <design:uiHints>
              <design:displayName>cantidad</design:displayName>
            </design:uiHints>
          </design:attributes>
          <design:usageHints>
            <design:label>cantidad</design:label>
            <design:formattingHints>
              <design:displaySize>-1</design:displaySize>
            </design:formattingHints>
          </design:usageHints>
        </design:resultColumnDefinitions>
      </design:resultSetColumns>
      <design:criteria/>
    </design:resultSetDefinitions>
  </design:ResultSets>
</model:DesignValues>]]></xml-property>
        </oda-data-set>
        <derived-data-set extensionID="com.actuate.birt.data.union" name="Produccion fibra y cobre amsitel" id="622">
            <list-property name="computedColumns">
                <structure>
                    <property name="name">Mes</property>
                    <expression name="expression" type="javascript">var month = row["month"];&#13;
var display = "";&#13;
var months = ["Enero", "Febrero", "Marzo", "Abril", "Mayo", "Junio", "Julio", "Agosto", "Septiembre", "Octubre", "Noviembre", "Diciembre"];&#13;
&#13;
if(month != null || month != ""){&#13;
	display = months[month-1];&#13;
}&#13;
&#13;
display;</expression>
                    <property name="dataType">string</property>
                </structure>
                <structure>
                    <property name="name">Cope</property>
                    <expression name="expression" type="javascript">var area = row["_id.cope"];&#13;
if(area == null){&#13;
	area = "";&#13;
}&#13;
area = area.toUpperCase();&#13;
var arr = area.split('_');&#13;
var resultado = '';&#13;
for (var i = 0; i &lt;arr.length;i++){&#13;
var te =  (new Packages.java.lang.String(arr[i]));&#13;
	resultado = resultado +  new Packages.java.lang.Character.toString(te.charAt(0)).toUpperCase() + te.substring(1);&#13;
	if (i &lt; arr.length - 1) {&#13;
		resultado = resultado + ' ';&#13;
	}&#13;
}&#13;
resultado;</expression>
                    <property name="dataType">string</property>
                </structure>
                <structure>
                    <property name="name">Tipo</property>
                    <expression name="expression" type="javascript">var tipo = row["_id.tipo"];&#13;
var display = "";&#13;
var ts = tipo.indexOf("TS");&#13;
var tk = tipo.indexOf("TK");&#13;
var vsi = tipo.indexOf("VSI");&#13;
var fc = tipo.indexOf("FC");&#13;
&#13;
if(ts != -1 || tk != -1 || vsi != -1 || fc != -1){&#13;
	display = "Migraciones";&#13;
}else{&#13;
	display = "Ordenes de servicio";&#13;
}&#13;
&#13;
display;</expression>
                    <property name="dataType">string</property>
                </structure>
            </list-property>
            <list-property name="columnHints">
                <structure>
                    <property name="columnName">_id.cope</property>
                    <property name="analysis">dimension</property>
                    <text-property name="displayName">_id.cope</text-property>
                    <property name="indexColumn">false</property>
                    <property name="compressed">false</property>
                </structure>
                <structure>
                    <property name="columnName">_id.reportado</property>
                    <property name="analysis">dimension</property>
                    <text-property name="displayName">_id.reportado</text-property>
                    <property name="indexColumn">false</property>
                    <property name="compressed">false</property>
                </structure>
                <structure>
                    <property name="columnName">cantidad</property>
                    <property name="analysis">measure</property>
                    <text-property name="displayName">cantidad</text-property>
                    <property name="indexColumn">false</property>
                    <property name="compressed">false</property>
                </structure>
                <structure>
                    <property name="columnName">year</property>
                    <property name="analysis">dimension</property>
                    <property name="indexColumn">false</property>
                    <property name="compressed">false</property>
                </structure>
                <structure>
                    <property name="columnName">month</property>
                    <property name="analysis">measure</property>
                    <property name="indexColumn">false</property>
                    <property name="compressed">false</property>
                </structure>
                <structure>
                    <property name="columnName">day</property>
                    <property name="analysis">measure</property>
                    <property name="indexColumn">false</property>
                    <property name="compressed">false</property>
                </structure>
                <structure>
                    <property name="columnName">Mes</property>
                    <property name="analysis">dimension</property>
                </structure>
                <structure>
                    <property name="columnName">Cope</property>
                    <property name="analysis">dimension</property>
                </structure>
                <structure>
                    <property name="columnName">Tipo</property>
                    <property name="analysis">dimension</property>
                </structure>
            </list-property>
            <structure name="cachedMetaData">
                <list-property name="resultSet">
                    <structure>
                        <property name="position">1</property>
                        <property name="name">_id.cope</property>
                        <property name="dataType">string</property>
                    </structure>
                    <structure>
                        <property name="position">2</property>
                        <property name="name">_id.reportado</property>
                        <property name="dataType">string</property>
                    </structure>
                    <structure>
                        <property name="position">3</property>
                        <property name="name">_id.tipo</property>
                        <property name="dataType">string</property>
                    </structure>
                    <structure>
                        <property name="position">4</property>
                        <property name="name">cantidad</property>
                        <property name="dataType">integer</property>
                    </structure>
                    <structure>
                        <property name="position">5</property>
                        <property name="name">year</property>
                        <property name="dataType">integer</property>
                    </structure>
                    <structure>
                        <property name="position">6</property>
                        <property name="name">month</property>
                        <property name="dataType">integer</property>
                    </structure>
                    <structure>
                        <property name="position">7</property>
                        <property name="name">day</property>
                        <property name="dataType">integer</property>
                    </structure>
                    <structure>
                        <property name="position">8</property>
                        <property name="name">Mes</property>
                        <property name="dataType">string</property>
                    </structure>
                    <structure>
                        <property name="position">9</property>
                        <property name="name">Cope</property>
                        <property name="dataType">string</property>
                    </structure>
                    <structure>
                        <property name="position">10</property>
                        <property name="name">Tipo</property>
                        <property name="dataType">string</property>
                    </structure>
                </list-property>
            </structure>
            <simple-property-list name="inputDataSets">
                <value>Produccion fibra amsitel</value>
                <value>Produccion cobre amsitel</value>
            </simple-property-list>
            <xml-property name="queryText"><![CDATA[<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<tns:Union xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://schemas.actuate.com/birt/dataset_union.xsd" xmlns:tns="http://schemas.actuate.com/">
<tns:DataSet Index="0" name="Produccion fibra amsitel">
<tns:Column name="_id.cope"/>
<tns:Column name="_id.reportado"/>
<tns:Column name="_id.tipo"/>
<tns:Column name="cantidad"/>
<tns:Column name="year"/>
<tns:Column name="month"/>
<tns:Column name="day"/>
</tns:DataSet>
<tns:DataSet Index="1" name="Produccion cobre amsitel">
<tns:Column name="_id.cope"/>
<tns:Column name="_id.reportado"/>
<tns:Column name="cantidad"/>
<tns:Column name="_id.tipo"/>
<tns:Column name="year"/>
<tns:Column name="month"/>
<tns:Column name="day"/>
</tns:DataSet>
</tns:Union>]]></xml-property>
        </derived-data-set>
        <oda-data-set extensionID="org.eclipse.birt.data.oda.mongodb.dataSet" name="Ao Cobre Amsitel" id="617">
            <list-property name="computedColumns">
                <structure>
                    <property name="name">year</property>
                    <expression name="expression" type="javascript">BirtDateTime.year(row["_id.reportado"])</expression>
                    <property name="dataType">integer</property>
                </structure>
                <structure>
                    <property name="name">month</property>
                    <expression name="expression" type="javascript">BirtDateTime.month(row["_id.reportado"])</expression>
                    <property name="dataType">integer</property>
                </structure>
                <structure>
                    <property name="name">Mes</property>
                    <expression name="expression" type="javascript">var month  = row["month"];&#13;
var months = ["Enero", "Febrero", "Marzo", "Abril", "Mayo", "Junio", "Julio", "Agosto", "Septiembre", "Octubre", "Noviembre", "Diciembre"];&#13;
var display = "";&#13;
if(month != null || month != 0){&#13;
	display = months[month-1];&#13;
}&#13;
&#13;
display;</expression>
                    <property name="dataType">string</property>
                </structure>
            </list-property>
            <list-property name="columnHints">
                <structure>
                    <property name="columnName">_id.reportado</property>
                    <property name="analysis">dimension</property>
                    <text-property name="displayName">_id.reportado</text-property>
                    <text-property name="heading">_id.reportado</text-property>
                    <property name="indexColumn">false</property>
                    <property name="compressed">false</property>
                </structure>
                <structure>
                    <property name="columnName">year</property>
                    <property name="analysis">measure</property>
                </structure>
                <structure>
                    <property name="columnName">month</property>
                    <property name="analysis">measure</property>
                </structure>
                <structure>
                    <property name="columnName">Mes</property>
                    <property name="analysis">dimension</property>
                </structure>
            </list-property>
            <list-property name="filter">
                <structure>
                    <property name="operator">is-not-null</property>
                    <expression name="expr" type="javascript">row["_id.reportado"]</expression>
                </structure>
            </list-property>
            <list-property name="parameters"/>
            <structure name="cachedMetaData">
                <list-property name="resultSet">
                    <structure>
                        <property name="position">1</property>
                        <property name="name">_id.reportado</property>
                        <property name="dataType">string</property>
                    </structure>
                    <structure>
                        <property name="position">2</property>
                        <property name="name">year</property>
                        <property name="dataType">integer</property>
                    </structure>
                    <structure>
                        <property name="position">3</property>
                        <property name="name">month</property>
                        <property name="dataType">integer</property>
                    </structure>
                    <structure>
                        <property name="position">4</property>
                        <property name="name">Mes</property>
                        <property name="dataType">string</property>
                    </structure>
                </list-property>
            </structure>
            <property name="dataSource">MongoDB</property>
            <list-property name="resultSet">
                <structure>
                    <property name="position">1</property>
                    <property name="name">_id.reportado</property>
                    <property name="nativeName">_id.reportado</property>
                    <property name="dataType">string</property>
                    <property name="nativeDataType">2</property>
                </structure>
            </list-property>
            <xml-property name="queryText"><![CDATA[{ "operationExpr" : "[{$match:{\r\n\tform_id: {$in: [10540,25928,25927,25929]},\r\n\tdeleted_at:{$exists:false},\r\n\tanswers.f1054000a030000000000002: 'liquidada',\r\n\tanswers.f1054000a0100000000000a2: { $in: ['balbuena', 'cd_juarez', 'chihuahua','cuautitlan-morelos','durango','ermita-tlahuac','lindavista','lomas','satelite','sotelo','texcoco-zaragoza','torreon']},\r\n\tconnection_id: {$nin: [2071,2727,2072,2073]},\r\n}},\r\n{$group: {_id:{\r\n\t\treportado:'$answers.5a1eecfbb43fdd65914505a1', \r\n  },\r\n  \tcantidad: {$sum:1},\r\n  }}\r\n\r\n]" , "queryReadPreference" : "secondaryPreferred" , "operationType" : "AGGREGATE" , "selectedFields" : [ "_id.reportado"] , "collectionName" : "form_answer"}]]></xml-property>
            <structure name="designerState">
                <property name="version">1.0</property>
                <property name="stateContentAsString">false,1000000000</property>
            </structure>
            <xml-property name="designerValues"><![CDATA[<?xml version="1.0" encoding="UTF-8"?>
<model:DesignValues xmlns:design="http://www.eclipse.org/datatools/connectivity/oda/design" xmlns:model="http://www.eclipse.org/birt/report/model/adapter/odaModel">
  <Version>2.0</Version>
  <design:ResultSets derivedMetaData="true">
    <design:resultSetDefinitions>
      <design:resultSetColumns>
        <design:resultColumnDefinitions>
          <design:attributes>
            <design:identifier>
              <design:name>_id.reportado</design:name>
              <design:position>1</design:position>
            </design:identifier>
            <design:nativeDataTypeCode>2</design:nativeDataTypeCode>
            <design:precision>-1</design:precision>
            <design:scale>-1</design:scale>
            <design:nullability>Nullable</design:nullability>
            <design:uiHints>
              <design:displayName>_id.reportado</design:displayName>
            </design:uiHints>
          </design:attributes>
          <design:usageHints>
            <design:label>_id.reportado</design:label>
            <design:formattingHints>
              <design:displaySize>-1</design:displaySize>
            </design:formattingHints>
          </design:usageHints>
        </design:resultColumnDefinitions>
      </design:resultSetColumns>
      <design:criteria/>
    </design:resultSetDefinitions>
  </design:ResultSets>
</model:DesignValues>]]></xml-property>
        </oda-data-set>
        <oda-data-set extensionID="org.eclipse.birt.data.oda.mongodb.dataSet" name="Ao Fibra Amsitel" id="618">
            <list-property name="computedColumns">
                <structure>
                    <property name="name">year</property>
                    <expression name="expression" type="javascript">BirtDateTime.year(row["_id.reportado"])</expression>
                    <property name="dataType">integer</property>
                </structure>
                <structure>
                    <property name="name">month</property>
                    <expression name="expression" type="javascript">BirtDateTime.month(row["_id.reportado"])</expression>
                    <property name="dataType">integer</property>
                </structure>
                <structure>
                    <property name="name">Mes</property>
                    <expression name="expression" type="javascript">var month  = row["month"];&#13;
var months = ["Enero", "Febrero", "Marzo", "Abril", "Mayo", "Junio", "Julio", "Agosto", "Septiembre", "Octubre", "Noviembre", "Diciembre"];&#13;
var display = "";&#13;
if(month != null || month != 0){&#13;
	display = months[month-1];&#13;
}&#13;
&#13;
display;</expression>
                    <property name="dataType">string</property>
                </structure>
            </list-property>
            <list-property name="columnHints">
                <structure>
                    <property name="columnName">_id.reportado</property>
                    <property name="analysis">dimension</property>
                    <text-property name="displayName">_id.reportado</text-property>
                    <text-property name="heading">_id.reportado</text-property>
                    <property name="indexColumn">false</property>
                    <property name="compressed">false</property>
                </structure>
                <structure>
                    <property name="columnName">year</property>
                    <property name="analysis">measure</property>
                    <property name="indexColumn">false</property>
                    <property name="compressed">false</property>
                </structure>
                <structure>
                    <property name="columnName">month</property>
                    <property name="analysis">measure</property>
                    <property name="indexColumn">false</property>
                    <property name="compressed">false</property>
                </structure>
                <structure>
                    <property name="columnName">Mes</property>
                    <property name="analysis">dimension</property>
                    <property name="indexColumn">false</property>
                    <property name="compressed">false</property>
                </structure>
            </list-property>
            <list-property name="filter">
                <structure>
                    <property name="operator">is-not-null</property>
                    <expression name="expr" type="javascript">row["_id.reportado"]</expression>
                </structure>
            </list-property>
            <list-property name="parameters"/>
            <structure name="cachedMetaData">
                <list-property name="resultSet">
                    <structure>
                        <property name="position">1</property>
                        <property name="name">_id.reportado</property>
                        <property name="dataType">string</property>
                    </structure>
                    <structure>
                        <property name="position">2</property>
                        <property name="name">year</property>
                        <property name="dataType">integer</property>
                    </structure>
                    <structure>
                        <property name="position">3</property>
                        <property name="name">month</property>
                        <property name="dataType">integer</property>
                    </structure>
                    <structure>
                        <property name="position">4</property>
                        <property name="name">Mes</property>
                        <property name="dataType">string</property>
                    </structure>
                </list-property>
            </structure>
            <property name="dataSource">MongoDB</property>
            <list-property name="resultSet">
                <structure>
                    <property name="position">1</property>
                    <property name="name">_id.reportado</property>
                    <property name="nativeName">_id.reportado</property>
                    <property name="dataType">string</property>
                    <property name="nativeDataType">2</property>
                </structure>
            </list-property>
            <xml-property name="queryText"><![CDATA[{ "operationExpr" : "[{$match:{\r\n\tform_id: {$in: [11044,16343,21953,21954]},\r\n\tdeleted_at:{$exists:false},\r\n\tanswers.f1054000a030000000000002: 'liquidada',\r\n\tanswers.f1054000a0100000000000a2: { $in: ['balbuena', 'cd_juarez', 'chihuahua','cuautitlan-morelos','durango','ermita-tlahuac','lindavista','lomas','satelite','sotelo','texcoco-zaragoza','torreon']},\r\n\tconnection_id: {$nin: [2071,2727,2072,2073]},\r\n}},\r\n{$group: {_id:{\r\n\t\treportado:'$answers.f1054000a02000000000fa02', \r\n  },\r\n  \tcantidad: {$sum:1},\r\n  }}\r\n\r\n]" , "queryReadPreference" : "secondaryPreferred" , "operationType" : "AGGREGATE" , "selectedFields" : [ "_id.reportado"] , "collectionName" : "form_answer"}]]></xml-property>
            <structure name="designerState">
                <property name="version">1.0</property>
                <property name="stateContentAsString">false,1000000000</property>
            </structure>
            <xml-property name="designerValues"><![CDATA[<?xml version="1.0" encoding="UTF-8"?>
<model:DesignValues xmlns:design="http://www.eclipse.org/datatools/connectivity/oda/design" xmlns:model="http://www.eclipse.org/birt/report/model/adapter/odaModel">
  <Version>2.0</Version>
  <design:ResultSets derivedMetaData="true">
    <design:resultSetDefinitions>
      <design:resultSetColumns>
        <design:resultColumnDefinitions>
          <design:attributes>
            <design:identifier>
              <design:name>_id.reportado</design:name>
              <design:position>1</design:position>
            </design:identifier>
            <design:nativeDataTypeCode>2</design:nativeDataTypeCode>
            <design:precision>-1</design:precision>
            <design:scale>-1</design:scale>
            <design:nullability>Nullable</design:nullability>
            <design:uiHints>
              <design:displayName>_id.reportado</design:displayName>
            </design:uiHints>
          </design:attributes>
          <design:usageHints>
            <design:label>_id.reportado</design:label>
            <design:formattingHints>
              <design:displaySize>-1</design:displaySize>
            </design:formattingHints>
          </design:usageHints>
        </design:resultColumnDefinitions>
      </design:resultSetColumns>
      <design:criteria/>
    </design:resultSetDefinitions>
  </design:ResultSets>
</model:DesignValues>]]></xml-property>
        </oda-data-set>
        <derived-data-set extensionID="com.actuate.birt.data.union" name="Union Fechas Amsitel" id="621">
            <list-property name="columnHints">
                <structure>
                    <property name="columnName">_id.reportado</property>
                    <property name="analysis">dimension</property>
                    <text-property name="displayName">_id.reportado</text-property>
                    <property name="indexColumn">false</property>
                    <property name="compressed">false</property>
                </structure>
                <structure>
                    <property name="columnName">year</property>
                    <property name="analysis">measure</property>
                    <property name="indexColumn">false</property>
                    <property name="compressed">false</property>
                </structure>
                <structure>
                    <property name="columnName">month</property>
                    <property name="analysis">measure</property>
                    <property name="indexColumn">false</property>
                    <property name="compressed">false</property>
                </structure>
                <structure>
                    <property name="columnName">Mes</property>
                    <property name="analysis">dimension</property>
                    <property name="indexColumn">false</property>
                    <property name="compressed">false</property>
                </structure>
            </list-property>
            <structure name="cachedMetaData">
                <list-property name="resultSet">
                    <structure>
                        <property name="position">1</property>
                        <property name="name">_id.reportado</property>
                        <property name="dataType">string</property>
                    </structure>
                    <structure>
                        <property name="position">2</property>
                        <property name="name">year</property>
                        <property name="dataType">integer</property>
                    </structure>
                    <structure>
                        <property name="position">3</property>
                        <property name="name">month</property>
                        <property name="dataType">integer</property>
                    </structure>
                    <structure>
                        <property name="position">4</property>
                        <property name="name">Mes</property>
                        <property name="dataType">string</property>
                    </structure>
                </list-property>
            </structure>
            <simple-property-list name="inputDataSets">
                <value>Ao Cobre Amsitel</value>
                <value>Ao Fibra Amsitel</value>
            </simple-property-list>
            <xml-property name="queryText"><![CDATA[<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<tns:Union xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://schemas.actuate.com/birt/dataset_union.xsd" xmlns:tns="http://schemas.actuate.com/">
<tns:DataSet Index="0" name="Ao Cobre Amsitel">
<tns:Column name="_id.reportado"/>
<tns:Column name="year"/>
<tns:Column name="month"/>
<tns:Column name="Mes"/>
</tns:DataSet>
<tns:DataSet Index="1" name="Ao Fibra Amsitel">
<tns:Column name="_id.reportado"/>
<tns:Column name="year"/>
<tns:Column name="month"/>
<tns:Column name="Mes"/>
</tns:DataSet>
</tns:Union>]]></xml-property>
        </derived-data-set>
        <derived-data-set extensionID="com.actuate.birt.data.join" name="Join Produccion Amsitel - DSAC" id="623">
            <list-property name="columnHints">
                <structure>
                    <property name="columnName">cantidad</property>
                    <property name="analysis">measure</property>
                    <text-property name="displayName">cantidad</text-property>
                    <property name="indexColumn">false</property>
                    <property name="compressed">false</property>
                </structure>
                <structure>
                    <property name="columnName">year</property>
                    <property name="analysis">dimension</property>
                    <property name="indexColumn">false</property>
                    <property name="compressed">false</property>
                </structure>
                <structure>
                    <property name="columnName">month</property>
                    <property name="analysis">measure</property>
                    <property name="indexColumn">false</property>
                    <property name="compressed">false</property>
                </structure>
                <structure>
                    <property name="columnName">day</property>
                    <property name="analysis">measure</property>
                    <property name="indexColumn">false</property>
                    <property name="compressed">false</property>
                </structure>
                <structure>
                    <property name="columnName">Mes</property>
                    <property name="analysis">dimension</property>
                    <property name="indexColumn">false</property>
                    <property name="compressed">false</property>
                </structure>
                <structure>
                    <property name="columnName">Cope</property>
                    <property name="analysis">dimension</property>
                    <property name="indexColumn">false</property>
                    <property name="compressed">false</property>
                </structure>
                <structure>
                    <property name="columnName">Tipo</property>
                    <property name="analysis">dimension</property>
                    <property name="indexColumn">false</property>
                    <property name="compressed">false</property>
                </structure>
                <structure>
                    <property name="columnName">area</property>
                    <property name="analysis">dimension</property>
                    <text-property name="displayName">area</text-property>
                    <property name="indexColumn">false</property>
                    <property name="compressed">false</property>
                </structure>
                <structure>
                    <property name="columnName">cope</property>
                    <property name="analysis">dimension</property>
                    <text-property name="displayName">cope</text-property>
                    <property name="indexColumn">false</property>
                    <property name="compressed">false</property>
                </structure>
                <structure>
                    <property name="columnName">Division</property>
                    <property name="analysis">dimension</property>
                    <property name="indexColumn">false</property>
                    <property name="compressed">false</property>
                </structure>
                <structure>
                    <property name="columnName">Subdireccion</property>
                    <property name="analysis">dimension</property>
                    <property name="indexColumn">false</property>
                    <property name="compressed">false</property>
                </structure>
            </list-property>
            <structure name="cachedMetaData">
                <list-property name="resultSet">
                    <structure>
                        <property name="position">1</property>
                        <property name="name">cantidad</property>
                        <property name="dataType">integer</property>
                    </structure>
                    <structure>
                        <property name="position">2</property>
                        <property name="name">year</property>
                        <property name="dataType">integer</property>
                    </structure>
                    <structure>
                        <property name="position">3</property>
                        <property name="name">month</property>
                        <property name="dataType">integer</property>
                    </structure>
                    <structure>
                        <property name="position">4</property>
                        <property name="name">day</property>
                        <property name="dataType">integer</property>
                    </structure>
                    <structure>
                        <property name="position">5</property>
                        <property name="name">Mes</property>
                        <property name="dataType">string</property>
                    </structure>
                    <structure>
                        <property name="position">6</property>
                        <property name="name">Cope</property>
                        <property name="dataType">string</property>
                    </structure>
                    <structure>
                        <property name="position">7</property>
                        <property name="name">Tipo</property>
                        <property name="dataType">string</property>
                    </structure>
                    <structure>
                        <property name="position">8</property>
                        <property name="name">area</property>
                        <property name="dataType">string</property>
                    </structure>
                    <structure>
                        <property name="position">9</property>
                        <property name="name">cope</property>
                        <property name="dataType">string</property>
                    </structure>
                    <structure>
                        <property name="position">10</property>
                        <property name="name">Division</property>
                        <property name="dataType">string</property>
                    </structure>
                    <structure>
                        <property name="position">11</property>
                        <property name="name">Subdireccion</property>
                        <property name="dataType">string</property>
                    </structure>
                </list-property>
            </structure>
            <simple-property-list name="inputDataSets">
                <value>Produccion fibra y cobre amsitel</value>
                <value>Area-Cope-Div-Sub</value>
            </simple-property-list>
            <xml-property name="queryText"><![CDATA[<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<tns:joinedDataSet xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://schemas.actuate.com/birt/dataset_join.xsd" xmlns:tns="http://schemas.actuate.com/birt/dataset_join.xsd">
<tns:selectColumns>
<tns:Column>Produccion fibra y cobre amsitel::cantidad</tns:Column>
<tns:Column>Produccion fibra y cobre amsitel::year</tns:Column>
<tns:Column>Produccion fibra y cobre amsitel::month</tns:Column>
<tns:Column>Produccion fibra y cobre amsitel::day</tns:Column>
<tns:Column>Produccion fibra y cobre amsitel::Mes</tns:Column>
<tns:Column>Produccion fibra y cobre amsitel::Cope</tns:Column>
<tns:Column>Produccion fibra y cobre amsitel::Tipo</tns:Column>
<tns:Column>Area-Cope-Div-Sub::area</tns:Column>
<tns:Column>Area-Cope-Div-Sub::cope</tns:Column>
<tns:Column>Area-Cope-Div-Sub::Division</tns:Column>
<tns:Column>Area-Cope-Div-Sub::Subdireccion</tns:Column>
</tns:selectColumns>
<tns:joins>
<tns:startingDataSet Index="0" name="Produccion fibra y cobre amsitel"/>
<tns:join>
<tns:type>leftOuter</tns:type>
<tns:dataSet Index="1" name="Area-Cope-Div-Sub"/>
<tns:on>
<tns:condition>
<tns:leftColumn>Produccion fibra y cobre amsitel::Cope</tns:leftColumn>
<tns:rightColumn>Area-Cope-Div-Sub::cope</tns:rightColumn>
<tns:operator>eq</tns:operator>
</tns:condition>
</tns:on>
</tns:join>
</tns:joins>
</tns:joinedDataSet>]]></xml-property>
        </derived-data-set>
        <oda-data-set extensionID="org.eclipse.birt.data.oda.mongodb.dataSet" name="Produccion cobre itesa" id="631">
            <list-property name="computedColumns">
                <structure>
                    <property name="name">year</property>
                    <expression name="expression" type="javascript">var fecha = row["_id.reportado"];&#13;
var display = "";&#13;
var apoyo = "";&#13;
&#13;
if(fecha != "" || fecha != null){&#13;
	apoyo = fecha.substring(0,4);&#13;
	display = parseInt(apoyo, 10);&#13;
}&#13;
&#13;
display;</expression>
                    <property name="dataType">integer</property>
                </structure>
                <structure>
                    <property name="name">month</property>
                    <expression name="expression" type="javascript">var fecha = row["_id.reportado"];&#13;
var display = "";&#13;
var apoyo = "";&#13;
&#13;
if(fecha != "" || fecha != null){&#13;
	apoyo = fecha.substring(5,7);&#13;
	display = parseInt(apoyo, 10);&#13;
}&#13;
&#13;
display;</expression>
                    <property name="dataType">integer</property>
                </structure>
                <structure>
                    <property name="name">day</property>
                    <expression name="expression" type="javascript">var fecha = row["_id.reportado"];&#13;
var display = "";&#13;
var apoyo = "";&#13;
&#13;
if(fecha != "" || fecha != null){&#13;
	apoyo = fecha.substring(8);&#13;
	display = parseInt(apoyo, 10);&#13;
}&#13;
&#13;
display;</expression>
                    <property name="dataType">integer</property>
                </structure>
            </list-property>
            <list-property name="columnHints">
                <structure>
                    <property name="columnName">_id.cope</property>
                    <property name="analysis">dimension</property>
                    <text-property name="displayName">_id.cope</text-property>
                    <text-property name="heading">_id.cope</text-property>
                    <property name="indexColumn">false</property>
                    <property name="compressed">false</property>
                </structure>
                <structure>
                    <property name="columnName">_id.reportado</property>
                    <property name="analysis">dimension</property>
                    <text-property name="displayName">_id.reportado</text-property>
                    <text-property name="heading">_id.reportado</text-property>
                    <property name="horizontalAlign">left</property>
                    <property name="indexColumn">false</property>
                    <property name="compressed">false</property>
                </structure>
                <structure>
                    <property name="columnName">cantidad</property>
                    <property name="analysis">measure</property>
                    <text-property name="displayName">cantidad</text-property>
                    <text-property name="heading">cantidad</text-property>
                    <property name="indexColumn">false</property>
                    <property name="compressed">false</property>
                </structure>
                <structure>
                    <property name="columnName">_id.tipo</property>
                    <property name="analysis">dimension</property>
                    <text-property name="displayName">_id.tipo</text-property>
                    <text-property name="heading">_id.tipo</text-property>
                </structure>
                <structure>
                    <property name="columnName">year</property>
                    <property name="analysis">dimension</property>
                    <property name="indexColumn">false</property>
                    <property name="compressed">false</property>
                </structure>
                <structure>
                    <property name="columnName">month</property>
                    <property name="analysis">measure</property>
                </structure>
                <structure>
                    <property name="columnName">day</property>
                    <property name="analysis">measure</property>
                </structure>
            </list-property>
            <list-property name="filter">
                <structure>
                    <property name="operator">ne</property>
                    <expression name="expr" type="javascript">row["_id.reportado"]</expression>
                    <simple-property-list name="value1">
                        <value type="javascript">""</value>
                    </simple-property-list>
                </structure>
                <structure>
                    <property name="operator">ne</property>
                    <expression name="expr" type="javascript">row["_id.cope"]</expression>
                    <simple-property-list name="value1">
                        <value type="javascript">"villa_nicolas_romero"</value>
                    </simple-property-list>
                </structure>
                <structure>
                    <property name="operator">ne</property>
                    <expression name="expr" type="javascript">row["_id.cope"]</expression>
                    <simple-property-list name="value1">
                        <value type="javascript">"santa_fe_[mex]"</value>
                    </simple-property-list>
                </structure>
                <structure>
                    <property name="operator">ne</property>
                    <expression name="expr" type="javascript">row["_id.cope"]</expression>
                    <simple-property-list name="value1">
                        <value type="javascript">"satelite"</value>
                    </simple-property-list>
                </structure>
                <structure>
                    <property name="operator">ne</property>
                    <expression name="expr" type="javascript">row["_id.cope"]</expression>
                    <simple-property-list name="value1">
                        <value type="javascript">"tezozomoc"</value>
                    </simple-property-list>
                </structure>
                <structure>
                    <property name="operator">ne</property>
                    <expression name="expr" type="javascript">row["_id.cope"]</expression>
                    <simple-property-list name="value1">
                        <value type="javascript">"colina"</value>
                    </simple-property-list>
                </structure>
            </list-property>
            <list-property name="parameters"/>
            <structure name="cachedMetaData">
                <list-property name="resultSet">
                    <structure>
                        <property name="position">1</property>
                        <property name="name">_id.cope</property>
                        <property name="dataType">string</property>
                    </structure>
                    <structure>
                        <property name="position">2</property>
                        <property name="name">_id.reportado</property>
                        <property name="dataType">string</property>
                    </structure>
                    <structure>
                        <property name="position">3</property>
                        <property name="name">cantidad</property>
                        <property name="dataType">integer</property>
                    </structure>
                    <structure>
                        <property name="position">4</property>
                        <property name="name">_id.tipo</property>
                        <property name="dataType">string</property>
                    </structure>
                    <structure>
                        <property name="position">5</property>
                        <property name="name">year</property>
                        <property name="dataType">integer</property>
                    </structure>
                    <structure>
                        <property name="position">6</property>
                        <property name="name">month</property>
                        <property name="dataType">integer</property>
                    </structure>
                    <structure>
                        <property name="position">7</property>
                        <property name="name">day</property>
                        <property name="dataType">integer</property>
                    </structure>
                </list-property>
            </structure>
            <method name="beforeOpen"><![CDATA[var query = this.queryText.toString();
var year = params["itesa year"].value;
var year_acumdia = params["year itesa"].value;
var month = params["month itesa"].value;
var bookmark = "{$exists:false},";

if(year != null &amp;&amp; year != ""){
	var year_to = year +1;
	new_query = "'answers.5a1eecfbb43fdd65914505a1': {$gte: '" + year + "-01-01' , $lt: '" + year_to + "-01-01' },";
}
else if ((year_acumdia != null || year_acumdia != "") &amp;&amp; (month != null || month != "")) {
	var year_to = year_acumdia;
	var month_to = month + 1;
	
	if (month == 12) {
		month_to = '01';
		year_to = year_acumdia + 1;
	}
	
	if (month < 10) {
		month = '0' + month;
	}
	if (month_to < 10) {
		month_to = '0' + month_to;
	}
	
	new_query = "'answers.5a1eecfbb43fdd65914505a1': {$gte: '" + year_acumdia + "-" + month +"-01' , $lt: '" + year_to + "-"+ month_to + "-01' },";
}
query = query.replace(bookmark, bookmark + new_query );
this.queryText = query;]]></method>
            <property name="dataSource">MongoDB</property>
            <list-property name="resultSet">
                <structure>
                    <property name="position">1</property>
                    <property name="name">_id.cope</property>
                    <property name="nativeName">_id.cope</property>
                    <property name="dataType">string</property>
                    <property name="nativeDataType">2</property>
                </structure>
                <structure>
                    <property name="position">2</property>
                    <property name="name">_id.reportado</property>
                    <property name="nativeName">_id.reportado</property>
                    <property name="dataType">string</property>
                    <property name="nativeDataType">2</property>
                </structure>
                <structure>
                    <property name="position">3</property>
                    <property name="name">cantidad</property>
                    <property name="nativeName">cantidad</property>
                    <property name="dataType">integer</property>
                    <property name="nativeDataType">16</property>
                </structure>
                <structure>
                    <property name="position">4</property>
                    <property name="name">_id.tipo</property>
                    <property name="nativeName">_id.tipo</property>
                    <property name="dataType">string</property>
                    <property name="nativeDataType">2</property>
                </structure>
            </list-property>
            <xml-property name="queryText"><![CDATA[{ "operationExpr" : "[{$match:{\r\n\tform_id: {$in: [10540,25928,25927,25929]},\r\n\tdeleted_at:{$exists:false},\r\n\tanswers.f1054000a030000000000002: 'liquidada',\r\n\tanswers.f1054000a0100000000000a2: { $in: ['celaya','irapuato','leon','morelia','queretaro','san_luis_potosi','zamora']},\r\n}},\r\n{$group: {_id:{\r\n\t\tcope :{$ifNull: ['$answers.f1054000a010000000000002','Sin COPE']},\r\n\t\treportado: {$ifNull: ['$answers.5a1eecfbb43fdd65914505a1', '']},\r\n\t\ttipo: {$ifNull: ['$answers.f1054000a0100000000000a4','sin tipo']},\r\n  },\r\n  \tcantidad: {$sum:1},\r\n  }}\r\n\r\n]" , "queryReadPreference" : "secondaryPreferred" , "operationType" : "AGGREGATE" , "selectedFields" : [ "_id.cope" , "_id.reportado" , "cantidad" , "_id.tipo"] , "collectionName" : "form_answer"}]]></xml-property>
            <structure name="designerState">
                <property name="version">1.0</property>
                <property name="stateContentAsString">false,1000000000</property>
            </structure>
            <xml-property name="designerValues"><![CDATA[<?xml version="1.0" encoding="UTF-8"?>
<model:DesignValues xmlns:design="http://www.eclipse.org/datatools/connectivity/oda/design" xmlns:model="http://www.eclipse.org/birt/report/model/adapter/odaModel">
  <Version>2.0</Version>
  <design:ResultSets derivedMetaData="true">
    <design:resultSetDefinitions>
      <design:resultSetColumns>
        <design:resultColumnDefinitions>
          <design:attributes>
            <design:identifier>
              <design:name>_id.cope</design:name>
              <design:position>1</design:position>
            </design:identifier>
            <design:nativeDataTypeCode>2</design:nativeDataTypeCode>
            <design:precision>-1</design:precision>
            <design:scale>-1</design:scale>
            <design:nullability>Nullable</design:nullability>
            <design:uiHints>
              <design:displayName>_id.cope</design:displayName>
            </design:uiHints>
          </design:attributes>
          <design:usageHints>
            <design:label>_id.cope</design:label>
            <design:formattingHints>
              <design:displaySize>-1</design:displaySize>
            </design:formattingHints>
          </design:usageHints>
        </design:resultColumnDefinitions>
        <design:resultColumnDefinitions>
          <design:attributes>
            <design:identifier>
              <design:name>_id.reportado</design:name>
              <design:position>2</design:position>
            </design:identifier>
            <design:nativeDataTypeCode>2</design:nativeDataTypeCode>
            <design:precision>-1</design:precision>
            <design:scale>-1</design:scale>
            <design:nullability>Nullable</design:nullability>
            <design:uiHints>
              <design:displayName>_id.reportado</design:displayName>
            </design:uiHints>
          </design:attributes>
          <design:usageHints>
            <design:label>_id.reportado</design:label>
            <design:formattingHints>
              <design:displaySize>-1</design:displaySize>
            </design:formattingHints>
          </design:usageHints>
        </design:resultColumnDefinitions>
        <design:resultColumnDefinitions>
          <design:attributes>
            <design:identifier>
              <design:name>cantidad</design:name>
              <design:position>3</design:position>
            </design:identifier>
            <design:nativeDataTypeCode>16</design:nativeDataTypeCode>
            <design:precision>-1</design:precision>
            <design:scale>-1</design:scale>
            <design:nullability>Nullable</design:nullability>
            <design:uiHints>
              <design:displayName>cantidad</design:displayName>
            </design:uiHints>
          </design:attributes>
          <design:usageHints>
            <design:label>cantidad</design:label>
            <design:formattingHints>
              <design:displaySize>-1</design:displaySize>
            </design:formattingHints>
          </design:usageHints>
        </design:resultColumnDefinitions>
      </design:resultSetColumns>
      <design:criteria/>
    </design:resultSetDefinitions>
  </design:ResultSets>
</model:DesignValues>]]></xml-property>
        </oda-data-set>
        <oda-data-set extensionID="org.eclipse.birt.data.oda.mongodb.dataSet" name="Produccion fibra itesa" id="630">
            <list-property name="computedColumns">
                <structure>
                    <property name="name">year</property>
                    <expression name="expression" type="javascript">var fecha = row["_id.reportado"];&#13;
var display = "";&#13;
var apoyo = "";&#13;
&#13;
if(fecha != "" || fecha != null){&#13;
	apoyo = fecha.substring(0,4);&#13;
	display = parseInt(apoyo, 10);&#13;
}&#13;
&#13;
display;</expression>
                    <property name="dataType">integer</property>
                </structure>
                <structure>
                    <property name="name">month</property>
                    <expression name="expression" type="javascript">var fecha = row["_id.reportado"];&#13;
var display = "";&#13;
var apoyo = "";&#13;
&#13;
if(fecha != "" || fecha != null){&#13;
	apoyo = fecha.substring(5,7);&#13;
	display = parseInt(apoyo, 10);&#13;
}&#13;
&#13;
display;</expression>
                    <property name="dataType">integer</property>
                </structure>
                <structure>
                    <property name="name">day</property>
                    <expression name="expression" type="javascript">var fecha = row["_id.reportado"];&#13;
var display = "";&#13;
var apoyo = "";&#13;
&#13;
if(fecha != "" || fecha != null){&#13;
	apoyo = fecha.substring(8);&#13;
	display = parseInt(apoyo, 10);&#13;
}&#13;
&#13;
display;</expression>
                    <property name="dataType">integer</property>
                </structure>
            </list-property>
            <list-property name="columnHints">
                <structure>
                    <property name="columnName">_id.cope</property>
                    <property name="analysis">dimension</property>
                    <text-property name="displayName">_id.cope</text-property>
                    <text-property name="heading">_id.cope</text-property>
                    <property name="indexColumn">false</property>
                    <property name="compressed">false</property>
                </structure>
                <structure>
                    <property name="columnName">_id.reportado</property>
                    <property name="analysis">dimension</property>
                    <text-property name="displayName">_id.reportado</text-property>
                    <text-property name="heading">_id.reportado</text-property>
                    <property name="horizontalAlign">left</property>
                    <property name="indexColumn">false</property>
                    <property name="compressed">false</property>
                </structure>
                <structure>
                    <property name="columnName">_id.tipo</property>
                    <property name="analysis">dimension</property>
                    <text-property name="displayName">_id.tipo</text-property>
                    <text-property name="heading">_id.tipo</text-property>
                </structure>
                <structure>
                    <property name="columnName">cantidad</property>
                    <property name="analysis">measure</property>
                    <text-property name="displayName">cantidad</text-property>
                    <text-property name="heading">cantidad</text-property>
                    <property name="indexColumn">false</property>
                    <property name="compressed">false</property>
                </structure>
                <structure>
                    <property name="columnName">year</property>
                    <property name="analysis">dimension</property>
                    <property name="indexColumn">false</property>
                    <property name="compressed">false</property>
                </structure>
                <structure>
                    <property name="columnName">month</property>
                    <property name="analysis">measure</property>
                </structure>
                <structure>
                    <property name="columnName">day</property>
                    <property name="analysis">measure</property>
                </structure>
            </list-property>
            <list-property name="filter">
                <structure>
                    <property name="operator">ne</property>
                    <expression name="expr" type="javascript">row["_id.reportado"]</expression>
                    <simple-property-list name="value1">
                        <value type="javascript">""</value>
                    </simple-property-list>
                </structure>
                <structure>
                    <property name="operator">ne</property>
                    <expression name="expr" type="javascript">row["_id.cope"]</expression>
                    <simple-property-list name="value1">
                        <value type="javascript">"villa_nicolas_romero"</value>
                    </simple-property-list>
                </structure>
                <structure>
                    <property name="operator">ne</property>
                    <expression name="expr" type="javascript">row["_id.cope"]</expression>
                    <simple-property-list name="value1">
                        <value type="javascript">"santa_fe_[mex]"</value>
                    </simple-property-list>
                </structure>
                <structure>
                    <property name="operator">ne</property>
                    <expression name="expr" type="javascript">row["_id.cope"]</expression>
                    <simple-property-list name="value1">
                        <value type="javascript">"satelite"</value>
                    </simple-property-list>
                </structure>
                <structure>
                    <property name="operator">ne</property>
                    <expression name="expr" type="javascript">row["_id.cope"]</expression>
                    <simple-property-list name="value1">
                        <value type="javascript">"tezozomoc"</value>
                    </simple-property-list>
                </structure>
                <structure>
                    <property name="operator">ne</property>
                    <expression name="expr" type="javascript">row["_id.cope"]</expression>
                    <simple-property-list name="value1">
                        <value type="javascript">"colina"</value>
                    </simple-property-list>
                </structure>
            </list-property>
            <list-property name="parameters"/>
            <structure name="cachedMetaData">
                <list-property name="resultSet">
                    <structure>
                        <property name="position">1</property>
                        <property name="name">_id.cope</property>
                        <property name="dataType">string</property>
                    </structure>
                    <structure>
                        <property name="position">2</property>
                        <property name="name">_id.reportado</property>
                        <property name="dataType">string</property>
                    </structure>
                    <structure>
                        <property name="position">3</property>
                        <property name="name">_id.tipo</property>
                        <property name="dataType">string</property>
                    </structure>
                    <structure>
                        <property name="position">4</property>
                        <property name="name">cantidad</property>
                        <property name="dataType">integer</property>
                    </structure>
                    <structure>
                        <property name="position">5</property>
                        <property name="name">year</property>
                        <property name="dataType">integer</property>
                    </structure>
                    <structure>
                        <property name="position">6</property>
                        <property name="name">month</property>
                        <property name="dataType">integer</property>
                    </structure>
                    <structure>
                        <property name="position">7</property>
                        <property name="name">day</property>
                        <property name="dataType">integer</property>
                    </structure>
                </list-property>
            </structure>
            <method name="beforeOpen"><![CDATA[var query = this.queryText.toString();
var year = params["itesa year"].value;
var year_acumdia = params["year itesa"].value;
var month = params["month itesa"].value;
var bookmark = "{$exists:false},";

if(year != null &amp;&amp; year != ""){
	var year_to = year +1;
	new_query = "'answers.f1054000a02000000000fa02': {$gte: '" + year + "-01-01' , $lt: '" + year_to + "-01-01' },";
}
else if ((year_acumdia != null || year_acumdia != "") &amp;&amp; (month != null || month != "")) {
	var year_to = year_acumdia;
	var month_to = month + 1;
	
	if (month == 12) {
		month_to = '01';
		year_to = year_acumdia + 1;
	}
	
	if (month < 10) {
		month = '0' + month;
	}
	if (month_to < 10) {
		month_to = '0' + month_to;
	}
	
	new_query = "'answers.f1054000a02000000000fa02': {$gte: '" + year_acumdia + "-" + month +"-01' , $lt: '" + year_to + "-"+ month_to + "-01' },";
}


query = query.replace(bookmark, bookmark + new_query );
this.queryText = query;]]></method>
            <property name="dataSource">MongoDB</property>
            <list-property name="resultSet">
                <structure>
                    <property name="position">1</property>
                    <property name="name">_id.cope</property>
                    <property name="nativeName">_id.cope</property>
                    <property name="dataType">string</property>
                    <property name="nativeDataType">2</property>
                </structure>
                <structure>
                    <property name="position">2</property>
                    <property name="name">_id.reportado</property>
                    <property name="nativeName">_id.reportado</property>
                    <property name="dataType">string</property>
                    <property name="nativeDataType">2</property>
                </structure>
                <structure>
                    <property name="position">3</property>
                    <property name="name">_id.tipo</property>
                    <property name="nativeName">_id.tipo</property>
                    <property name="dataType">string</property>
                    <property name="nativeDataType">2</property>
                </structure>
                <structure>
                    <property name="position">4</property>
                    <property name="name">cantidad</property>
                    <property name="nativeName">cantidad</property>
                    <property name="dataType">integer</property>
                    <property name="nativeDataType">16</property>
                </structure>
            </list-property>
            <xml-property name="queryText"><![CDATA[{ "operationExpr" : "[{$match:{\r\n\tform_id: {$in: [11044,16343,21953,21954]},\r\n\tdeleted_at:{$exists:false},\r\n\tanswers.f1054000a030000000000002: 'liquidada',\r\n\tanswers.f1054000a0100000000000a2: { $in: ['celaya','irapuato','leon','morelia','queretaro','san_luis_potosi','zamora']},\r\n}},\r\n{$group: {_id:{\r\n\t\tcope :'$answers.f1054000a010000000000002',\r\n\t\treportado: {$ifNull: ['$answers.f1054000a02000000000fa02', '']},\r\n\t\ttipo: '$answers.f1054000a010000000000021',\r\n  },\r\n  \tcantidad: {$sum:1},\r\n  }}\r\n\r\n]" , "queryReadPreference" : "secondaryPreferred" , "operationType" : "AGGREGATE" , "selectedFields" : [ "_id.cope" , "_id.reportado" , "_id.tipo" , "cantidad"] , "collectionName" : "form_answer"}]]></xml-property>
            <structure name="designerState">
                <property name="version">1.0</property>
                <property name="stateContentAsString">false,1000000000</property>
            </structure>
            <xml-property name="designerValues"><![CDATA[<?xml version="1.0" encoding="UTF-8"?>
<model:DesignValues xmlns:design="http://www.eclipse.org/datatools/connectivity/oda/design" xmlns:model="http://www.eclipse.org/birt/report/model/adapter/odaModel">
  <Version>2.0</Version>
  <design:ResultSets derivedMetaData="true">
    <design:resultSetDefinitions>
      <design:resultSetColumns>
        <design:resultColumnDefinitions>
          <design:attributes>
            <design:identifier>
              <design:name>_id.cope</design:name>
              <design:position>1</design:position>
            </design:identifier>
            <design:nativeDataTypeCode>2</design:nativeDataTypeCode>
            <design:precision>-1</design:precision>
            <design:scale>-1</design:scale>
            <design:nullability>Nullable</design:nullability>
            <design:uiHints>
              <design:displayName>_id.cope</design:displayName>
            </design:uiHints>
          </design:attributes>
          <design:usageHints>
            <design:label>_id.cope</design:label>
            <design:formattingHints>
              <design:displaySize>-1</design:displaySize>
            </design:formattingHints>
          </design:usageHints>
        </design:resultColumnDefinitions>
        <design:resultColumnDefinitions>
          <design:attributes>
            <design:identifier>
              <design:name>_id.reportado</design:name>
              <design:position>2</design:position>
            </design:identifier>
            <design:nativeDataTypeCode>2</design:nativeDataTypeCode>
            <design:precision>-1</design:precision>
            <design:scale>-1</design:scale>
            <design:nullability>Nullable</design:nullability>
            <design:uiHints>
              <design:displayName>_id.reportado</design:displayName>
            </design:uiHints>
          </design:attributes>
          <design:usageHints>
            <design:label>_id.reportado</design:label>
            <design:formattingHints>
              <design:displaySize>-1</design:displaySize>
            </design:formattingHints>
          </design:usageHints>
        </design:resultColumnDefinitions>
        <design:resultColumnDefinitions>
          <design:attributes>
            <design:identifier>
              <design:name>cantidad</design:name>
              <design:position>3</design:position>
            </design:identifier>
            <design:nativeDataTypeCode>16</design:nativeDataTypeCode>
            <design:precision>-1</design:precision>
            <design:scale>-1</design:scale>
            <design:nullability>Nullable</design:nullability>
            <design:uiHints>
              <design:displayName>cantidad</design:displayName>
            </design:uiHints>
          </design:attributes>
          <design:usageHints>
            <design:label>cantidad</design:label>
            <design:formattingHints>
              <design:displaySize>-1</design:displaySize>
            </design:formattingHints>
          </design:usageHints>
        </design:resultColumnDefinitions>
      </design:resultSetColumns>
      <design:criteria/>
    </design:resultSetDefinitions>
  </design:ResultSets>
</model:DesignValues>]]></xml-property>
        </oda-data-set>
        <derived-data-set extensionID="com.actuate.birt.data.union" name="Produccion fibra y cobre itesa" id="634">
            <list-property name="computedColumns">
                <structure>
                    <property name="name">Mes</property>
                    <expression name="expression" type="javascript">var month = row["month"];&#13;
var display = "";&#13;
var months = ["Enero", "Febrero", "Marzo", "Abril", "Mayo", "Junio", "Julio", "Agosto", "Septiembre", "Octubre", "Noviembre", "Diciembre"];&#13;
&#13;
if(month != null || month != ""){&#13;
	display = months[month-1];&#13;
}&#13;
&#13;
display;</expression>
                    <property name="dataType">string</property>
                </structure>
                <structure>
                    <property name="name">Cope</property>
                    <expression name="expression" type="javascript">var area = row["_id.cope"];&#13;
if(area == null){&#13;
	area = "";&#13;
}&#13;
area = area.toUpperCase();&#13;
var arr = area.split('_');&#13;
var resultado = '';&#13;
for (var i = 0; i &lt;arr.length;i++){&#13;
var te =  (new Packages.java.lang.String(arr[i]));&#13;
	resultado = resultado +  new Packages.java.lang.Character.toString(te.charAt(0)).toUpperCase() + te.substring(1);&#13;
	if (i &lt; arr.length - 1) {&#13;
		resultado = resultado + ' ';&#13;
	}&#13;
}&#13;
resultado;</expression>
                    <property name="dataType">string</property>
                </structure>
                <structure>
                    <property name="name">Tipo</property>
                    <expression name="expression" type="javascript">var tipo = row["_id.tipo"];&#13;
var display = "";&#13;
var ts = tipo.indexOf("TS");&#13;
var tk = tipo.indexOf("TK");&#13;
var vsi = tipo.indexOf("VSI");&#13;
var fc = tipo.indexOf("FC");&#13;
&#13;
if(ts != -1 || tk != -1 || vsi != -1 || fc != -1){&#13;
	display = "Migraciones";&#13;
}else{&#13;
	display = "Ordenes de servicio";&#13;
}&#13;
&#13;
display;</expression>
                    <property name="dataType">string</property>
                </structure>
            </list-property>
            <list-property name="columnHints">
                <structure>
                    <property name="columnName">_id.cope</property>
                    <property name="analysis">dimension</property>
                    <text-property name="displayName">_id.cope</text-property>
                    <property name="indexColumn">false</property>
                    <property name="compressed">false</property>
                </structure>
                <structure>
                    <property name="columnName">_id.reportado</property>
                    <property name="analysis">dimension</property>
                    <text-property name="displayName">_id.reportado</text-property>
                    <property name="indexColumn">false</property>
                    <property name="compressed">false</property>
                </structure>
                <structure>
                    <property name="columnName">cantidad</property>
                    <property name="analysis">measure</property>
                    <text-property name="displayName">cantidad</text-property>
                    <property name="indexColumn">false</property>
                    <property name="compressed">false</property>
                </structure>
                <structure>
                    <property name="columnName">year</property>
                    <property name="analysis">dimension</property>
                    <property name="indexColumn">false</property>
                    <property name="compressed">false</property>
                </structure>
                <structure>
                    <property name="columnName">month</property>
                    <property name="analysis">measure</property>
                    <property name="indexColumn">false</property>
                    <property name="compressed">false</property>
                </structure>
                <structure>
                    <property name="columnName">day</property>
                    <property name="analysis">measure</property>
                    <property name="indexColumn">false</property>
                    <property name="compressed">false</property>
                </structure>
                <structure>
                    <property name="columnName">Mes</property>
                    <property name="analysis">dimension</property>
                </structure>
                <structure>
                    <property name="columnName">Cope</property>
                    <property name="analysis">dimension</property>
                </structure>
                <structure>
                    <property name="columnName">Tipo</property>
                    <property name="analysis">dimension</property>
                </structure>
            </list-property>
            <structure name="cachedMetaData">
                <list-property name="resultSet">
                    <structure>
                        <property name="position">1</property>
                        <property name="name">_id.cope</property>
                        <property name="dataType">string</property>
                    </structure>
                    <structure>
                        <property name="position">2</property>
                        <property name="name">_id.reportado</property>
                        <property name="dataType">string</property>
                    </structure>
                    <structure>
                        <property name="position">3</property>
                        <property name="name">_id.tipo</property>
                        <property name="dataType">string</property>
                    </structure>
                    <structure>
                        <property name="position">4</property>
                        <property name="name">cantidad</property>
                        <property name="dataType">integer</property>
                    </structure>
                    <structure>
                        <property name="position">5</property>
                        <property name="name">year</property>
                        <property name="dataType">integer</property>
                    </structure>
                    <structure>
                        <property name="position">6</property>
                        <property name="name">month</property>
                        <property name="dataType">integer</property>
                    </structure>
                    <structure>
                        <property name="position">7</property>
                        <property name="name">day</property>
                        <property name="dataType">integer</property>
                    </structure>
                    <structure>
                        <property name="position">8</property>
                        <property name="name">Mes</property>
                        <property name="dataType">string</property>
                    </structure>
                    <structure>
                        <property name="position">9</property>
                        <property name="name">Cope</property>
                        <property name="dataType">string</property>
                    </structure>
                    <structure>
                        <property name="position">10</property>
                        <property name="name">Tipo</property>
                        <property name="dataType">string</property>
                    </structure>
                </list-property>
            </structure>
            <simple-property-list name="inputDataSets">
                <value>Produccion fibra itesa</value>
                <value>Produccion cobre itesa</value>
            </simple-property-list>
            <xml-property name="queryText"><![CDATA[<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<tns:Union xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://schemas.actuate.com/birt/dataset_union.xsd" xmlns:tns="http://schemas.actuate.com/">
<tns:DataSet Index="0" name="Produccion fibra itesa">
<tns:Column name="_id.cope"/>
<tns:Column name="_id.reportado"/>
<tns:Column name="_id.tipo"/>
<tns:Column name="cantidad"/>
<tns:Column name="year"/>
<tns:Column name="month"/>
<tns:Column name="day"/>
</tns:DataSet>
<tns:DataSet Index="1" name="Produccion cobre itesa">
<tns:Column name="_id.cope"/>
<tns:Column name="_id.reportado"/>
<tns:Column name="cantidad"/>
<tns:Column name="_id.tipo"/>
<tns:Column name="year"/>
<tns:Column name="month"/>
<tns:Column name="day"/>
</tns:DataSet>
</tns:Union>]]></xml-property>
        </derived-data-set>
        <oda-data-set extensionID="org.eclipse.birt.data.oda.mongodb.dataSet" name="Ao Fibra Itesa" id="633">
            <list-property name="computedColumns">
                <structure>
                    <property name="name">year</property>
                    <expression name="expression" type="javascript">BirtDateTime.year(row["_id.reportado"])</expression>
                    <property name="dataType">integer</property>
                </structure>
                <structure>
                    <property name="name">month</property>
                    <expression name="expression" type="javascript">BirtDateTime.month(row["_id.reportado"])</expression>
                    <property name="dataType">integer</property>
                </structure>
                <structure>
                    <property name="name">Mes</property>
                    <expression name="expression" type="javascript">var month  = row["month"];&#13;
var months = ["Enero", "Febrero", "Marzo", "Abril", "Mayo", "Junio", "Julio", "Agosto", "Septiembre", "Octubre", "Noviembre", "Diciembre"];&#13;
var display = "";&#13;
if(month != null || month != 0){&#13;
	display = months[month-1];&#13;
}&#13;
&#13;
display;</expression>
                    <property name="dataType">string</property>
                </structure>
            </list-property>
            <list-property name="columnHints">
                <structure>
                    <property name="columnName">_id.reportado</property>
                    <property name="analysis">dimension</property>
                    <text-property name="displayName">_id.reportado</text-property>
                    <text-property name="heading">_id.reportado</text-property>
                    <property name="indexColumn">false</property>
                    <property name="compressed">false</property>
                </structure>
                <structure>
                    <property name="columnName">year</property>
                    <property name="analysis">measure</property>
                    <property name="indexColumn">false</property>
                    <property name="compressed">false</property>
                </structure>
                <structure>
                    <property name="columnName">month</property>
                    <property name="analysis">measure</property>
                    <property name="indexColumn">false</property>
                    <property name="compressed">false</property>
                </structure>
                <structure>
                    <property name="columnName">Mes</property>
                    <property name="analysis">dimension</property>
                    <property name="indexColumn">false</property>
                    <property name="compressed">false</property>
                </structure>
            </list-property>
            <list-property name="filter">
                <structure>
                    <property name="operator">is-not-null</property>
                    <expression name="expr" type="javascript">row["_id.reportado"]</expression>
                </structure>
            </list-property>
            <list-property name="parameters"/>
            <structure name="cachedMetaData">
                <list-property name="resultSet">
                    <structure>
                        <property name="position">1</property>
                        <property name="name">_id.reportado</property>
                        <property name="dataType">string</property>
                    </structure>
                    <structure>
                        <property name="position">2</property>
                        <property name="name">year</property>
                        <property name="dataType">integer</property>
                    </structure>
                    <structure>
                        <property name="position">3</property>
                        <property name="name">month</property>
                        <property name="dataType">integer</property>
                    </structure>
                    <structure>
                        <property name="position">4</property>
                        <property name="name">Mes</property>
                        <property name="dataType">string</property>
                    </structure>
                </list-property>
            </structure>
            <property name="dataSource">MongoDB</property>
            <list-property name="resultSet">
                <structure>
                    <property name="position">1</property>
                    <property name="name">_id.reportado</property>
                    <property name="nativeName">_id.reportado</property>
                    <property name="dataType">string</property>
                    <property name="nativeDataType">2</property>
                </structure>
            </list-property>
            <xml-property name="queryText"><![CDATA[{ "operationExpr" : "[{$match:{\r\n\tform_id: {$in: [11044,16343,21953,21954]},\r\n\tdeleted_at:{$exists:false},\r\n\tanswers.f1054000a030000000000002: 'liquidada',\r\n\tanswers.f1054000a0100000000000a2: { $in: ['celaya','irapuato','leon','morelia','queretaro','san_luis_potosi','zamora']},\r\n\r\n}},\r\n{$group: {_id:{\r\n\t\treportado:'$answers.f1054000a02000000000fa02', \r\n  },\r\n  \tcantidad: {$sum:1},\r\n  }}\r\n\r\n]" , "queryReadPreference" : "secondaryPreferred" , "operationType" : "AGGREGATE" , "selectedFields" : [ "_id.reportado"] , "collectionName" : "form_answer"}]]></xml-property>
            <structure name="designerState">
                <property name="version">1.0</property>
                <property name="stateContentAsString">false,1000000000</property>
            </structure>
            <xml-property name="designerValues"><![CDATA[<?xml version="1.0" encoding="UTF-8"?>
<model:DesignValues xmlns:design="http://www.eclipse.org/datatools/connectivity/oda/design" xmlns:model="http://www.eclipse.org/birt/report/model/adapter/odaModel">
  <Version>2.0</Version>
  <design:ResultSets derivedMetaData="true">
    <design:resultSetDefinitions>
      <design:resultSetColumns>
        <design:resultColumnDefinitions>
          <design:attributes>
            <design:identifier>
              <design:name>_id.reportado</design:name>
              <design:position>1</design:position>
            </design:identifier>
            <design:nativeDataTypeCode>2</design:nativeDataTypeCode>
            <design:precision>-1</design:precision>
            <design:scale>-1</design:scale>
            <design:nullability>Nullable</design:nullability>
            <design:uiHints>
              <design:displayName>_id.reportado</design:displayName>
            </design:uiHints>
          </design:attributes>
          <design:usageHints>
            <design:label>_id.reportado</design:label>
            <design:formattingHints>
              <design:displaySize>-1</design:displaySize>
            </design:formattingHints>
          </design:usageHints>
        </design:resultColumnDefinitions>
      </design:resultSetColumns>
      <design:criteria/>
    </design:resultSetDefinitions>
  </design:ResultSets>
</model:DesignValues>]]></xml-property>
        </oda-data-set>
        <oda-data-set extensionID="org.eclipse.birt.data.oda.mongodb.dataSet" name="Ao Cobre Itesa" id="632">
            <list-property name="computedColumns">
                <structure>
                    <property name="name">year</property>
                    <expression name="expression" type="javascript">BirtDateTime.year(row["_id.reportado"])</expression>
                    <property name="dataType">integer</property>
                </structure>
                <structure>
                    <property name="name">month</property>
                    <expression name="expression" type="javascript">BirtDateTime.month(row["_id.reportado"])</expression>
                    <property name="dataType">integer</property>
                </structure>
                <structure>
                    <property name="name">Mes</property>
                    <expression name="expression" type="javascript">var month  = row["month"];&#13;
var months = ["Enero", "Febrero", "Marzo", "Abril", "Mayo", "Junio", "Julio", "Agosto", "Septiembre", "Octubre", "Noviembre", "Diciembre"];&#13;
var display = "";&#13;
if(month != null || month != 0){&#13;
	display = months[month-1];&#13;
}&#13;
&#13;
display;</expression>
                    <property name="dataType">string</property>
                </structure>
            </list-property>
            <list-property name="columnHints">
                <structure>
                    <property name="columnName">_id.reportado</property>
                    <property name="analysis">dimension</property>
                    <text-property name="displayName">_id.reportado</text-property>
                    <text-property name="heading">_id.reportado</text-property>
                    <property name="indexColumn">false</property>
                    <property name="compressed">false</property>
                </structure>
                <structure>
                    <property name="columnName">year</property>
                    <property name="analysis">measure</property>
                </structure>
                <structure>
                    <property name="columnName">month</property>
                    <property name="analysis">measure</property>
                </structure>
                <structure>
                    <property name="columnName">Mes</property>
                    <property name="analysis">dimension</property>
                </structure>
            </list-property>
            <list-property name="filter">
                <structure>
                    <property name="operator">is-not-null</property>
                    <expression name="expr" type="javascript">row["_id.reportado"]</expression>
                </structure>
            </list-property>
            <list-property name="parameters"/>
            <structure name="cachedMetaData">
                <list-property name="resultSet">
                    <structure>
                        <property name="position">1</property>
                        <property name="name">_id.reportado</property>
                        <property name="dataType">string</property>
                    </structure>
                    <structure>
                        <property name="position">2</property>
                        <property name="name">year</property>
                        <property name="dataType">integer</property>
                    </structure>
                    <structure>
                        <property name="position">3</property>
                        <property name="name">month</property>
                        <property name="dataType">integer</property>
                    </structure>
                    <structure>
                        <property name="position">4</property>
                        <property name="name">Mes</property>
                        <property name="dataType">string</property>
                    </structure>
                </list-property>
            </structure>
            <property name="dataSource">MongoDB</property>
            <list-property name="resultSet">
                <structure>
                    <property name="position">1</property>
                    <property name="name">_id.reportado</property>
                    <property name="nativeName">_id.reportado</property>
                    <property name="dataType">string</property>
                    <property name="nativeDataType">2</property>
                </structure>
            </list-property>
            <xml-property name="queryText"><![CDATA[{ "operationExpr" : "[{$match:{\r\n\tform_id: {$in: [10540,25928,25927,25929]},\r\n\tdeleted_at:{$exists:false},\r\n\tanswers.f1054000a030000000000002: 'liquidada',\r\n\tanswers.f1054000a0100000000000a2: { $in: ['celaya','irapuato','leon','morelia','queretaro','san_luis_potosi','zamora']},\r\n}},\r\n{$group: {_id:{\r\n\t\treportado:'$answers.5a1eecfbb43fdd65914505a1', \r\n  },\r\n  \tcantidad: {$sum:1},\r\n  }}\r\n\r\n]" , "queryReadPreference" : "secondaryPreferred" , "operationType" : "AGGREGATE" , "selectedFields" : [ "_id.reportado"] , "collectionName" : "form_answer"}]]></xml-property>
            <structure name="designerState">
                <property name="version">1.0</property>
                <property name="stateContentAsString">false,1000000000</property>
            </structure>
            <xml-property name="designerValues"><![CDATA[<?xml version="1.0" encoding="UTF-8"?>
<model:DesignValues xmlns:design="http://www.eclipse.org/datatools/connectivity/oda/design" xmlns:model="http://www.eclipse.org/birt/report/model/adapter/odaModel">
  <Version>2.0</Version>
  <design:ResultSets derivedMetaData="true">
    <design:resultSetDefinitions>
      <design:resultSetColumns>
        <design:resultColumnDefinitions>
          <design:attributes>
            <design:identifier>
              <design:name>_id.reportado</design:name>
              <design:position>1</design:position>
            </design:identifier>
            <design:nativeDataTypeCode>2</design:nativeDataTypeCode>
            <design:precision>-1</design:precision>
            <design:scale>-1</design:scale>
            <design:nullability>Nullable</design:nullability>
            <design:uiHints>
              <design:displayName>_id.reportado</design:displayName>
            </design:uiHints>
          </design:attributes>
          <design:usageHints>
            <design:label>_id.reportado</design:label>
            <design:formattingHints>
              <design:displaySize>-1</design:displaySize>
            </design:formattingHints>
          </design:usageHints>
        </design:resultColumnDefinitions>
      </design:resultSetColumns>
      <design:criteria/>
    </design:resultSetDefinitions>
  </design:ResultSets>
</model:DesignValues>]]></xml-property>
        </oda-data-set>
        <derived-data-set extensionID="com.actuate.birt.data.union" name="Union Fechas Itesa" id="635">
            <list-property name="columnHints">
                <structure>
                    <property name="columnName">year</property>
                    <property name="analysis">measure</property>
                    <property name="indexColumn">false</property>
                    <property name="compressed">false</property>
                </structure>
                <structure>
                    <property name="columnName">month</property>
                    <property name="analysis">measure</property>
                    <property name="indexColumn">false</property>
                    <property name="compressed">false</property>
                </structure>
                <structure>
                    <property name="columnName">Mes</property>
                    <property name="analysis">dimension</property>
                    <property name="indexColumn">false</property>
                    <property name="compressed">false</property>
                </structure>
            </list-property>
            <structure name="cachedMetaData">
                <list-property name="resultSet">
                    <structure>
                        <property name="position">1</property>
                        <property name="name">year</property>
                        <property name="dataType">integer</property>
                    </structure>
                    <structure>
                        <property name="position">2</property>
                        <property name="name">month</property>
                        <property name="dataType">integer</property>
                    </structure>
                    <structure>
                        <property name="position">3</property>
                        <property name="name">Mes</property>
                        <property name="dataType">string</property>
                    </structure>
                </list-property>
            </structure>
            <simple-property-list name="inputDataSets">
                <value>Ao Fibra Itesa</value>
                <value>Ao Cobre Itesa</value>
            </simple-property-list>
            <xml-property name="queryText"><![CDATA[<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<tns:Union xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://schemas.actuate.com/birt/dataset_union.xsd" xmlns:tns="http://schemas.actuate.com/">
<tns:DataSet Index="0" name="Ao Fibra Itesa">
<tns:Column name="year"/>
<tns:Column name="month"/>
<tns:Column name="Mes"/>
</tns:DataSet>
<tns:DataSet Index="1" name="Ao Cobre Itesa">
<tns:Column name="year"/>
<tns:Column name="month"/>
<tns:Column name="Mes"/>
</tns:DataSet>
</tns:Union>]]></xml-property>
        </derived-data-set>
        <derived-data-set extensionID="com.actuate.birt.data.join" name="Join Produccion ITESA - DSAC" id="642">
            <list-property name="columnHints">
                <structure>
                    <property name="columnName">cantidad</property>
                    <property name="analysis">measure</property>
                    <text-property name="displayName">cantidad</text-property>
                    <property name="indexColumn">false</property>
                    <property name="compressed">false</property>
                </structure>
                <structure>
                    <property name="columnName">year</property>
                    <property name="analysis">dimension</property>
                    <property name="indexColumn">false</property>
                    <property name="compressed">false</property>
                </structure>
                <structure>
                    <property name="columnName">month</property>
                    <property name="analysis">measure</property>
                    <property name="indexColumn">false</property>
                    <property name="compressed">false</property>
                </structure>
                <structure>
                    <property name="columnName">day</property>
                    <property name="analysis">measure</property>
                    <property name="indexColumn">false</property>
                    <property name="compressed">false</property>
                </structure>
                <structure>
                    <property name="columnName">Mes</property>
                    <property name="analysis">dimension</property>
                    <property name="indexColumn">false</property>
                    <property name="compressed">false</property>
                </structure>
                <structure>
                    <property name="columnName">Cope</property>
                    <property name="analysis">dimension</property>
                    <property name="indexColumn">false</property>
                    <property name="compressed">false</property>
                </structure>
                <structure>
                    <property name="columnName">Tipo</property>
                    <property name="analysis">dimension</property>
                    <property name="indexColumn">false</property>
                    <property name="compressed">false</property>
                </structure>
                <structure>
                    <property name="columnName">area</property>
                    <property name="analysis">dimension</property>
                    <text-property name="displayName">area</text-property>
                    <property name="indexColumn">false</property>
                    <property name="compressed">false</property>
                </structure>
                <structure>
                    <property name="columnName">cope</property>
                    <property name="analysis">dimension</property>
                    <text-property name="displayName">cope</text-property>
                    <property name="indexColumn">false</property>
                    <property name="compressed">false</property>
                </structure>
                <structure>
                    <property name="columnName">Division</property>
                    <property name="analysis">dimension</property>
                    <property name="indexColumn">false</property>
                    <property name="compressed">false</property>
                </structure>
                <structure>
                    <property name="columnName">Subdireccion</property>
                    <property name="analysis">dimension</property>
                    <property name="indexColumn">false</property>
                    <property name="compressed">false</property>
                </structure>
            </list-property>
            <structure name="cachedMetaData">
                <list-property name="resultSet">
                    <structure>
                        <property name="position">1</property>
                        <property name="name">cantidad</property>
                        <property name="dataType">integer</property>
                    </structure>
                    <structure>
                        <property name="position">2</property>
                        <property name="name">year</property>
                        <property name="dataType">integer</property>
                    </structure>
                    <structure>
                        <property name="position">3</property>
                        <property name="name">month</property>
                        <property name="dataType">integer</property>
                    </structure>
                    <structure>
                        <property name="position">4</property>
                        <property name="name">day</property>
                        <property name="dataType">integer</property>
                    </structure>
                    <structure>
                        <property name="position">5</property>
                        <property name="name">Mes</property>
                        <property name="dataType">string</property>
                    </structure>
                    <structure>
                        <property name="position">6</property>
                        <property name="name">Cope</property>
                        <property name="dataType">string</property>
                    </structure>
                    <structure>
                        <property name="position">7</property>
                        <property name="name">Tipo</property>
                        <property name="dataType">string</property>
                    </structure>
                    <structure>
                        <property name="position">8</property>
                        <property name="name">area</property>
                        <property name="dataType">string</property>
                    </structure>
                    <structure>
                        <property name="position">9</property>
                        <property name="name">cope</property>
                        <property name="dataType">string</property>
                    </structure>
                    <structure>
                        <property name="position">10</property>
                        <property name="name">Division</property>
                        <property name="dataType">string</property>
                    </structure>
                    <structure>
                        <property name="position">11</property>
                        <property name="name">Subdireccion</property>
                        <property name="dataType">string</property>
                    </structure>
                </list-property>
            </structure>
            <simple-property-list name="inputDataSets">
                <value>Produccion fibra y cobre itesa</value>
                <value>Area-Cope-Div-Sub</value>
            </simple-property-list>
            <xml-property name="queryText"><![CDATA[<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<tns:joinedDataSet xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://schemas.actuate.com/birt/dataset_join.xsd" xmlns:tns="http://schemas.actuate.com/birt/dataset_join.xsd">
<tns:selectColumns>
<tns:Column>Produccion fibra y cobre itesa::cantidad</tns:Column>
<tns:Column>Produccion fibra y cobre itesa::year</tns:Column>
<tns:Column>Produccion fibra y cobre itesa::month</tns:Column>
<tns:Column>Produccion fibra y cobre itesa::day</tns:Column>
<tns:Column>Produccion fibra y cobre itesa::Mes</tns:Column>
<tns:Column>Produccion fibra y cobre itesa::Cope</tns:Column>
<tns:Column>Produccion fibra y cobre itesa::Tipo</tns:Column>
<tns:Column>Area-Cope-Div-Sub::area</tns:Column>
<tns:Column>Area-Cope-Div-Sub::cope</tns:Column>
<tns:Column>Area-Cope-Div-Sub::Division</tns:Column>
<tns:Column>Area-Cope-Div-Sub::Subdireccion</tns:Column>
</tns:selectColumns>
<tns:joins>
<tns:startingDataSet Index="0" name="Produccion fibra y cobre itesa"/>
<tns:join>
<tns:type>leftOuter</tns:type>
<tns:dataSet Index="1" name="Area-Cope-Div-Sub"/>
<tns:on>
<tns:condition>
<tns:leftColumn>Produccion fibra y cobre itesa::Cope</tns:leftColumn>
<tns:rightColumn>Area-Cope-Div-Sub::cope</tns:rightColumn>
<tns:operator>eq</tns:operator>
</tns:condition>
</tns:on>
</tns:join>
</tns:joins>
</tns:joinedDataSet>]]></xml-property>
        </derived-data-set>
        <oda-data-set extensionID="org.eclipse.birt.data.oda.mongodb.dataSet" name="Produccion fibra avasan" id="643">
            <list-property name="computedColumns">
                <structure>
                    <property name="name">year</property>
                    <expression name="expression" type="javascript">var fecha = row["_id.reportado"];&#13;
var display = "";&#13;
var apoyo = "";&#13;
&#13;
if(fecha != "" || fecha != null){&#13;
	apoyo = fecha.substring(0,4);&#13;
	display = parseInt(apoyo, 10);&#13;
}&#13;
&#13;
display;</expression>
                    <property name="dataType">integer</property>
                </structure>
                <structure>
                    <property name="name">month</property>
                    <expression name="expression" type="javascript">var fecha = row["_id.reportado"];&#13;
var display = "";&#13;
var apoyo = "";&#13;
&#13;
if(fecha != "" || fecha != null){&#13;
	apoyo = fecha.substring(5,7);&#13;
	display = parseInt(apoyo, 10);&#13;
}&#13;
&#13;
display;</expression>
                    <property name="dataType">integer</property>
                </structure>
                <structure>
                    <property name="name">day</property>
                    <expression name="expression" type="javascript">var fecha = row["_id.reportado"];&#13;
var display = "";&#13;
var apoyo = "";&#13;
&#13;
if(fecha != "" || fecha != null){&#13;
	apoyo = fecha.substring(8);&#13;
	display = parseInt(apoyo, 10);&#13;
}&#13;
&#13;
display;</expression>
                    <property name="dataType">integer</property>
                </structure>
            </list-property>
            <list-property name="columnHints">
                <structure>
                    <property name="columnName">_id.cope</property>
                    <property name="analysis">dimension</property>
                    <text-property name="displayName">_id.cope</text-property>
                    <text-property name="heading">_id.cope</text-property>
                    <property name="indexColumn">false</property>
                    <property name="compressed">false</property>
                </structure>
                <structure>
                    <property name="columnName">_id.reportado</property>
                    <property name="analysis">dimension</property>
                    <text-property name="displayName">_id.reportado</text-property>
                    <text-property name="heading">_id.reportado</text-property>
                    <property name="horizontalAlign">left</property>
                    <property name="indexColumn">false</property>
                    <property name="compressed">false</property>
                </structure>
                <structure>
                    <property name="columnName">_id.tipo</property>
                    <property name="analysis">dimension</property>
                    <text-property name="displayName">_id.tipo</text-property>
                    <text-property name="heading">_id.tipo</text-property>
                </structure>
                <structure>
                    <property name="columnName">cantidad</property>
                    <property name="analysis">measure</property>
                    <text-property name="displayName">cantidad</text-property>
                    <text-property name="heading">cantidad</text-property>
                    <property name="indexColumn">false</property>
                    <property name="compressed">false</property>
                </structure>
                <structure>
                    <property name="columnName">year</property>
                    <property name="analysis">dimension</property>
                    <property name="indexColumn">false</property>
                    <property name="compressed">false</property>
                </structure>
                <structure>
                    <property name="columnName">month</property>
                    <property name="analysis">measure</property>
                </structure>
                <structure>
                    <property name="columnName">day</property>
                    <property name="analysis">measure</property>
                </structure>
            </list-property>
            <list-property name="filter">
                <structure>
                    <property name="operator">ne</property>
                    <expression name="expr" type="javascript">row["_id.reportado"]</expression>
                    <simple-property-list name="value1">
                        <value type="javascript">""</value>
                    </simple-property-list>
                </structure>
                <structure>
                    <property name="operator">ne</property>
                    <expression name="expr" type="javascript">row["_id.cope"]</expression>
                    <simple-property-list name="value1">
                        <value type="javascript">"villa_nicolas_romero"</value>
                    </simple-property-list>
                </structure>
                <structure>
                    <property name="operator">ne</property>
                    <expression name="expr" type="javascript">row["_id.cope"]</expression>
                    <simple-property-list name="value1">
                        <value type="javascript">"santa_fe_[mex]"</value>
                    </simple-property-list>
                </structure>
                <structure>
                    <property name="operator">ne</property>
                    <expression name="expr" type="javascript">row["_id.cope"]</expression>
                    <simple-property-list name="value1">
                        <value type="javascript">"satelite"</value>
                    </simple-property-list>
                </structure>
                <structure>
                    <property name="operator">ne</property>
                    <expression name="expr" type="javascript">row["_id.cope"]</expression>
                    <simple-property-list name="value1">
                        <value type="javascript">"tezozomoc"</value>
                    </simple-property-list>
                </structure>
                <structure>
                    <property name="operator">ne</property>
                    <expression name="expr" type="javascript">row["_id.cope"]</expression>
                    <simple-property-list name="value1">
                        <value type="javascript">"colina"</value>
                    </simple-property-list>
                </structure>
            </list-property>
            <list-property name="parameters"/>
            <structure name="cachedMetaData">
                <list-property name="resultSet">
                    <structure>
                        <property name="position">1</property>
                        <property name="name">_id.cope</property>
                        <property name="dataType">string</property>
                    </structure>
                    <structure>
                        <property name="position">2</property>
                        <property name="name">_id.reportado</property>
                        <property name="dataType">string</property>
                    </structure>
                    <structure>
                        <property name="position">3</property>
                        <property name="name">_id.tipo</property>
                        <property name="dataType">string</property>
                    </structure>
                    <structure>
                        <property name="position">4</property>
                        <property name="name">cantidad</property>
                        <property name="dataType">integer</property>
                    </structure>
                    <structure>
                        <property name="position">5</property>
                        <property name="name">year</property>
                        <property name="dataType">integer</property>
                    </structure>
                    <structure>
                        <property name="position">6</property>
                        <property name="name">month</property>
                        <property name="dataType">integer</property>
                    </structure>
                    <structure>
                        <property name="position">7</property>
                        <property name="name">day</property>
                        <property name="dataType">integer</property>
                    </structure>
                </list-property>
            </structure>
            <method name="beforeOpen"><![CDATA[var query = this.queryText.toString();
var year = params["avasan year"].value;
var year_acumdia = params["year avasan"].value;
var month = params["month avasan"].value;
var bookmark = "{$exists:false},";

if(year != null &amp;&amp; year != ""){
	var year_to = year +1;
	new_query = "'answers.f1054000a02000000000fa02': {$gte: '" + year + "-01-01' , $lt: '" + year_to + "-01-01' },";
}
else if ((year_acumdia != null || year_acumdia != "") &amp;&amp; (month != null || month != "")) {
	var year_to = year_acumdia;
	var month_to = month + 1;
	
	if (month == 12) {
		month_to = '01';
		year_to = year_acumdia + 1;
	}
	
	if (month < 10) {
		month = '0' + month;
	}
	if (month_to < 10) {
		month_to = '0' + month_to;
	}
	
	new_query = "'answers.f1054000a02000000000fa02': {$gte: '" + year_acumdia + "-" + month +"-01' , $lt: '" + year_to + "-"+ month_to + "-01' },";
}


query = query.replace(bookmark, bookmark + new_query );
this.queryText = query;]]></method>
            <property name="dataSource">MongoDB</property>
            <list-property name="resultSet">
                <structure>
                    <property name="position">1</property>
                    <property name="name">_id.cope</property>
                    <property name="nativeName">_id.cope</property>
                    <property name="dataType">string</property>
                    <property name="nativeDataType">2</property>
                </structure>
                <structure>
                    <property name="position">2</property>
                    <property name="name">_id.reportado</property>
                    <property name="nativeName">_id.reportado</property>
                    <property name="dataType">string</property>
                    <property name="nativeDataType">2</property>
                </structure>
                <structure>
                    <property name="position">3</property>
                    <property name="name">_id.tipo</property>
                    <property name="nativeName">_id.tipo</property>
                    <property name="dataType">string</property>
                    <property name="nativeDataType">2</property>
                </structure>
                <structure>
                    <property name="position">4</property>
                    <property name="name">cantidad</property>
                    <property name="nativeName">cantidad</property>
                    <property name="dataType">integer</property>
                    <property name="nativeDataType">16</property>
                </structure>
            </list-property>
            <xml-property name="queryText"><![CDATA[{ "operationExpr" : "[{$match:{\r\n\tform_id: {$in: [11044,16343,21953,21954]},\r\n\tdeleted_at:{$exists:false},\r\n\tanswers.f1054000a030000000000002: 'liquidada',\r\n\tanswers.f1054000a0100000000000a2: { $in: ['aguascalientes','colima','guadalajara_centro','guadalajara_oriente','guadalajara_poniente','jalisco','puerto_vallarta','tepic','zacatecas']},\r\n}},\r\n{$group: {_id:{\r\n\t\tcope :'$answers.f1054000a010000000000002',\r\n\t\treportado: {$ifNull: ['$answers.f1054000a02000000000fa02', '']},\r\n\t\ttipo: '$answers.f1054000a010000000000021',\r\n  },\r\n  \tcantidad: {$sum:1},\r\n  }}\r\n\r\n]" , "queryReadPreference" : "secondaryPreferred" , "operationType" : "AGGREGATE" , "selectedFields" : [ "_id.cope" , "_id.reportado" , "_id.tipo" , "cantidad"] , "collectionName" : "form_answer"}]]></xml-property>
            <structure name="designerState">
                <property name="version">1.0</property>
                <property name="stateContentAsString">false,1000000000</property>
            </structure>
            <xml-property name="designerValues"><![CDATA[<?xml version="1.0" encoding="UTF-8"?>
<model:DesignValues xmlns:design="http://www.eclipse.org/datatools/connectivity/oda/design" xmlns:model="http://www.eclipse.org/birt/report/model/adapter/odaModel">
  <Version>2.0</Version>
  <design:ResultSets derivedMetaData="true">
    <design:resultSetDefinitions>
      <design:resultSetColumns>
        <design:resultColumnDefinitions>
          <design:attributes>
            <design:identifier>
              <design:name>_id.cope</design:name>
              <design:position>1</design:position>
            </design:identifier>
            <design:nativeDataTypeCode>2</design:nativeDataTypeCode>
            <design:precision>-1</design:precision>
            <design:scale>-1</design:scale>
            <design:nullability>Nullable</design:nullability>
            <design:uiHints>
              <design:displayName>_id.cope</design:displayName>
            </design:uiHints>
          </design:attributes>
          <design:usageHints>
            <design:label>_id.cope</design:label>
            <design:formattingHints>
              <design:displaySize>-1</design:displaySize>
            </design:formattingHints>
          </design:usageHints>
        </design:resultColumnDefinitions>
        <design:resultColumnDefinitions>
          <design:attributes>
            <design:identifier>
              <design:name>_id.reportado</design:name>
              <design:position>2</design:position>
            </design:identifier>
            <design:nativeDataTypeCode>2</design:nativeDataTypeCode>
            <design:precision>-1</design:precision>
            <design:scale>-1</design:scale>
            <design:nullability>Nullable</design:nullability>
            <design:uiHints>
              <design:displayName>_id.reportado</design:displayName>
            </design:uiHints>
          </design:attributes>
          <design:usageHints>
            <design:label>_id.reportado</design:label>
            <design:formattingHints>
              <design:displaySize>-1</design:displaySize>
            </design:formattingHints>
          </design:usageHints>
        </design:resultColumnDefinitions>
        <design:resultColumnDefinitions>
          <design:attributes>
            <design:identifier>
              <design:name>cantidad</design:name>
              <design:position>3</design:position>
            </design:identifier>
            <design:nativeDataTypeCode>16</design:nativeDataTypeCode>
            <design:precision>-1</design:precision>
            <design:scale>-1</design:scale>
            <design:nullability>Nullable</design:nullability>
            <design:uiHints>
              <design:displayName>cantidad</design:displayName>
            </design:uiHints>
          </design:attributes>
          <design:usageHints>
            <design:label>cantidad</design:label>
            <design:formattingHints>
              <design:displaySize>-1</design:displaySize>
            </design:formattingHints>
          </design:usageHints>
        </design:resultColumnDefinitions>
      </design:resultSetColumns>
      <design:criteria/>
    </design:resultSetDefinitions>
  </design:ResultSets>
</model:DesignValues>]]></xml-property>
        </oda-data-set>
        <oda-data-set extensionID="org.eclipse.birt.data.oda.mongodb.dataSet" name="Produccion cobre avasan" id="645">
            <list-property name="computedColumns">
                <structure>
                    <property name="name">year</property>
                    <expression name="expression" type="javascript">var fecha = row["_id.reportado"];&#13;
var display = "";&#13;
var apoyo = "";&#13;
&#13;
if(fecha != "" || fecha != null){&#13;
	apoyo = fecha.substring(0,4);&#13;
	display = parseInt(apoyo, 10);&#13;
}&#13;
&#13;
display;</expression>
                    <property name="dataType">integer</property>
                </structure>
                <structure>
                    <property name="name">month</property>
                    <expression name="expression" type="javascript">var fecha = row["_id.reportado"];&#13;
var display = "";&#13;
var apoyo = "";&#13;
&#13;
if(fecha != "" || fecha != null){&#13;
	apoyo = fecha.substring(5,7);&#13;
	display = parseInt(apoyo, 10);&#13;
}&#13;
&#13;
display;</expression>
                    <property name="dataType">integer</property>
                </structure>
                <structure>
                    <property name="name">day</property>
                    <expression name="expression" type="javascript">var fecha = row["_id.reportado"];&#13;
var display = "";&#13;
var apoyo = "";&#13;
&#13;
if(fecha != "" || fecha != null){&#13;
	apoyo = fecha.substring(8);&#13;
	display = parseInt(apoyo, 10);&#13;
}&#13;
&#13;
display;</expression>
                    <property name="dataType">integer</property>
                </structure>
            </list-property>
            <list-property name="columnHints">
                <structure>
                    <property name="columnName">_id.cope</property>
                    <property name="analysis">dimension</property>
                    <text-property name="displayName">_id.cope</text-property>
                    <text-property name="heading">_id.cope</text-property>
                    <property name="indexColumn">false</property>
                    <property name="compressed">false</property>
                </structure>
                <structure>
                    <property name="columnName">_id.reportado</property>
                    <property name="analysis">dimension</property>
                    <text-property name="displayName">_id.reportado</text-property>
                    <text-property name="heading">_id.reportado</text-property>
                    <property name="horizontalAlign">left</property>
                    <property name="indexColumn">false</property>
                    <property name="compressed">false</property>
                </structure>
                <structure>
                    <property name="columnName">cantidad</property>
                    <property name="analysis">measure</property>
                    <text-property name="displayName">cantidad</text-property>
                    <text-property name="heading">cantidad</text-property>
                    <property name="indexColumn">false</property>
                    <property name="compressed">false</property>
                </structure>
                <structure>
                    <property name="columnName">_id.tipo</property>
                    <property name="analysis">dimension</property>
                    <text-property name="displayName">_id.tipo</text-property>
                    <text-property name="heading">_id.tipo</text-property>
                </structure>
                <structure>
                    <property name="columnName">year</property>
                    <property name="analysis">dimension</property>
                    <property name="indexColumn">false</property>
                    <property name="compressed">false</property>
                </structure>
                <structure>
                    <property name="columnName">month</property>
                    <property name="analysis">measure</property>
                </structure>
                <structure>
                    <property name="columnName">day</property>
                    <property name="analysis">measure</property>
                </structure>
            </list-property>
            <list-property name="filter">
                <structure>
                    <property name="operator">ne</property>
                    <expression name="expr" type="javascript">row["_id.reportado"]</expression>
                    <simple-property-list name="value1">
                        <value type="javascript">""</value>
                    </simple-property-list>
                </structure>
                <structure>
                    <property name="operator">ne</property>
                    <expression name="expr" type="javascript">row["_id.cope"]</expression>
                    <simple-property-list name="value1">
                        <value type="javascript">"villa_nicolas_romero"</value>
                    </simple-property-list>
                </structure>
                <structure>
                    <property name="operator">ne</property>
                    <expression name="expr" type="javascript">row["_id.cope"]</expression>
                    <simple-property-list name="value1">
                        <value type="javascript">"santa_fe_[mex]"</value>
                    </simple-property-list>
                </structure>
                <structure>
                    <property name="operator">ne</property>
                    <expression name="expr" type="javascript">row["_id.cope"]</expression>
                    <simple-property-list name="value1">
                        <value type="javascript">"satelite"</value>
                    </simple-property-list>
                </structure>
                <structure>
                    <property name="operator">ne</property>
                    <expression name="expr" type="javascript">row["_id.cope"]</expression>
                    <simple-property-list name="value1">
                        <value type="javascript">"tezozomoc"</value>
                    </simple-property-list>
                </structure>
                <structure>
                    <property name="operator">ne</property>
                    <expression name="expr" type="javascript">row["_id.cope"]</expression>
                    <simple-property-list name="value1">
                        <value type="javascript">"colina"</value>
                    </simple-property-list>
                </structure>
            </list-property>
            <list-property name="parameters"/>
            <structure name="cachedMetaData">
                <list-property name="resultSet">
                    <structure>
                        <property name="position">1</property>
                        <property name="name">_id.cope</property>
                        <property name="dataType">string</property>
                    </structure>
                    <structure>
                        <property name="position">2</property>
                        <property name="name">_id.reportado</property>
                        <property name="dataType">string</property>
                    </structure>
                    <structure>
                        <property name="position">3</property>
                        <property name="name">cantidad</property>
                        <property name="dataType">integer</property>
                    </structure>
                    <structure>
                        <property name="position">4</property>
                        <property name="name">_id.tipo</property>
                        <property name="dataType">string</property>
                    </structure>
                    <structure>
                        <property name="position">5</property>
                        <property name="name">year</property>
                        <property name="dataType">integer</property>
                    </structure>
                    <structure>
                        <property name="position">6</property>
                        <property name="name">month</property>
                        <property name="dataType">integer</property>
                    </structure>
                    <structure>
                        <property name="position">7</property>
                        <property name="name">day</property>
                        <property name="dataType">integer</property>
                    </structure>
                </list-property>
            </structure>
            <method name="beforeOpen"><![CDATA[var query = this.queryText.toString();
var year = params["avasan year"].value;
var year_acumdia = params["year avasan"].value;
var month = params["month avasan"].value;
var bookmark = "{$exists:false},";


if(year != null &amp;&amp; year != ""){
	var year_to = year +1;
	new_query = "'answers.5a1eecfbb43fdd65914505a1': {$gte: '" + year + "-01-01' , $lt: '" + year_to + "-01-01' },";
}
else if ((year_acumdia != null || year_acumdia != "") &amp;&amp; (month != null || month != "")) {
	var year_to = year_acumdia;
	var month_to = month + 1;
	
	if (month == 12) {
		month_to = '01';
		year_to = year_acumdia + 1;
	}
	
	if (month < 10) {
		month = '0' + month;
	}
	if (month_to < 10) {
		month_to = '0' + month_to;
	}
	
	new_query = "'answers.5a1eecfbb43fdd65914505a1': {$gte: '" + year_acumdia + "-" + month +"-01' , $lt: '" + year_to + "-"+ month_to + "-01' },";
}
query = query.replace(bookmark, bookmark + new_query );
this.queryText = query;]]></method>
            <property name="dataSource">MongoDB</property>
            <list-property name="resultSet">
                <structure>
                    <property name="position">1</property>
                    <property name="name">_id.cope</property>
                    <property name="nativeName">_id.cope</property>
                    <property name="dataType">string</property>
                    <property name="nativeDataType">2</property>
                </structure>
                <structure>
                    <property name="position">2</property>
                    <property name="name">_id.reportado</property>
                    <property name="nativeName">_id.reportado</property>
                    <property name="dataType">string</property>
                    <property name="nativeDataType">2</property>
                </structure>
                <structure>
                    <property name="position">3</property>
                    <property name="name">cantidad</property>
                    <property name="nativeName">cantidad</property>
                    <property name="dataType">integer</property>
                    <property name="nativeDataType">16</property>
                </structure>
                <structure>
                    <property name="position">4</property>
                    <property name="name">_id.tipo</property>
                    <property name="nativeName">_id.tipo</property>
                    <property name="dataType">string</property>
                    <property name="nativeDataType">2</property>
                </structure>
            </list-property>
            <xml-property name="queryText"><![CDATA[{ "operationExpr" : "[{$match:{\r\n\tform_id: {$in: [10540,25928,25927,25929]},\r\n\tdeleted_at:{$exists:false},\r\n\tanswers.f1054000a030000000000002: 'liquidada',\r\n\tanswers.f1054000a0100000000000a2: { $in: ['aguascalientes','colima','guadalajara_centro','guadalajara_oriente','guadalajara_poniente','jalisco','puerto_vallarta','tepic','zacatecas']},\r\n}},\r\n{$group: {_id:{\r\n\t\tcope :{$ifNull: ['$answers.f1054000a010000000000002','Sin COPE']},\r\n\t\treportado: {$ifNull: ['$answers.5a1eecfbb43fdd65914505a1', '']},\r\n\t\ttipo: {$ifNull: ['$answers.f1054000a0100000000000a4','sin tipo']},\r\n  },\r\n  \tcantidad: {$sum:1},\r\n  }}\r\n\r\n]" , "queryReadPreference" : "secondaryPreferred" , "operationType" : "AGGREGATE" , "selectedFields" : [ "_id.cope" , "_id.reportado" , "cantidad" , "_id.tipo"] , "collectionName" : "form_answer"}]]></xml-property>
            <structure name="designerState">
                <property name="version">1.0</property>
                <property name="stateContentAsString">false,1000000000</property>
            </structure>
            <xml-property name="designerValues"><![CDATA[<?xml version="1.0" encoding="UTF-8"?>
<model:DesignValues xmlns:design="http://www.eclipse.org/datatools/connectivity/oda/design" xmlns:model="http://www.eclipse.org/birt/report/model/adapter/odaModel">
  <Version>2.0</Version>
  <design:ResultSets derivedMetaData="true">
    <design:resultSetDefinitions>
      <design:resultSetColumns>
        <design:resultColumnDefinitions>
          <design:attributes>
            <design:identifier>
              <design:name>_id.cope</design:name>
              <design:position>1</design:position>
            </design:identifier>
            <design:nativeDataTypeCode>2</design:nativeDataTypeCode>
            <design:precision>-1</design:precision>
            <design:scale>-1</design:scale>
            <design:nullability>Nullable</design:nullability>
            <design:uiHints>
              <design:displayName>_id.cope</design:displayName>
            </design:uiHints>
          </design:attributes>
          <design:usageHints>
            <design:label>_id.cope</design:label>
            <design:formattingHints>
              <design:displaySize>-1</design:displaySize>
            </design:formattingHints>
          </design:usageHints>
        </design:resultColumnDefinitions>
        <design:resultColumnDefinitions>
          <design:attributes>
            <design:identifier>
              <design:name>_id.reportado</design:name>
              <design:position>2</design:position>
            </design:identifier>
            <design:nativeDataTypeCode>2</design:nativeDataTypeCode>
            <design:precision>-1</design:precision>
            <design:scale>-1</design:scale>
            <design:nullability>Nullable</design:nullability>
            <design:uiHints>
              <design:displayName>_id.reportado</design:displayName>
            </design:uiHints>
          </design:attributes>
          <design:usageHints>
            <design:label>_id.reportado</design:label>
            <design:formattingHints>
              <design:displaySize>-1</design:displaySize>
            </design:formattingHints>
          </design:usageHints>
        </design:resultColumnDefinitions>
        <design:resultColumnDefinitions>
          <design:attributes>
            <design:identifier>
              <design:name>cantidad</design:name>
              <design:position>3</design:position>
            </design:identifier>
            <design:nativeDataTypeCode>16</design:nativeDataTypeCode>
            <design:precision>-1</design:precision>
            <design:scale>-1</design:scale>
            <design:nullability>Nullable</design:nullability>
            <design:uiHints>
              <design:displayName>cantidad</design:displayName>
            </design:uiHints>
          </design:attributes>
          <design:usageHints>
            <design:label>cantidad</design:label>
            <design:formattingHints>
              <design:displaySize>-1</design:displaySize>
            </design:formattingHints>
          </design:usageHints>
        </design:resultColumnDefinitions>
      </design:resultSetColumns>
      <design:criteria/>
    </design:resultSetDefinitions>
  </design:ResultSets>
</model:DesignValues>]]></xml-property>
        </oda-data-set>
        <derived-data-set extensionID="com.actuate.birt.data.union" name="Produccion fibra y cobre avasan" id="644">
            <list-property name="computedColumns">
                <structure>
                    <property name="name">Mes</property>
                    <expression name="expression" type="javascript">var month = row["month"];&#13;
var display = "";&#13;
var months = ["Enero", "Febrero", "Marzo", "Abril", "Mayo", "Junio", "Julio", "Agosto", "Septiembre", "Octubre", "Noviembre", "Diciembre"];&#13;
&#13;
if(month != null || month != ""){&#13;
	display = months[month-1];&#13;
}&#13;
&#13;
display;</expression>
                    <property name="dataType">string</property>
                </structure>
                <structure>
                    <property name="name">Cope</property>
                    <expression name="expression" type="javascript">var area = row["_id.cope"];&#13;
if(area == null){&#13;
	area = "";&#13;
}&#13;
area = area.toUpperCase();&#13;
var arr = area.split('_');&#13;
var resultado = '';&#13;
for (var i = 0; i &lt;arr.length;i++){&#13;
var te =  (new Packages.java.lang.String(arr[i]));&#13;
	resultado = resultado +  new Packages.java.lang.Character.toString(te.charAt(0)).toUpperCase() + te.substring(1);&#13;
	if (i &lt; arr.length - 1) {&#13;
		resultado = resultado + ' ';&#13;
	}&#13;
}&#13;
resultado;</expression>
                    <property name="dataType">string</property>
                </structure>
                <structure>
                    <property name="name">Tipo</property>
                    <expression name="expression" type="javascript">var tipo = row["_id.tipo"];&#13;
var display = "";&#13;
var ts = tipo.indexOf("TS");&#13;
var tk = tipo.indexOf("TK");&#13;
var vsi = tipo.indexOf("VSI");&#13;
var fc = tipo.indexOf("FC");&#13;
&#13;
if(ts != -1 || tk != -1 || vsi != -1 || fc != -1){&#13;
	display = "Migraciones";&#13;
}else{&#13;
	display = "Ordenes de servicio";&#13;
}&#13;
&#13;
display;</expression>
                    <property name="dataType">string</property>
                </structure>
            </list-property>
            <list-property name="columnHints">
                <structure>
                    <property name="columnName">_id.cope</property>
                    <property name="analysis">dimension</property>
                    <text-property name="displayName">_id.cope</text-property>
                    <property name="indexColumn">false</property>
                    <property name="compressed">false</property>
                </structure>
                <structure>
                    <property name="columnName">_id.reportado</property>
                    <property name="analysis">dimension</property>
                    <text-property name="displayName">_id.reportado</text-property>
                    <property name="indexColumn">false</property>
                    <property name="compressed">false</property>
                </structure>
                <structure>
                    <property name="columnName">cantidad</property>
                    <property name="analysis">measure</property>
                    <text-property name="displayName">cantidad</text-property>
                    <property name="indexColumn">false</property>
                    <property name="compressed">false</property>
                </structure>
                <structure>
                    <property name="columnName">year</property>
                    <property name="analysis">dimension</property>
                    <property name="indexColumn">false</property>
                    <property name="compressed">false</property>
                </structure>
                <structure>
                    <property name="columnName">month</property>
                    <property name="analysis">measure</property>
                    <property name="indexColumn">false</property>
                    <property name="compressed">false</property>
                </structure>
                <structure>
                    <property name="columnName">day</property>
                    <property name="analysis">measure</property>
                    <property name="indexColumn">false</property>
                    <property name="compressed">false</property>
                </structure>
                <structure>
                    <property name="columnName">Mes</property>
                    <property name="analysis">dimension</property>
                </structure>
                <structure>
                    <property name="columnName">Cope</property>
                    <property name="analysis">dimension</property>
                </structure>
                <structure>
                    <property name="columnName">Tipo</property>
                    <property name="analysis">dimension</property>
                </structure>
            </list-property>
            <structure name="cachedMetaData">
                <list-property name="resultSet">
                    <structure>
                        <property name="position">1</property>
                        <property name="name">_id.cope</property>
                        <property name="dataType">string</property>
                    </structure>
                    <structure>
                        <property name="position">2</property>
                        <property name="name">_id.reportado</property>
                        <property name="dataType">string</property>
                    </structure>
                    <structure>
                        <property name="position">3</property>
                        <property name="name">_id.tipo</property>
                        <property name="dataType">string</property>
                    </structure>
                    <structure>
                        <property name="position">4</property>
                        <property name="name">cantidad</property>
                        <property name="dataType">integer</property>
                    </structure>
                    <structure>
                        <property name="position">5</property>
                        <property name="name">year</property>
                        <property name="dataType">integer</property>
                    </structure>
                    <structure>
                        <property name="position">6</property>
                        <property name="name">month</property>
                        <property name="dataType">integer</property>
                    </structure>
                    <structure>
                        <property name="position">7</property>
                        <property name="name">day</property>
                        <property name="dataType">integer</property>
                    </structure>
                    <structure>
                        <property name="position">8</property>
                        <property name="name">Mes</property>
                        <property name="dataType">string</property>
                    </structure>
                    <structure>
                        <property name="position">9</property>
                        <property name="name">Cope</property>
                        <property name="dataType">string</property>
                    </structure>
                    <structure>
                        <property name="position">10</property>
                        <property name="name">Tipo</property>
                        <property name="dataType">string</property>
                    </structure>
                </list-property>
            </structure>
            <simple-property-list name="inputDataSets">
                <value>Produccion fibra avasan</value>
                <value>Produccion cobre avasan</value>
            </simple-property-list>
            <xml-property name="queryText"><![CDATA[<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<tns:Union xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://schemas.actuate.com/birt/dataset_union.xsd" xmlns:tns="http://schemas.actuate.com/">
<tns:DataSet Index="0" name="Produccion fibra avasan">
<tns:Column name="_id.cope"/>
<tns:Column name="_id.reportado"/>
<tns:Column name="_id.tipo"/>
<tns:Column name="cantidad"/>
<tns:Column name="year"/>
<tns:Column name="month"/>
<tns:Column name="day"/>
</tns:DataSet>
<tns:DataSet Index="1" name="Produccion cobre avasan">
<tns:Column name="_id.cope"/>
<tns:Column name="_id.reportado"/>
<tns:Column name="cantidad"/>
<tns:Column name="_id.tipo"/>
<tns:Column name="year"/>
<tns:Column name="month"/>
<tns:Column name="day"/>
</tns:DataSet>
</tns:Union>]]></xml-property>
        </derived-data-set>
        <derived-data-set extensionID="com.actuate.birt.data.join" name="Join Produccion Avasan - DSAC" id="646">
            <list-property name="columnHints">
                <structure>
                    <property name="columnName">cantidad</property>
                    <property name="analysis">measure</property>
                    <text-property name="displayName">cantidad</text-property>
                    <property name="indexColumn">false</property>
                    <property name="compressed">false</property>
                </structure>
                <structure>
                    <property name="columnName">year</property>
                    <property name="analysis">dimension</property>
                    <property name="indexColumn">false</property>
                    <property name="compressed">false</property>
                </structure>
                <structure>
                    <property name="columnName">month</property>
                    <property name="analysis">measure</property>
                    <property name="indexColumn">false</property>
                    <property name="compressed">false</property>
                </structure>
                <structure>
                    <property name="columnName">day</property>
                    <property name="analysis">measure</property>
                    <property name="indexColumn">false</property>
                    <property name="compressed">false</property>
                </structure>
                <structure>
                    <property name="columnName">Mes</property>
                    <property name="analysis">dimension</property>
                    <property name="indexColumn">false</property>
                    <property name="compressed">false</property>
                </structure>
                <structure>
                    <property name="columnName">Cope</property>
                    <property name="analysis">dimension</property>
                    <property name="indexColumn">false</property>
                    <property name="compressed">false</property>
                </structure>
                <structure>
                    <property name="columnName">Tipo</property>
                    <property name="analysis">dimension</property>
                    <property name="indexColumn">false</property>
                    <property name="compressed">false</property>
                </structure>
                <structure>
                    <property name="columnName">area</property>
                    <property name="analysis">dimension</property>
                    <text-property name="displayName">area</text-property>
                    <property name="indexColumn">false</property>
                    <property name="compressed">false</property>
                </structure>
                <structure>
                    <property name="columnName">cope</property>
                    <property name="analysis">dimension</property>
                    <text-property name="displayName">cope</text-property>
                    <property name="indexColumn">false</property>
                    <property name="compressed">false</property>
                </structure>
                <structure>
                    <property name="columnName">Division</property>
                    <property name="analysis">dimension</property>
                    <property name="indexColumn">false</property>
                    <property name="compressed">false</property>
                </structure>
                <structure>
                    <property name="columnName">Subdireccion</property>
                    <property name="analysis">dimension</property>
                    <property name="indexColumn">false</property>
                    <property name="compressed">false</property>
                </structure>
            </list-property>
            <structure name="cachedMetaData">
                <list-property name="resultSet">
                    <structure>
                        <property name="position">1</property>
                        <property name="name">cantidad</property>
                        <property name="dataType">integer</property>
                    </structure>
                    <structure>
                        <property name="position">2</property>
                        <property name="name">year</property>
                        <property name="dataType">integer</property>
                    </structure>
                    <structure>
                        <property name="position">3</property>
                        <property name="name">month</property>
                        <property name="dataType">integer</property>
                    </structure>
                    <structure>
                        <property name="position">4</property>
                        <property name="name">day</property>
                        <property name="dataType">integer</property>
                    </structure>
                    <structure>
                        <property name="position">5</property>
                        <property name="name">Mes</property>
                        <property name="dataType">string</property>
                    </structure>
                    <structure>
                        <property name="position">6</property>
                        <property name="name">Cope</property>
                        <property name="dataType">string</property>
                    </structure>
                    <structure>
                        <property name="position">7</property>
                        <property name="name">Tipo</property>
                        <property name="dataType">string</property>
                    </structure>
                    <structure>
                        <property name="position">8</property>
                        <property name="name">area</property>
                        <property name="dataType">string</property>
                    </structure>
                    <structure>
                        <property name="position">9</property>
                        <property name="name">cope</property>
                        <property name="dataType">string</property>
                    </structure>
                    <structure>
                        <property name="position">10</property>
                        <property name="name">Division</property>
                        <property name="dataType">string</property>
                    </structure>
                    <structure>
                        <property name="position">11</property>
                        <property name="name">Subdireccion</property>
                        <property name="dataType">string</property>
                    </structure>
                </list-property>
            </structure>
            <simple-property-list name="inputDataSets">
                <value>Produccion fibra y cobre avasan</value>
                <value>Area-Cope-Div-Sub</value>
            </simple-property-list>
            <xml-property name="queryText"><![CDATA[<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<tns:joinedDataSet xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://schemas.actuate.com/birt/dataset_join.xsd" xmlns:tns="http://schemas.actuate.com/birt/dataset_join.xsd">
<tns:selectColumns>
<tns:Column>Produccion fibra y cobre avasan::cantidad</tns:Column>
<tns:Column>Produccion fibra y cobre avasan::year</tns:Column>
<tns:Column>Produccion fibra y cobre avasan::month</tns:Column>
<tns:Column>Produccion fibra y cobre avasan::day</tns:Column>
<tns:Column>Produccion fibra y cobre avasan::Mes</tns:Column>
<tns:Column>Produccion fibra y cobre avasan::Cope</tns:Column>
<tns:Column>Produccion fibra y cobre avasan::Tipo</tns:Column>
<tns:Column>Area-Cope-Div-Sub::area</tns:Column>
<tns:Column>Area-Cope-Div-Sub::cope</tns:Column>
<tns:Column>Area-Cope-Div-Sub::Division</tns:Column>
<tns:Column>Area-Cope-Div-Sub::Subdireccion</tns:Column>
</tns:selectColumns>
<tns:joins>
<tns:startingDataSet Index="0" name="Produccion fibra y cobre avasan"/>
<tns:join>
<tns:type>leftOuter</tns:type>
<tns:dataSet Index="1" name="Area-Cope-Div-Sub"/>
<tns:on>
<tns:condition>
<tns:leftColumn>Produccion fibra y cobre avasan::Cope</tns:leftColumn>
<tns:rightColumn>Area-Cope-Div-Sub::cope</tns:rightColumn>
<tns:operator>eq</tns:operator>
</tns:condition>
</tns:on>
</tns:join>
</tns:joins>
</tns:joinedDataSet>]]></xml-property>
        </derived-data-set>
        <oda-data-set extensionID="org.eclipse.birt.data.oda.mongodb.dataSet" name="Ao Cobre Avasan" id="647">
            <list-property name="computedColumns">
                <structure>
                    <property name="name">year</property>
                    <expression name="expression" type="javascript">BirtDateTime.year(row["_id.reportado"])</expression>
                    <property name="dataType">integer</property>
                </structure>
                <structure>
                    <property name="name">month</property>
                    <expression name="expression" type="javascript">BirtDateTime.month(row["_id.reportado"])</expression>
                    <property name="dataType">integer</property>
                </structure>
                <structure>
                    <property name="name">Mes</property>
                    <expression name="expression" type="javascript">var month  = row["month"];&#13;
var months = ["Enero", "Febrero", "Marzo", "Abril", "Mayo", "Junio", "Julio", "Agosto", "Septiembre", "Octubre", "Noviembre", "Diciembre"];&#13;
var display = "";&#13;
if(month != null || month != 0){&#13;
	display = months[month-1];&#13;
}&#13;
&#13;
display;</expression>
                    <property name="dataType">string</property>
                </structure>
            </list-property>
            <list-property name="columnHints">
                <structure>
                    <property name="columnName">_id.reportado</property>
                    <property name="analysis">dimension</property>
                    <text-property name="displayName">_id.reportado</text-property>
                    <text-property name="heading">_id.reportado</text-property>
                    <property name="indexColumn">false</property>
                    <property name="compressed">false</property>
                </structure>
                <structure>
                    <property name="columnName">year</property>
                    <property name="analysis">measure</property>
                </structure>
                <structure>
                    <property name="columnName">month</property>
                    <property name="analysis">measure</property>
                </structure>
                <structure>
                    <property name="columnName">Mes</property>
                    <property name="analysis">dimension</property>
                </structure>
            </list-property>
            <list-property name="filter">
                <structure>
                    <property name="operator">is-not-null</property>
                    <expression name="expr" type="javascript">row["_id.reportado"]</expression>
                </structure>
            </list-property>
            <list-property name="parameters"/>
            <structure name="cachedMetaData">
                <list-property name="resultSet">
                    <structure>
                        <property name="position">1</property>
                        <property name="name">_id.reportado</property>
                        <property name="dataType">string</property>
                    </structure>
                    <structure>
                        <property name="position">2</property>
                        <property name="name">year</property>
                        <property name="dataType">integer</property>
                    </structure>
                    <structure>
                        <property name="position">3</property>
                        <property name="name">month</property>
                        <property name="dataType">integer</property>
                    </structure>
                    <structure>
                        <property name="position">4</property>
                        <property name="name">Mes</property>
                        <property name="dataType">string</property>
                    </structure>
                </list-property>
            </structure>
            <property name="dataSource">MongoDB</property>
            <list-property name="resultSet">
                <structure>
                    <property name="position">1</property>
                    <property name="name">_id.reportado</property>
                    <property name="nativeName">_id.reportado</property>
                    <property name="dataType">string</property>
                    <property name="nativeDataType">2</property>
                </structure>
            </list-property>
            <xml-property name="queryText"><![CDATA[{ "operationExpr" : "[{$match:{\r\n\tform_id: {$in: [10540,25928,25927,25929]},\r\n\tdeleted_at:{$exists:false},\r\n\tanswers.f1054000a030000000000002: 'liquidada',\r\n\tanswers.f1054000a0100000000000a2: { $in: ['aguascalientes','colima','guadalajara_centro','guadalajara_oriente','guadalajara_poniente','jalisco','puerto_vallarta','tepic','zacatecas']},\r\n}},\r\n{$group: {_id:{\r\n\t\treportado:'$answers.5a1eecfbb43fdd65914505a1', \r\n  },\r\n  \tcantidad: {$sum:1},\r\n  }}\r\n\r\n]" , "queryReadPreference" : "secondaryPreferred" , "operationType" : "AGGREGATE" , "selectedFields" : [ "_id.reportado"] , "collectionName" : "form_answer"}]]></xml-property>
            <structure name="designerState">
                <property name="version">1.0</property>
                <property name="stateContentAsString">false,1000000000</property>
            </structure>
            <xml-property name="designerValues"><![CDATA[<?xml version="1.0" encoding="UTF-8"?>
<model:DesignValues xmlns:design="http://www.eclipse.org/datatools/connectivity/oda/design" xmlns:model="http://www.eclipse.org/birt/report/model/adapter/odaModel">
  <Version>2.0</Version>
  <design:ResultSets derivedMetaData="true">
    <design:resultSetDefinitions>
      <design:resultSetColumns>
        <design:resultColumnDefinitions>
          <design:attributes>
            <design:identifier>
              <design:name>_id.reportado</design:name>
              <design:position>1</design:position>
            </design:identifier>
            <design:nativeDataTypeCode>2</design:nativeDataTypeCode>
            <design:precision>-1</design:precision>
            <design:scale>-1</design:scale>
            <design:nullability>Nullable</design:nullability>
            <design:uiHints>
              <design:displayName>_id.reportado</design:displayName>
            </design:uiHints>
          </design:attributes>
          <design:usageHints>
            <design:label>_id.reportado</design:label>
            <design:formattingHints>
              <design:displaySize>-1</design:displaySize>
            </design:formattingHints>
          </design:usageHints>
        </design:resultColumnDefinitions>
      </design:resultSetColumns>
      <design:criteria/>
    </design:resultSetDefinitions>
  </design:ResultSets>
</model:DesignValues>]]></xml-property>
        </oda-data-set>
        <oda-data-set extensionID="org.eclipse.birt.data.oda.mongodb.dataSet" name="Ao Fibra Avasan" id="648">
            <list-property name="computedColumns">
                <structure>
                    <property name="name">year</property>
                    <expression name="expression" type="javascript">BirtDateTime.year(row["_id.reportado"])</expression>
                    <property name="dataType">integer</property>
                </structure>
                <structure>
                    <property name="name">month</property>
                    <expression name="expression" type="javascript">BirtDateTime.month(row["_id.reportado"])</expression>
                    <property name="dataType">integer</property>
                </structure>
                <structure>
                    <property name="name">Mes</property>
                    <expression name="expression" type="javascript">var month  = row["month"];&#13;
var months = ["Enero", "Febrero", "Marzo", "Abril", "Mayo", "Junio", "Julio", "Agosto", "Septiembre", "Octubre", "Noviembre", "Diciembre"];&#13;
var display = "";&#13;
if(month != null || month != 0){&#13;
	display = months[month-1];&#13;
}&#13;
&#13;
display;</expression>
                    <property name="dataType">string</property>
                </structure>
            </list-property>
            <list-property name="columnHints">
                <structure>
                    <property name="columnName">_id.reportado</property>
                    <property name="analysis">dimension</property>
                    <text-property name="displayName">_id.reportado</text-property>
                    <text-property name="heading">_id.reportado</text-property>
                    <property name="indexColumn">false</property>
                    <property name="compressed">false</property>
                </structure>
                <structure>
                    <property name="columnName">year</property>
                    <property name="analysis">measure</property>
                    <property name="indexColumn">false</property>
                    <property name="compressed">false</property>
                </structure>
                <structure>
                    <property name="columnName">month</property>
                    <property name="analysis">measure</property>
                    <property name="indexColumn">false</property>
                    <property name="compressed">false</property>
                </structure>
                <structure>
                    <property name="columnName">Mes</property>
                    <property name="analysis">dimension</property>
                    <property name="indexColumn">false</property>
                    <property name="compressed">false</property>
                </structure>
            </list-property>
            <list-property name="filter">
                <structure>
                    <property name="operator">is-not-null</property>
                    <expression name="expr" type="javascript">row["_id.reportado"]</expression>
                </structure>
            </list-property>
            <list-property name="parameters"/>
            <structure name="cachedMetaData">
                <list-property name="resultSet">
                    <structure>
                        <property name="position">1</property>
                        <property name="name">_id.reportado</property>
                        <property name="dataType">string</property>
                    </structure>
                    <structure>
                        <property name="position">2</property>
                        <property name="name">year</property>
                        <property name="dataType">integer</property>
                    </structure>
                    <structure>
                        <property name="position">3</property>
                        <property name="name">month</property>
                        <property name="dataType">integer</property>
                    </structure>
                    <structure>
                        <property name="position">4</property>
                        <property name="name">Mes</property>
                        <property name="dataType">string</property>
                    </structure>
                </list-property>
            </structure>
            <property name="dataSource">MongoDB</property>
            <list-property name="resultSet">
                <structure>
                    <property name="position">1</property>
                    <property name="name">_id.reportado</property>
                    <property name="nativeName">_id.reportado</property>
                    <property name="dataType">string</property>
                    <property name="nativeDataType">2</property>
                </structure>
            </list-property>
            <xml-property name="queryText"><![CDATA[{ "operationExpr" : "[{$match:{\r\n\tform_id: {$in: [11044,16343,21953,21954]},\r\n\tdeleted_at:{$exists:false},\r\n\tanswers.f1054000a030000000000002: 'liquidada',\r\n\tanswers.f1054000a0100000000000a2: { $in: ['aguascalientes','colima','guadalajara_centro','guadalajara_oriente','guadalajara_poniente','jalisco','puerto_vallarta','tepic','zacatecas']},\r\n\r\n}},\r\n{$group: {_id:{\r\n\t\treportado:'$answers.f1054000a02000000000fa02', \r\n  },\r\n  \tcantidad: {$sum:1},\r\n  }}\r\n\r\n]" , "queryReadPreference" : "secondaryPreferred" , "operationType" : "AGGREGATE" , "selectedFields" : [ "_id.reportado"] , "collectionName" : "form_answer"}]]></xml-property>
            <structure name="designerState">
                <property name="version">1.0</property>
                <property name="stateContentAsString">false,1000000000</property>
            </structure>
            <xml-property name="designerValues"><![CDATA[<?xml version="1.0" encoding="UTF-8"?>
<model:DesignValues xmlns:design="http://www.eclipse.org/datatools/connectivity/oda/design" xmlns:model="http://www.eclipse.org/birt/report/model/adapter/odaModel">
  <Version>2.0</Version>
  <design:ResultSets derivedMetaData="true">
    <design:resultSetDefinitions>
      <design:resultSetColumns>
        <design:resultColumnDefinitions>
          <design:attributes>
            <design:identifier>
              <design:name>_id.reportado</design:name>
              <design:position>1</design:position>
            </design:identifier>
            <design:nativeDataTypeCode>2</design:nativeDataTypeCode>
            <design:precision>-1</design:precision>
            <design:scale>-1</design:scale>
            <design:nullability>Nullable</design:nullability>
            <design:uiHints>
              <design:displayName>_id.reportado</design:displayName>
            </design:uiHints>
          </design:attributes>
          <design:usageHints>
            <design:label>_id.reportado</design:label>
            <design:formattingHints>
              <design:displaySize>-1</design:displaySize>
            </design:formattingHints>
          </design:usageHints>
        </design:resultColumnDefinitions>
      </design:resultSetColumns>
      <design:criteria/>
    </design:resultSetDefinitions>
  </design:ResultSets>
</model:DesignValues>]]></xml-property>
        </oda-data-set>
        <derived-data-set extensionID="com.actuate.birt.data.union" name="Union Fechas Avasan" id="649">
            <list-property name="columnHints">
                <structure>
                    <property name="columnName">year</property>
                    <property name="analysis">measure</property>
                    <property name="indexColumn">false</property>
                    <property name="compressed">false</property>
                </structure>
                <structure>
                    <property name="columnName">month</property>
                    <property name="analysis">measure</property>
                    <property name="indexColumn">false</property>
                    <property name="compressed">false</property>
                </structure>
                <structure>
                    <property name="columnName">Mes</property>
                    <property name="analysis">dimension</property>
                    <property name="indexColumn">false</property>
                    <property name="compressed">false</property>
                </structure>
            </list-property>
            <structure name="cachedMetaData">
                <list-property name="resultSet">
                    <structure>
                        <property name="position">1</property>
                        <property name="name">year</property>
                        <property name="dataType">integer</property>
                    </structure>
                    <structure>
                        <property name="position">2</property>
                        <property name="name">month</property>
                        <property name="dataType">integer</property>
                    </structure>
                    <structure>
                        <property name="position">3</property>
                        <property name="name">Mes</property>
                        <property name="dataType">string</property>
                    </structure>
                </list-property>
            </structure>
            <simple-property-list name="inputDataSets">
                <value>Ao Cobre Avasan</value>
                <value>Ao Fibra Avasan</value>
            </simple-property-list>
            <xml-property name="queryText"><![CDATA[<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<tns:Union xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://schemas.actuate.com/birt/dataset_union.xsd" xmlns:tns="http://schemas.actuate.com/">
<tns:DataSet Index="0" name="Ao Cobre Avasan">
<tns:Column name="year"/>
<tns:Column name="month"/>
<tns:Column name="Mes"/>
</tns:DataSet>
<tns:DataSet Index="1" name="Ao Fibra Avasan">
<tns:Column name="year"/>
<tns:Column name="month"/>
<tns:Column name="Mes"/>
</tns:DataSet>
</tns:Union>]]></xml-property>
        </derived-data-set>
        <oda-data-set extensionID="org.eclipse.birt.data.oda.mongodb.dataSet" name="Produccion fibra at" id="656">
            <list-property name="computedColumns">
                <structure>
                    <property name="name">year</property>
                    <expression name="expression" type="javascript">var fecha = row["_id.reportado"];&#13;
var display = "";&#13;
var apoyo = "";&#13;
&#13;
if(fecha != "" || fecha != null){&#13;
	apoyo = fecha.substring(0,4);&#13;
	display = parseInt(apoyo, 10);&#13;
}&#13;
&#13;
display;</expression>
                    <property name="dataType">integer</property>
                </structure>
                <structure>
                    <property name="name">month</property>
                    <expression name="expression" type="javascript">var fecha = row["_id.reportado"];&#13;
var display = "";&#13;
var apoyo = "";&#13;
&#13;
if(fecha != "" || fecha != null){&#13;
	apoyo = fecha.substring(5,7);&#13;
	display = parseInt(apoyo, 10);&#13;
}&#13;
&#13;
display;</expression>
                    <property name="dataType">integer</property>
                </structure>
                <structure>
                    <property name="name">day</property>
                    <expression name="expression" type="javascript">var fecha = row["_id.reportado"];&#13;
var display = "";&#13;
var apoyo = "";&#13;
&#13;
if(fecha != "" || fecha != null){&#13;
	apoyo = fecha.substring(8);&#13;
	display = parseInt(apoyo, 10);&#13;
}&#13;
&#13;
display;</expression>
                    <property name="dataType">integer</property>
                </structure>
            </list-property>
            <list-property name="columnHints">
                <structure>
                    <property name="columnName">_id.cope</property>
                    <property name="analysis">dimension</property>
                    <text-property name="displayName">_id.cope</text-property>
                    <text-property name="heading">_id.cope</text-property>
                    <property name="indexColumn">false</property>
                    <property name="compressed">false</property>
                </structure>
                <structure>
                    <property name="columnName">_id.reportado</property>
                    <property name="analysis">dimension</property>
                    <text-property name="displayName">_id.reportado</text-property>
                    <text-property name="heading">_id.reportado</text-property>
                    <property name="horizontalAlign">left</property>
                    <property name="indexColumn">false</property>
                    <property name="compressed">false</property>
                </structure>
                <structure>
                    <property name="columnName">_id.tipo</property>
                    <property name="analysis">dimension</property>
                    <text-property name="displayName">_id.tipo</text-property>
                    <text-property name="heading">_id.tipo</text-property>
                </structure>
                <structure>
                    <property name="columnName">cantidad</property>
                    <property name="analysis">measure</property>
                    <text-property name="displayName">cantidad</text-property>
                    <text-property name="heading">cantidad</text-property>
                    <property name="indexColumn">false</property>
                    <property name="compressed">false</property>
                </structure>
                <structure>
                    <property name="columnName">year</property>
                    <property name="analysis">dimension</property>
                    <property name="indexColumn">false</property>
                    <property name="compressed">false</property>
                </structure>
                <structure>
                    <property name="columnName">month</property>
                    <property name="analysis">measure</property>
                </structure>
                <structure>
                    <property name="columnName">day</property>
                    <property name="analysis">measure</property>
                </structure>
            </list-property>
            <list-property name="filter">
                <structure>
                    <property name="operator">ne</property>
                    <expression name="expr" type="javascript">row["_id.reportado"]</expression>
                    <simple-property-list name="value1">
                        <value type="javascript">""</value>
                    </simple-property-list>
                </structure>
                <structure>
                    <property name="operator">ne</property>
                    <expression name="expr" type="javascript">row["_id.cope"]</expression>
                    <simple-property-list name="value1">
                        <value type="javascript">"villa_nicolas_romero"</value>
                    </simple-property-list>
                </structure>
                <structure>
                    <property name="operator">ne</property>
                    <expression name="expr" type="javascript">row["_id.cope"]</expression>
                    <simple-property-list name="value1">
                        <value type="javascript">"santa_fe_[mex]"</value>
                    </simple-property-list>
                </structure>
                <structure>
                    <property name="operator">ne</property>
                    <expression name="expr" type="javascript">row["_id.cope"]</expression>
                    <simple-property-list name="value1">
                        <value type="javascript">"satelite"</value>
                    </simple-property-list>
                </structure>
                <structure>
                    <property name="operator">ne</property>
                    <expression name="expr" type="javascript">row["_id.cope"]</expression>
                    <simple-property-list name="value1">
                        <value type="javascript">"tezozomoc"</value>
                    </simple-property-list>
                </structure>
                <structure>
                    <property name="operator">ne</property>
                    <expression name="expr" type="javascript">row["_id.cope"]</expression>
                    <simple-property-list name="value1">
                        <value type="javascript">"colina"</value>
                    </simple-property-list>
                </structure>
            </list-property>
            <list-property name="parameters"/>
            <structure name="cachedMetaData">
                <list-property name="resultSet">
                    <structure>
                        <property name="position">1</property>
                        <property name="name">_id.cope</property>
                        <property name="dataType">string</property>
                    </structure>
                    <structure>
                        <property name="position">2</property>
                        <property name="name">_id.reportado</property>
                        <property name="dataType">string</property>
                    </structure>
                    <structure>
                        <property name="position">3</property>
                        <property name="name">_id.tipo</property>
                        <property name="dataType">string</property>
                    </structure>
                    <structure>
                        <property name="position">4</property>
                        <property name="name">cantidad</property>
                        <property name="dataType">integer</property>
                    </structure>
                    <structure>
                        <property name="position">5</property>
                        <property name="name">year</property>
                        <property name="dataType">integer</property>
                    </structure>
                    <structure>
                        <property name="position">6</property>
                        <property name="name">month</property>
                        <property name="dataType">integer</property>
                    </structure>
                    <structure>
                        <property name="position">7</property>
                        <property name="name">day</property>
                        <property name="dataType">integer</property>
                    </structure>
                </list-property>
            </structure>
            <method name="beforeOpen"><![CDATA[var query = this.queryText.toString();
var year = params["at year"].value;
var year_acumdia = params["year at"].value;
var month = params["month at"].value;
var bookmark = "{$exists:false},";


if(year != null &amp;&amp; year != ""){
	var year_to = year +1;
	new_query = "'answers.f1054000a02000000000fa02': {$gte: '" + year + "-01-01' , $lt: '" + year_to + "-01-01' },";
}
else if ((year_acumdia != null || year_acumdia != "") &amp;&amp; (month != null || month != "")) {
	var year_to = year_acumdia;
	var month_to = month + 1;
	
	if (month == 12) {
		month_to = '01';
		year_to = year_acumdia + 1;
	}
	
	if (month < 10) {
		month = '0' + month;
	}
	if (month_to < 10) {
		month_to = '0' + month_to;
	}
	
	new_query = "'answers.f1054000a02000000000fa02': {$gte: '" + year_acumdia + "-" + month +"-01' , $lt: '" + year_to + "-"+ month_to + "-01' },";
}


query = query.replace(bookmark, bookmark + new_query );
this.queryText = query;]]></method>
            <property name="dataSource">MongoDB</property>
            <list-property name="resultSet">
                <structure>
                    <property name="position">1</property>
                    <property name="name">_id.cope</property>
                    <property name="nativeName">_id.cope</property>
                    <property name="dataType">string</property>
                    <property name="nativeDataType">2</property>
                </structure>
                <structure>
                    <property name="position">2</property>
                    <property name="name">_id.reportado</property>
                    <property name="nativeName">_id.reportado</property>
                    <property name="dataType">string</property>
                    <property name="nativeDataType">2</property>
                </structure>
                <structure>
                    <property name="position">3</property>
                    <property name="name">_id.tipo</property>
                    <property name="nativeName">_id.tipo</property>
                    <property name="dataType">string</property>
                    <property name="nativeDataType">2</property>
                </structure>
                <structure>
                    <property name="position">4</property>
                    <property name="name">cantidad</property>
                    <property name="nativeName">cantidad</property>
                    <property name="dataType">integer</property>
                    <property name="nativeDataType">16</property>
                </structure>
            </list-property>
            <xml-property name="queryText"><![CDATA[{ "operationExpr" : "[{$match:{\r\n\tform_id: {$in: [11044,16343,21953,21954]},\r\n\tdeleted_at:{$exists:false},\r\n\tanswers.f1054000a030000000000002: 'liquidada',\r\n\tanswers.f1054000a0100000000000a2: { $in: ['la_paz','cd_obregon','culiacan','hermosillo','los_mochis','mazatlan','nogales']},\r\n}},\r\n{$group: {_id:{\r\n\t\tcope :'$answers.f1054000a010000000000002',\r\n\t\treportado: {$ifNull: ['$answers.f1054000a02000000000fa02', '']},\r\n\t\ttipo: '$answers.f1054000a010000000000021',\r\n  },\r\n  \tcantidad: {$sum:1},\r\n  }}\r\n\r\n]" , "queryReadPreference" : "secondaryPreferred" , "operationType" : "AGGREGATE" , "selectedFields" : [ "_id.cope" , "_id.reportado" , "_id.tipo" , "cantidad"] , "collectionName" : "form_answer"}]]></xml-property>
            <structure name="designerState">
                <property name="version">1.0</property>
                <property name="stateContentAsString">false,1000000000</property>
            </structure>
            <xml-property name="designerValues"><![CDATA[<?xml version="1.0" encoding="UTF-8"?>
<model:DesignValues xmlns:design="http://www.eclipse.org/datatools/connectivity/oda/design" xmlns:model="http://www.eclipse.org/birt/report/model/adapter/odaModel">
  <Version>2.0</Version>
  <design:ResultSets derivedMetaData="true">
    <design:resultSetDefinitions>
      <design:resultSetColumns>
        <design:resultColumnDefinitions>
          <design:attributes>
            <design:identifier>
              <design:name>_id.cope</design:name>
              <design:position>1</design:position>
            </design:identifier>
            <design:nativeDataTypeCode>2</design:nativeDataTypeCode>
            <design:precision>-1</design:precision>
            <design:scale>-1</design:scale>
            <design:nullability>Nullable</design:nullability>
            <design:uiHints>
              <design:displayName>_id.cope</design:displayName>
            </design:uiHints>
          </design:attributes>
          <design:usageHints>
            <design:label>_id.cope</design:label>
            <design:formattingHints>
              <design:displaySize>-1</design:displaySize>
            </design:formattingHints>
          </design:usageHints>
        </design:resultColumnDefinitions>
        <design:resultColumnDefinitions>
          <design:attributes>
            <design:identifier>
              <design:name>_id.reportado</design:name>
              <design:position>2</design:position>
            </design:identifier>
            <design:nativeDataTypeCode>2</design:nativeDataTypeCode>
            <design:precision>-1</design:precision>
            <design:scale>-1</design:scale>
            <design:nullability>Nullable</design:nullability>
            <design:uiHints>
              <design:displayName>_id.reportado</design:displayName>
            </design:uiHints>
          </design:attributes>
          <design:usageHints>
            <design:label>_id.reportado</design:label>
            <design:formattingHints>
              <design:displaySize>-1</design:displaySize>
            </design:formattingHints>
          </design:usageHints>
        </design:resultColumnDefinitions>
        <design:resultColumnDefinitions>
          <design:attributes>
            <design:identifier>
              <design:name>cantidad</design:name>
              <design:position>3</design:position>
            </design:identifier>
            <design:nativeDataTypeCode>16</design:nativeDataTypeCode>
            <design:precision>-1</design:precision>
            <design:scale>-1</design:scale>
            <design:nullability>Nullable</design:nullability>
            <design:uiHints>
              <design:displayName>cantidad</design:displayName>
            </design:uiHints>
          </design:attributes>
          <design:usageHints>
            <design:label>cantidad</design:label>
            <design:formattingHints>
              <design:displaySize>-1</design:displaySize>
            </design:formattingHints>
          </design:usageHints>
        </design:resultColumnDefinitions>
      </design:resultSetColumns>
      <design:criteria/>
    </design:resultSetDefinitions>
  </design:ResultSets>
</model:DesignValues>]]></xml-property>
        </oda-data-set>
        <oda-data-set extensionID="org.eclipse.birt.data.oda.mongodb.dataSet" name="Produccion cobre at" id="657">
            <list-property name="computedColumns">
                <structure>
                    <property name="name">year</property>
                    <expression name="expression" type="javascript">var fecha = row["_id.reportado"];&#13;
var display = "";&#13;
var apoyo = "";&#13;
&#13;
if(fecha != "" || fecha != null){&#13;
	apoyo = fecha.substring(0,4);&#13;
	display = parseInt(apoyo, 10);&#13;
}&#13;
&#13;
display;</expression>
                    <property name="dataType">integer</property>
                </structure>
                <structure>
                    <property name="name">month</property>
                    <expression name="expression" type="javascript">var fecha = row["_id.reportado"];&#13;
var display = "";&#13;
var apoyo = "";&#13;
&#13;
if(fecha != "" || fecha != null){&#13;
	apoyo = fecha.substring(5,7);&#13;
	display = parseInt(apoyo, 10);&#13;
}&#13;
&#13;
display;</expression>
                    <property name="dataType">integer</property>
                </structure>
                <structure>
                    <property name="name">day</property>
                    <expression name="expression" type="javascript">var fecha = row["_id.reportado"];&#13;
var display = "";&#13;
var apoyo = "";&#13;
&#13;
if(fecha != "" || fecha != null){&#13;
	apoyo = fecha.substring(8);&#13;
	display = parseInt(apoyo, 10);&#13;
}&#13;
&#13;
display;</expression>
                    <property name="dataType">integer</property>
                </structure>
            </list-property>
            <list-property name="columnHints">
                <structure>
                    <property name="columnName">_id.cope</property>
                    <property name="analysis">dimension</property>
                    <text-property name="displayName">_id.cope</text-property>
                    <text-property name="heading">_id.cope</text-property>
                    <property name="indexColumn">false</property>
                    <property name="compressed">false</property>
                </structure>
                <structure>
                    <property name="columnName">_id.reportado</property>
                    <property name="analysis">dimension</property>
                    <text-property name="displayName">_id.reportado</text-property>
                    <text-property name="heading">_id.reportado</text-property>
                    <property name="horizontalAlign">left</property>
                    <property name="indexColumn">false</property>
                    <property name="compressed">false</property>
                </structure>
                <structure>
                    <property name="columnName">cantidad</property>
                    <property name="analysis">measure</property>
                    <text-property name="displayName">cantidad</text-property>
                    <text-property name="heading">cantidad</text-property>
                    <property name="indexColumn">false</property>
                    <property name="compressed">false</property>
                </structure>
                <structure>
                    <property name="columnName">_id.tipo</property>
                    <property name="analysis">dimension</property>
                    <text-property name="displayName">_id.tipo</text-property>
                    <text-property name="heading">_id.tipo</text-property>
                </structure>
                <structure>
                    <property name="columnName">year</property>
                    <property name="analysis">dimension</property>
                    <property name="indexColumn">false</property>
                    <property name="compressed">false</property>
                </structure>
                <structure>
                    <property name="columnName">month</property>
                    <property name="analysis">measure</property>
                </structure>
                <structure>
                    <property name="columnName">day</property>
                    <property name="analysis">measure</property>
                </structure>
            </list-property>
            <list-property name="filter">
                <structure>
                    <property name="operator">ne</property>
                    <expression name="expr" type="javascript">row["_id.reportado"]</expression>
                    <simple-property-list name="value1">
                        <value type="javascript">""</value>
                    </simple-property-list>
                </structure>
                <structure>
                    <property name="operator">ne</property>
                    <expression name="expr" type="javascript">row["_id.cope"]</expression>
                    <simple-property-list name="value1">
                        <value type="javascript">"villa_nicolas_romero"</value>
                    </simple-property-list>
                </structure>
                <structure>
                    <property name="operator">ne</property>
                    <expression name="expr" type="javascript">row["_id.cope"]</expression>
                    <simple-property-list name="value1">
                        <value type="javascript">"santa_fe_[mex]"</value>
                    </simple-property-list>
                </structure>
                <structure>
                    <property name="operator">ne</property>
                    <expression name="expr" type="javascript">row["_id.cope"]</expression>
                    <simple-property-list name="value1">
                        <value type="javascript">"satelite"</value>
                    </simple-property-list>
                </structure>
                <structure>
                    <property name="operator">ne</property>
                    <expression name="expr" type="javascript">row["_id.cope"]</expression>
                    <simple-property-list name="value1">
                        <value type="javascript">"tezozomoc"</value>
                    </simple-property-list>
                </structure>
                <structure>
                    <property name="operator">ne</property>
                    <expression name="expr" type="javascript">row["_id.cope"]</expression>
                    <simple-property-list name="value1">
                        <value type="javascript">"colina"</value>
                    </simple-property-list>
                </structure>
            </list-property>
            <list-property name="parameters"/>
            <structure name="cachedMetaData">
                <list-property name="resultSet">
                    <structure>
                        <property name="position">1</property>
                        <property name="name">_id.cope</property>
                        <property name="dataType">string</property>
                    </structure>
                    <structure>
                        <property name="position">2</property>
                        <property name="name">_id.reportado</property>
                        <property name="dataType">string</property>
                    </structure>
                    <structure>
                        <property name="position">3</property>
                        <property name="name">cantidad</property>
                        <property name="dataType">integer</property>
                    </structure>
                    <structure>
                        <property name="position">4</property>
                        <property name="name">_id.tipo</property>
                        <property name="dataType">string</property>
                    </structure>
                    <structure>
                        <property name="position">5</property>
                        <property name="name">year</property>
                        <property name="dataType">integer</property>
                    </structure>
                    <structure>
                        <property name="position">6</property>
                        <property name="name">month</property>
                        <property name="dataType">integer</property>
                    </structure>
                    <structure>
                        <property name="position">7</property>
                        <property name="name">day</property>
                        <property name="dataType">integer</property>
                    </structure>
                </list-property>
            </structure>
            <method name="beforeOpen"><![CDATA[var query = this.queryText.toString();
var year = params["at year"].value;
var year_acumdia = params["year at"].value;
var month = params["month at"].value;
var bookmark = "{$exists:false},";


if(year != null &amp;&amp; year != ""){
	var year_to = year +1;
	new_query = "'answers.5a1eecfbb43fdd65914505a1': {$gte: '" + year + "-01-01' , $lt: '" + year_to + "-01-01' },";
}
else if ((year_acumdia != null || year_acumdia != "") &amp;&amp; (month != null || month != "")) {
	var year_to = year_acumdia;
	var month_to = month + 1;
	
	if (month == 12) {
		month_to = '01';
		year_to = year_acumdia + 1;
	}
	
	if (month < 10) {
		month = '0' + month;
	}
	if (month_to < 10) {
		month_to = '0' + month_to;
	}
	
	new_query = "'answers.5a1eecfbb43fdd65914505a1': {$gte: '" + year_acumdia + "-" + month +"-01' , $lt: '" + year_to + "-"+ month_to + "-01' },";
}
query = query.replace(bookmark, bookmark + new_query );
this.queryText = query;]]></method>
            <property name="dataSource">MongoDB</property>
            <list-property name="resultSet">
                <structure>
                    <property name="position">1</property>
                    <property name="name">_id.cope</property>
                    <property name="nativeName">_id.cope</property>
                    <property name="dataType">string</property>
                    <property name="nativeDataType">2</property>
                </structure>
                <structure>
                    <property name="position">2</property>
                    <property name="name">_id.reportado</property>
                    <property name="nativeName">_id.reportado</property>
                    <property name="dataType">string</property>
                    <property name="nativeDataType">2</property>
                </structure>
                <structure>
                    <property name="position">3</property>
                    <property name="name">cantidad</property>
                    <property name="nativeName">cantidad</property>
                    <property name="dataType">integer</property>
                    <property name="nativeDataType">16</property>
                </structure>
                <structure>
                    <property name="position">4</property>
                    <property name="name">_id.tipo</property>
                    <property name="nativeName">_id.tipo</property>
                    <property name="dataType">string</property>
                    <property name="nativeDataType">2</property>
                </structure>
            </list-property>
            <xml-property name="queryText"><![CDATA[{ "operationExpr" : "[{$match:{\r\n\tform_id: {$in: [10540,25928,25927,25929]},\r\n\tdeleted_at:{$exists:false},\r\n\tanswers.f1054000a030000000000002: 'liquidada',\r\n\tanswers.f1054000a0100000000000a2: { $in: ['la_paz','cd_obregon','culiacan','hermosillo','los_mochis','mazatlan','nogales']},\r\n}},\r\n{$group: {_id:{\r\n\t\tcope :{$ifNull: ['$answers.f1054000a010000000000002','Sin COPE']},\r\n\t\treportado: {$ifNull: ['$answers.5a1eecfbb43fdd65914505a1', '']},\r\n\t\ttipo: {$ifNull: ['$answers.f1054000a0100000000000a4','sin tipo']},\r\n  },\r\n  \tcantidad: {$sum:1},\r\n  }}\r\n\r\n]" , "queryReadPreference" : "secondaryPreferred" , "operationType" : "AGGREGATE" , "selectedFields" : [ "_id.cope" , "_id.reportado" , "cantidad" , "_id.tipo"] , "collectionName" : "form_answer"}]]></xml-property>
            <structure name="designerState">
                <property name="version">1.0</property>
                <property name="stateContentAsString">false,1000000000</property>
            </structure>
            <xml-property name="designerValues"><![CDATA[<?xml version="1.0" encoding="UTF-8"?>
<model:DesignValues xmlns:design="http://www.eclipse.org/datatools/connectivity/oda/design" xmlns:model="http://www.eclipse.org/birt/report/model/adapter/odaModel">
  <Version>2.0</Version>
  <design:ResultSets derivedMetaData="true">
    <design:resultSetDefinitions>
      <design:resultSetColumns>
        <design:resultColumnDefinitions>
          <design:attributes>
            <design:identifier>
              <design:name>_id.cope</design:name>
              <design:position>1</design:position>
            </design:identifier>
            <design:nativeDataTypeCode>2</design:nativeDataTypeCode>
            <design:precision>-1</design:precision>
            <design:scale>-1</design:scale>
            <design:nullability>Nullable</design:nullability>
            <design:uiHints>
              <design:displayName>_id.cope</design:displayName>
            </design:uiHints>
          </design:attributes>
          <design:usageHints>
            <design:label>_id.cope</design:label>
            <design:formattingHints>
              <design:displaySize>-1</design:displaySize>
            </design:formattingHints>
          </design:usageHints>
        </design:resultColumnDefinitions>
        <design:resultColumnDefinitions>
          <design:attributes>
            <design:identifier>
              <design:name>_id.reportado</design:name>
              <design:position>2</design:position>
            </design:identifier>
            <design:nativeDataTypeCode>2</design:nativeDataTypeCode>
            <design:precision>-1</design:precision>
            <design:scale>-1</design:scale>
            <design:nullability>Nullable</design:nullability>
            <design:uiHints>
              <design:displayName>_id.reportado</design:displayName>
            </design:uiHints>
          </design:attributes>
          <design:usageHints>
            <design:label>_id.reportado</design:label>
            <design:formattingHints>
              <design:displaySize>-1</design:displaySize>
            </design:formattingHints>
          </design:usageHints>
        </design:resultColumnDefinitions>
        <design:resultColumnDefinitions>
          <design:attributes>
            <design:identifier>
              <design:name>cantidad</design:name>
              <design:position>3</design:position>
            </design:identifier>
            <design:nativeDataTypeCode>16</design:nativeDataTypeCode>
            <design:precision>-1</design:precision>
            <design:scale>-1</design:scale>
            <design:nullability>Nullable</design:nullability>
            <design:uiHints>
              <design:displayName>cantidad</design:displayName>
            </design:uiHints>
          </design:attributes>
          <design:usageHints>
            <design:label>cantidad</design:label>
            <design:formattingHints>
              <design:displaySize>-1</design:displaySize>
            </design:formattingHints>
          </design:usageHints>
        </design:resultColumnDefinitions>
      </design:resultSetColumns>
      <design:criteria/>
    </design:resultSetDefinitions>
  </design:ResultSets>
</model:DesignValues>]]></xml-property>
        </oda-data-set>
        <derived-data-set extensionID="com.actuate.birt.data.union" name="Produccion fibra y cobre at" id="658">
            <list-property name="computedColumns">
                <structure>
                    <property name="name">Mes</property>
                    <expression name="expression" type="javascript">var month = row["month"];&#13;
var display = "";&#13;
var months = ["Enero", "Febrero", "Marzo", "Abril", "Mayo", "Junio", "Julio", "Agosto", "Septiembre", "Octubre", "Noviembre", "Diciembre"];&#13;
&#13;
if(month != null || month != ""){&#13;
	display = months[month-1];&#13;
}&#13;
&#13;
display;</expression>
                    <property name="dataType">string</property>
                </structure>
                <structure>
                    <property name="name">Cope</property>
                    <expression name="expression" type="javascript">var area = row["_id.cope"];&#13;
if(area == null){&#13;
	area = "";&#13;
}&#13;
area = area.toUpperCase();&#13;
var arr = area.split('_');&#13;
var resultado = '';&#13;
for (var i = 0; i &lt;arr.length;i++){&#13;
var te =  (new Packages.java.lang.String(arr[i]));&#13;
	resultado = resultado +  new Packages.java.lang.Character.toString(te.charAt(0)).toUpperCase() + te.substring(1);&#13;
	if (i &lt; arr.length - 1) {&#13;
		resultado = resultado + ' ';&#13;
	}&#13;
}&#13;
resultado;</expression>
                    <property name="dataType">string</property>
                </structure>
                <structure>
                    <property name="name">Tipo</property>
                    <expression name="expression" type="javascript">var tipo = row["_id.tipo"];&#13;
var display = "";&#13;
var ts = tipo.indexOf("TS");&#13;
var tk = tipo.indexOf("TK");&#13;
var vsi = tipo.indexOf("VSI");&#13;
var fc = tipo.indexOf("FC");&#13;
&#13;
if(ts != -1 || tk != -1 || vsi != -1 || fc != -1){&#13;
	display = "Migraciones";&#13;
}else{&#13;
	display = "Ordenes de servicio";&#13;
}&#13;
&#13;
display;</expression>
                    <property name="dataType">string</property>
                </structure>
            </list-property>
            <list-property name="columnHints">
                <structure>
                    <property name="columnName">_id.cope</property>
                    <property name="analysis">dimension</property>
                    <text-property name="displayName">_id.cope</text-property>
                    <property name="indexColumn">false</property>
                    <property name="compressed">false</property>
                </structure>
                <structure>
                    <property name="columnName">_id.reportado</property>
                    <property name="analysis">dimension</property>
                    <text-property name="displayName">_id.reportado</text-property>
                    <property name="indexColumn">false</property>
                    <property name="compressed">false</property>
                </structure>
                <structure>
                    <property name="columnName">cantidad</property>
                    <property name="analysis">measure</property>
                    <text-property name="displayName">cantidad</text-property>
                    <property name="indexColumn">false</property>
                    <property name="compressed">false</property>
                </structure>
                <structure>
                    <property name="columnName">year</property>
                    <property name="analysis">dimension</property>
                    <property name="indexColumn">false</property>
                    <property name="compressed">false</property>
                </structure>
                <structure>
                    <property name="columnName">month</property>
                    <property name="analysis">measure</property>
                    <property name="indexColumn">false</property>
                    <property name="compressed">false</property>
                </structure>
                <structure>
                    <property name="columnName">day</property>
                    <property name="analysis">measure</property>
                    <property name="indexColumn">false</property>
                    <property name="compressed">false</property>
                </structure>
                <structure>
                    <property name="columnName">Mes</property>
                    <property name="analysis">dimension</property>
                </structure>
                <structure>
                    <property name="columnName">Cope</property>
                    <property name="analysis">dimension</property>
                </structure>
                <structure>
                    <property name="columnName">Tipo</property>
                    <property name="analysis">dimension</property>
                </structure>
            </list-property>
            <structure name="cachedMetaData">
                <list-property name="resultSet">
                    <structure>
                        <property name="position">1</property>
                        <property name="name">_id.cope</property>
                        <property name="dataType">string</property>
                    </structure>
                    <structure>
                        <property name="position">2</property>
                        <property name="name">_id.reportado</property>
                        <property name="dataType">string</property>
                    </structure>
                    <structure>
                        <property name="position">3</property>
                        <property name="name">_id.tipo</property>
                        <property name="dataType">string</property>
                    </structure>
                    <structure>
                        <property name="position">4</property>
                        <property name="name">cantidad</property>
                        <property name="dataType">integer</property>
                    </structure>
                    <structure>
                        <property name="position">5</property>
                        <property name="name">year</property>
                        <property name="dataType">integer</property>
                    </structure>
                    <structure>
                        <property name="position">6</property>
                        <property name="name">month</property>
                        <property name="dataType">integer</property>
                    </structure>
                    <structure>
                        <property name="position">7</property>
                        <property name="name">day</property>
                        <property name="dataType">integer</property>
                    </structure>
                    <structure>
                        <property name="position">8</property>
                        <property name="name">Mes</property>
                        <property name="dataType">string</property>
                    </structure>
                    <structure>
                        <property name="position">9</property>
                        <property name="name">Cope</property>
                        <property name="dataType">string</property>
                    </structure>
                    <structure>
                        <property name="position">10</property>
                        <property name="name">Tipo</property>
                        <property name="dataType">string</property>
                    </structure>
                </list-property>
            </structure>
            <simple-property-list name="inputDataSets">
                <value>Produccion fibra at</value>
                <value>Produccion cobre at</value>
            </simple-property-list>
            <xml-property name="queryText"><![CDATA[<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<tns:Union xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://schemas.actuate.com/birt/dataset_union.xsd" xmlns:tns="http://schemas.actuate.com/">
<tns:DataSet Index="0" name="Produccion fibra at">
<tns:Column name="_id.cope"/>
<tns:Column name="_id.reportado"/>
<tns:Column name="_id.tipo"/>
<tns:Column name="cantidad"/>
<tns:Column name="year"/>
<tns:Column name="month"/>
<tns:Column name="day"/>
</tns:DataSet>
<tns:DataSet Index="1" name="Produccion cobre at">
<tns:Column name="_id.cope"/>
<tns:Column name="_id.reportado"/>
<tns:Column name="cantidad"/>
<tns:Column name="_id.tipo"/>
<tns:Column name="year"/>
<tns:Column name="month"/>
<tns:Column name="day"/>
</tns:DataSet>
</tns:Union>]]></xml-property>
        </derived-data-set>
        <oda-data-set extensionID="org.eclipse.birt.data.oda.mongodb.dataSet" name="Ao Fibra At" id="660">
            <list-property name="computedColumns">
                <structure>
                    <property name="name">year</property>
                    <expression name="expression" type="javascript">BirtDateTime.year(row["_id.reportado"])</expression>
                    <property name="dataType">integer</property>
                </structure>
                <structure>
                    <property name="name">month</property>
                    <expression name="expression" type="javascript">BirtDateTime.month(row["_id.reportado"])</expression>
                    <property name="dataType">integer</property>
                </structure>
                <structure>
                    <property name="name">Mes</property>
                    <expression name="expression" type="javascript">var month  = row["month"];&#13;
var months = ["Enero", "Febrero", "Marzo", "Abril", "Mayo", "Junio", "Julio", "Agosto", "Septiembre", "Octubre", "Noviembre", "Diciembre"];&#13;
var display = "";&#13;
if(month != null || month != 0){&#13;
	display = months[month-1];&#13;
}&#13;
&#13;
display;</expression>
                    <property name="dataType">string</property>
                </structure>
            </list-property>
            <list-property name="columnHints">
                <structure>
                    <property name="columnName">_id.reportado</property>
                    <property name="analysis">dimension</property>
                    <text-property name="displayName">_id.reportado</text-property>
                    <text-property name="heading">_id.reportado</text-property>
                    <property name="indexColumn">false</property>
                    <property name="compressed">false</property>
                </structure>
                <structure>
                    <property name="columnName">year</property>
                    <property name="analysis">measure</property>
                    <property name="indexColumn">false</property>
                    <property name="compressed">false</property>
                </structure>
                <structure>
                    <property name="columnName">month</property>
                    <property name="analysis">measure</property>
                    <property name="indexColumn">false</property>
                    <property name="compressed">false</property>
                </structure>
                <structure>
                    <property name="columnName">Mes</property>
                    <property name="analysis">dimension</property>
                    <property name="indexColumn">false</property>
                    <property name="compressed">false</property>
                </structure>
            </list-property>
            <list-property name="filter">
                <structure>
                    <property name="operator">is-not-null</property>
                    <expression name="expr" type="javascript">row["_id.reportado"]</expression>
                </structure>
            </list-property>
            <list-property name="parameters"/>
            <structure name="cachedMetaData">
                <list-property name="resultSet">
                    <structure>
                        <property name="position">1</property>
                        <property name="name">_id.reportado</property>
                        <property name="dataType">string</property>
                    </structure>
                    <structure>
                        <property name="position">2</property>
                        <property name="name">year</property>
                        <property name="dataType">integer</property>
                    </structure>
                    <structure>
                        <property name="position">3</property>
                        <property name="name">month</property>
                        <property name="dataType">integer</property>
                    </structure>
                    <structure>
                        <property name="position">4</property>
                        <property name="name">Mes</property>
                        <property name="dataType">string</property>
                    </structure>
                </list-property>
            </structure>
            <property name="dataSource">MongoDB</property>
            <list-property name="resultSet">
                <structure>
                    <property name="position">1</property>
                    <property name="name">_id.reportado</property>
                    <property name="nativeName">_id.reportado</property>
                    <property name="dataType">string</property>
                    <property name="nativeDataType">2</property>
                </structure>
            </list-property>
            <xml-property name="queryText"><![CDATA[{ "operationExpr" : "[{$match:{\r\n\tform_id: {$in: [11044,16343,21953,21954]},\r\n\tdeleted_at:{$exists:false},\r\n\tanswers.f1054000a030000000000002: 'liquidada',\r\n\tanswers.f1054000a0100000000000a2: { $in: ['la_paz','cd_obregon','culiacan','hermosillo','los_mochis','mazatlan','nogales']},\r\n\r\n}},\r\n{$group: {_id:{\r\n\t\treportado:'$answers.f1054000a02000000000fa02', \r\n  },\r\n  \tcantidad: {$sum:1},\r\n  }}\r\n\r\n]" , "queryReadPreference" : "secondaryPreferred" , "operationType" : "AGGREGATE" , "selectedFields" : [ "_id.reportado"] , "collectionName" : "form_answer"}]]></xml-property>
            <structure name="designerState">
                <property name="version">1.0</property>
                <property name="stateContentAsString">false,1000000000</property>
            </structure>
            <xml-property name="designerValues"><![CDATA[<?xml version="1.0" encoding="UTF-8"?>
<model:DesignValues xmlns:design="http://www.eclipse.org/datatools/connectivity/oda/design" xmlns:model="http://www.eclipse.org/birt/report/model/adapter/odaModel">
  <Version>2.0</Version>
  <design:ResultSets derivedMetaData="true">
    <design:resultSetDefinitions>
      <design:resultSetColumns>
        <design:resultColumnDefinitions>
          <design:attributes>
            <design:identifier>
              <design:name>_id.reportado</design:name>
              <design:position>1</design:position>
            </design:identifier>
            <design:nativeDataTypeCode>2</design:nativeDataTypeCode>
            <design:precision>-1</design:precision>
            <design:scale>-1</design:scale>
            <design:nullability>Nullable</design:nullability>
            <design:uiHints>
              <design:displayName>_id.reportado</design:displayName>
            </design:uiHints>
          </design:attributes>
          <design:usageHints>
            <design:label>_id.reportado</design:label>
            <design:formattingHints>
              <design:displaySize>-1</design:displaySize>
            </design:formattingHints>
          </design:usageHints>
        </design:resultColumnDefinitions>
      </design:resultSetColumns>
      <design:criteria/>
    </design:resultSetDefinitions>
  </design:ResultSets>
</model:DesignValues>]]></xml-property>
        </oda-data-set>
        <oda-data-set extensionID="org.eclipse.birt.data.oda.mongodb.dataSet" name="Ao Cobre At" id="659">
            <list-property name="computedColumns">
                <structure>
                    <property name="name">year</property>
                    <expression name="expression" type="javascript">BirtDateTime.year(row["_id.reportado"])</expression>
                    <property name="dataType">integer</property>
                </structure>
                <structure>
                    <property name="name">month</property>
                    <expression name="expression" type="javascript">BirtDateTime.month(row["_id.reportado"])</expression>
                    <property name="dataType">integer</property>
                </structure>
                <structure>
                    <property name="name">Mes</property>
                    <expression name="expression" type="javascript">var month  = row["month"];&#13;
var months = ["Enero", "Febrero", "Marzo", "Abril", "Mayo", "Junio", "Julio", "Agosto", "Septiembre", "Octubre", "Noviembre", "Diciembre"];&#13;
var display = "";&#13;
if(month != null || month != 0){&#13;
	display = months[month-1];&#13;
}&#13;
&#13;
display;</expression>
                    <property name="dataType">string</property>
                </structure>
            </list-property>
            <list-property name="columnHints">
                <structure>
                    <property name="columnName">_id.reportado</property>
                    <property name="analysis">dimension</property>
                    <text-property name="displayName">_id.reportado</text-property>
                    <text-property name="heading">_id.reportado</text-property>
                    <property name="indexColumn">false</property>
                    <property name="compressed">false</property>
                </structure>
                <structure>
                    <property name="columnName">year</property>
                    <property name="analysis">measure</property>
                </structure>
                <structure>
                    <property name="columnName">month</property>
                    <property name="analysis">measure</property>
                </structure>
                <structure>
                    <property name="columnName">Mes</property>
                    <property name="analysis">dimension</property>
                </structure>
            </list-property>
            <list-property name="filter">
                <structure>
                    <property name="operator">is-not-null</property>
                    <expression name="expr" type="javascript">row["_id.reportado"]</expression>
                </structure>
            </list-property>
            <list-property name="parameters"/>
            <structure name="cachedMetaData">
                <list-property name="resultSet">
                    <structure>
                        <property name="position">1</property>
                        <property name="name">_id.reportado</property>
                        <property name="dataType">string</property>
                    </structure>
                    <structure>
                        <property name="position">2</property>
                        <property name="name">year</property>
                        <property name="dataType">integer</property>
                    </structure>
                    <structure>
                        <property name="position">3</property>
                        <property name="name">month</property>
                        <property name="dataType">integer</property>
                    </structure>
                    <structure>
                        <property name="position">4</property>
                        <property name="name">Mes</property>
                        <property name="dataType">string</property>
                    </structure>
                </list-property>
            </structure>
            <property name="dataSource">MongoDB</property>
            <list-property name="resultSet">
                <structure>
                    <property name="position">1</property>
                    <property name="name">_id.reportado</property>
                    <property name="nativeName">_id.reportado</property>
                    <property name="dataType">string</property>
                    <property name="nativeDataType">2</property>
                </structure>
            </list-property>
            <xml-property name="queryText"><![CDATA[{ "operationExpr" : "[{$match:{\r\n\tform_id: {$in: [10540,25928,25927,25929]},\r\n\tdeleted_at:{$exists:false},\r\n\tanswers.f1054000a030000000000002: 'liquidada',\r\n\tanswers.f1054000a0100000000000a2: { $in: ['la_paz','cd_obregon','culiacan','hermosillo','los_mochis','mazatlan','nogales']},\r\n}},\r\n{$group: {_id:{\r\n\t\treportado:'$answers.5a1eecfbb43fdd65914505a1', \r\n  },\r\n  \tcantidad: {$sum:1},\r\n  }}\r\n\r\n]" , "queryReadPreference" : "secondaryPreferred" , "operationType" : "AGGREGATE" , "selectedFields" : [ "_id.reportado"] , "collectionName" : "form_answer"}]]></xml-property>
            <structure name="designerState">
                <property name="version">1.0</property>
                <property name="stateContentAsString">false,1000000000</property>
            </structure>
            <xml-property name="designerValues"><![CDATA[<?xml version="1.0" encoding="UTF-8"?>
<model:DesignValues xmlns:design="http://www.eclipse.org/datatools/connectivity/oda/design" xmlns:model="http://www.eclipse.org/birt/report/model/adapter/odaModel">
  <Version>2.0</Version>
  <design:ResultSets derivedMetaData="true">
    <design:resultSetDefinitions>
      <design:resultSetColumns>
        <design:resultColumnDefinitions>
          <design:attributes>
            <design:identifier>
              <design:name>_id.reportado</design:name>
              <design:position>1</design:position>
            </design:identifier>
            <design:nativeDataTypeCode>2</design:nativeDataTypeCode>
            <design:precision>-1</design:precision>
            <design:scale>-1</design:scale>
            <design:nullability>Nullable</design:nullability>
            <design:uiHints>
              <design:displayName>_id.reportado</design:displayName>
            </design:uiHints>
          </design:attributes>
          <design:usageHints>
            <design:label>_id.reportado</design:label>
            <design:formattingHints>
              <design:displaySize>-1</design:displaySize>
            </design:formattingHints>
          </design:usageHints>
        </design:resultColumnDefinitions>
      </design:resultSetColumns>
      <design:criteria/>
    </design:resultSetDefinitions>
  </design:ResultSets>
</model:DesignValues>]]></xml-property>
        </oda-data-set>
        <derived-data-set extensionID="com.actuate.birt.data.union" name="Union Fechas At" id="661">
            <list-property name="columnHints">
                <structure>
                    <property name="columnName">year</property>
                    <property name="analysis">measure</property>
                    <property name="indexColumn">false</property>
                    <property name="compressed">false</property>
                </structure>
                <structure>
                    <property name="columnName">month</property>
                    <property name="analysis">measure</property>
                    <property name="indexColumn">false</property>
                    <property name="compressed">false</property>
                </structure>
                <structure>
                    <property name="columnName">Mes</property>
                    <property name="analysis">dimension</property>
                    <property name="indexColumn">false</property>
                    <property name="compressed">false</property>
                </structure>
            </list-property>
            <structure name="cachedMetaData">
                <list-property name="resultSet">
                    <structure>
                        <property name="position">1</property>
                        <property name="name">year</property>
                        <property name="dataType">integer</property>
                    </structure>
                    <structure>
                        <property name="position">2</property>
                        <property name="name">month</property>
                        <property name="dataType">integer</property>
                    </structure>
                    <structure>
                        <property name="position">3</property>
                        <property name="name">Mes</property>
                        <property name="dataType">string</property>
                    </structure>
                </list-property>
            </structure>
            <simple-property-list name="inputDataSets">
                <value>Ao Fibra At</value>
                <value>Ao Cobre At</value>
            </simple-property-list>
            <xml-property name="queryText"><![CDATA[<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<tns:Union xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://schemas.actuate.com/birt/dataset_union.xsd" xmlns:tns="http://schemas.actuate.com/">
<tns:DataSet Index="0" name="Ao Fibra At">
<tns:Column name="year"/>
<tns:Column name="month"/>
<tns:Column name="Mes"/>
</tns:DataSet>
<tns:DataSet Index="1" name="Ao Cobre At">
<tns:Column name="year"/>
<tns:Column name="month"/>
<tns:Column name="Mes"/>
</tns:DataSet>
</tns:Union>]]></xml-property>
        </derived-data-set>
        <derived-data-set extensionID="com.actuate.birt.data.join" name="Join Produccion AT - DSAC" id="662">
            <list-property name="columnHints">
                <structure>
                    <property name="columnName">cantidad</property>
                    <property name="analysis">measure</property>
                    <text-property name="displayName">cantidad</text-property>
                    <property name="indexColumn">false</property>
                    <property name="compressed">false</property>
                </structure>
                <structure>
                    <property name="columnName">year</property>
                    <property name="analysis">dimension</property>
                    <property name="indexColumn">false</property>
                    <property name="compressed">false</property>
                </structure>
                <structure>
                    <property name="columnName">month</property>
                    <property name="analysis">measure</property>
                    <property name="indexColumn">false</property>
                    <property name="compressed">false</property>
                </structure>
                <structure>
                    <property name="columnName">day</property>
                    <property name="analysis">measure</property>
                    <property name="indexColumn">false</property>
                    <property name="compressed">false</property>
                </structure>
                <structure>
                    <property name="columnName">Mes</property>
                    <property name="analysis">dimension</property>
                    <property name="indexColumn">false</property>
                    <property name="compressed">false</property>
                </structure>
                <structure>
                    <property name="columnName">Cope</property>
                    <property name="analysis">dimension</property>
                    <property name="indexColumn">false</property>
                    <property name="compressed">false</property>
                </structure>
                <structure>
                    <property name="columnName">Tipo</property>
                    <property name="analysis">dimension</property>
                    <property name="indexColumn">false</property>
                    <property name="compressed">false</property>
                </structure>
                <structure>
                    <property name="columnName">area</property>
                    <property name="analysis">dimension</property>
                    <text-property name="displayName">area</text-property>
                    <property name="indexColumn">false</property>
                    <property name="compressed">false</property>
                </structure>
                <structure>
                    <property name="columnName">cope</property>
                    <property name="analysis">dimension</property>
                    <text-property name="displayName">cope</text-property>
                    <property name="indexColumn">false</property>
                    <property name="compressed">false</property>
                </structure>
                <structure>
                    <property name="columnName">Division</property>
                    <property name="analysis">dimension</property>
                    <property name="indexColumn">false</property>
                    <property name="compressed">false</property>
                </structure>
                <structure>
                    <property name="columnName">Subdireccion</property>
                    <property name="analysis">dimension</property>
                    <property name="indexColumn">false</property>
                    <property name="compressed">false</property>
                </structure>
            </list-property>
            <structure name="cachedMetaData">
                <list-property name="resultSet">
                    <structure>
                        <property name="position">1</property>
                        <property name="name">cantidad</property>
                        <property name="dataType">integer</property>
                    </structure>
                    <structure>
                        <property name="position">2</property>
                        <property name="name">year</property>
                        <property name="dataType">integer</property>
                    </structure>
                    <structure>
                        <property name="position">3</property>
                        <property name="name">month</property>
                        <property name="dataType">integer</property>
                    </structure>
                    <structure>
                        <property name="position">4</property>
                        <property name="name">day</property>
                        <property name="dataType">integer</property>
                    </structure>
                    <structure>
                        <property name="position">5</property>
                        <property name="name">Mes</property>
                        <property name="dataType">string</property>
                    </structure>
                    <structure>
                        <property name="position">6</property>
                        <property name="name">Cope</property>
                        <property name="dataType">string</property>
                    </structure>
                    <structure>
                        <property name="position">7</property>
                        <property name="name">Tipo</property>
                        <property name="dataType">string</property>
                    </structure>
                    <structure>
                        <property name="position">8</property>
                        <property name="name">area</property>
                        <property name="dataType">string</property>
                    </structure>
                    <structure>
                        <property name="position">9</property>
                        <property name="name">cope</property>
                        <property name="dataType">string</property>
                    </structure>
                    <structure>
                        <property name="position">10</property>
                        <property name="name">Division</property>
                        <property name="dataType">string</property>
                    </structure>
                    <structure>
                        <property name="position">11</property>
                        <property name="name">Subdireccion</property>
                        <property name="dataType">string</property>
                    </structure>
                </list-property>
            </structure>
            <simple-property-list name="inputDataSets">
                <value>Produccion fibra y cobre at</value>
                <value>Area-Cope-Div-Sub</value>
            </simple-property-list>
            <xml-property name="queryText"><![CDATA[<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<tns:joinedDataSet xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://schemas.actuate.com/birt/dataset_join.xsd" xmlns:tns="http://schemas.actuate.com/birt/dataset_join.xsd">
<tns:selectColumns>
<tns:Column>Produccion fibra y cobre at::cantidad</tns:Column>
<tns:Column>Produccion fibra y cobre at::year</tns:Column>
<tns:Column>Produccion fibra y cobre at::month</tns:Column>
<tns:Column>Produccion fibra y cobre at::day</tns:Column>
<tns:Column>Produccion fibra y cobre at::Mes</tns:Column>
<tns:Column>Produccion fibra y cobre at::Cope</tns:Column>
<tns:Column>Produccion fibra y cobre at::Tipo</tns:Column>
<tns:Column>Area-Cope-Div-Sub::area</tns:Column>
<tns:Column>Area-Cope-Div-Sub::cope</tns:Column>
<tns:Column>Area-Cope-Div-Sub::Division</tns:Column>
<tns:Column>Area-Cope-Div-Sub::Subdireccion</tns:Column>
</tns:selectColumns>
<tns:joins>
<tns:startingDataSet Index="0" name="Produccion fibra y cobre at"/>
<tns:join>
<tns:type>leftOuter</tns:type>
<tns:dataSet Index="1" name="Area-Cope-Div-Sub"/>
<tns:on>
<tns:condition>
<tns:leftColumn>Produccion fibra y cobre at::Cope</tns:leftColumn>
<tns:rightColumn>Area-Cope-Div-Sub::cope</tns:rightColumn>
<tns:operator>eq</tns:operator>
</tns:condition>
</tns:on>
</tns:join>
</tns:joins>
</tns:joinedDataSet>]]></xml-property>
        </derived-data-set>
    </data-sets>
    <parameters>
        <cascading-parameter-group name="Fechas Maqtel" id="607">
            <text-property name="promptText">Rango de fechas</text-property>
            <property name="dataSet">Union Aos fibra y cobre Maqtel</property>
            <property name="dataSetMode">single</property>
            <parameters>
                <scalar-parameter name="year maqtel" id="608">
                    <text-property name="promptText">Ao:</text-property>
                    <property name="valueType">dynamic</property>
                    <property name="isRequired">false</property>
                    <property name="dataSetName">Union Aos fibra y cobre Maqtel</property>
                    <expression name="valueExpr">row["year"]</expression>
                    <expression name="labelExpr">row["year"]</expression>
                    <property name="dataType">integer</property>
                    <simple-property-list name="defaultValue">
                        <value type="constant">2018</value>
                    </simple-property-list>
                    <property name="paramType">simple</property>
                    <property name="controlType">list-box</property>
                    <property name="fixedOrder">true</property>
                    <structure name="format"/>
                </scalar-parameter>
                <scalar-parameter name="month maqtel" id="609">
                    <text-property name="promptText">Mes:</text-property>
                    <property name="valueType">dynamic</property>
                    <property name="isRequired">false</property>
                    <property name="dataSetName">Union Aos fibra y cobre Maqtel</property>
                    <expression name="valueExpr">row["month"]</expression>
                    <expression name="labelExpr">row["Mes"]</expression>
                    <property name="dataType">integer</property>
                    <simple-property-list name="defaultValue">
                        <value type="constant">1</value>
                    </simple-property-list>
                    <property name="controlType">list-box</property>
                    <property name="fixedOrder">true</property>
                    <structure name="format"/>
                </scalar-parameter>
            </parameters>
        </cascading-parameter-group>
        <cascading-parameter-group name="Year Maqtel Acum" id="610">
            <property name="dataSet">Union Aos fibra y cobre Maqtel</property>
            <property name="dataSetMode">single</property>
            <parameters>
                <scalar-parameter name="year Maqtel ii" id="611">
                    <property name="valueType">dynamic</property>
                    <property name="isRequired">false</property>
                    <property name="dataSetName">Union Aos fibra y cobre Maqtel</property>
                    <expression name="valueExpr">row["year"]</expression>
                    <expression name="labelExpr">row["year"]</expression>
                    <property name="dataType">integer</property>
                    <property name="controlType">list-box</property>
                    <property name="fixedOrder">true</property>
                    <structure name="format"/>
                </scalar-parameter>
            </parameters>
        </cascading-parameter-group>
        <cascading-parameter-group name="Fechas Amsitel" id="624">
            <property name="dataSet">Union Fechas Amsitel</property>
            <property name="dataSetMode">single</property>
            <parameters>
                <scalar-parameter name="year amsitel" id="625">
                    <property name="valueType">dynamic</property>
                    <property name="isRequired">false</property>
                    <property name="dataSetName">Union Fechas Amsitel</property>
                    <expression name="valueExpr">row["year"]</expression>
                    <expression name="labelExpr">row["year"]</expression>
                    <property name="dataType">integer</property>
                    <property name="paramType">simple</property>
                    <property name="controlType">list-box</property>
                    <property name="fixedOrder">true</property>
                    <structure name="format"/>
                </scalar-parameter>
                <scalar-parameter name="month amsitel" id="629">
                    <property name="valueType">dynamic</property>
                    <property name="isRequired">false</property>
                    <property name="dataSetName">Union Fechas Amsitel</property>
                    <expression name="valueExpr">row["month"]</expression>
                    <expression name="labelExpr">row["Mes"]</expression>
                    <property name="dataType">integer</property>
                    <property name="controlType">list-box</property>
                    <property name="fixedOrder">true</property>
                    <structure name="format"/>
                </scalar-parameter>
            </parameters>
        </cascading-parameter-group>
        <cascading-parameter-group name="Year Acum Amsitel" id="627">
            <property name="dataSet">Union Fechas Amsitel</property>
            <property name="dataSetMode">single</property>
            <parameters>
                <scalar-parameter name="year" id="628">
                    <property name="valueType">dynamic</property>
                    <property name="isRequired">false</property>
                    <property name="dataSetName">Union Fechas Amsitel</property>
                    <expression name="valueExpr">row["year"]</expression>
                    <expression name="labelExpr">row["year"]</expression>
                    <property name="dataType">integer</property>
                    <property name="controlType">list-box</property>
                    <property name="fixedOrder">true</property>
                    <structure name="format"/>
                </scalar-parameter>
            </parameters>
        </cascading-parameter-group>
        <cascading-parameter-group name="Fechas Itesa" id="637">
            <property name="dataSet">Union Fechas Itesa</property>
            <property name="dataSetMode">single</property>
            <parameters>
                <scalar-parameter name="year itesa" id="638">
                    <property name="valueType">dynamic</property>
                    <property name="isRequired">false</property>
                    <property name="dataSetName">Union Fechas Itesa</property>
                    <expression name="valueExpr">row["year"]</expression>
                    <expression name="labelExpr">row["year"]</expression>
                    <property name="dataType">integer</property>
                    <property name="paramType">simple</property>
                    <property name="controlType">list-box</property>
                    <property name="fixedOrder">true</property>
                    <structure name="format"/>
                </scalar-parameter>
                <scalar-parameter name="month itesa" id="639">
                    <property name="valueType">dynamic</property>
                    <property name="isRequired">false</property>
                    <property name="dataSetName">Union Fechas Itesa</property>
                    <expression name="valueExpr">row["month"]</expression>
                    <expression name="labelExpr">row["Mes"]</expression>
                    <property name="dataType">integer</property>
                    <property name="controlType">list-box</property>
                    <property name="fixedOrder">true</property>
                    <structure name="format"/>
                </scalar-parameter>
            </parameters>
        </cascading-parameter-group>
        <cascading-parameter-group name="Year Acum Itesa" id="640">
            <property name="dataSet">Union Fechas Itesa</property>
            <property name="dataSetMode">single</property>
            <parameters>
                <scalar-parameter name="itesa year" id="641">
                    <property name="valueType">dynamic</property>
                    <property name="isRequired">false</property>
                    <property name="dataSetName">Union Fechas Itesa</property>
                    <expression name="valueExpr">row["year"]</expression>
                    <expression name="labelExpr">row["year"]</expression>
                    <property name="dataType">integer</property>
                    <property name="controlType">list-box</property>
                    <property name="fixedOrder">true</property>
                    <structure name="format"/>
                </scalar-parameter>
            </parameters>
        </cascading-parameter-group>
        <cascading-parameter-group name="Fechas Avasan" id="651">
            <property name="dataSet">Union Fechas Avasan</property>
            <property name="dataSetMode">single</property>
            <parameters>
                <scalar-parameter name="year avasan" id="652">
                    <property name="valueType">dynamic</property>
                    <property name="isRequired">false</property>
                    <property name="dataSetName">Union Fechas Avasan</property>
                    <expression name="valueExpr">row["year"]</expression>
                    <expression name="labelExpr">row["year"]</expression>
                    <property name="dataType">integer</property>
                    <property name="paramType">simple</property>
                    <property name="controlType">list-box</property>
                    <property name="fixedOrder">true</property>
                    <structure name="format"/>
                </scalar-parameter>
                <scalar-parameter name="month avasan" id="653">
                    <property name="valueType">dynamic</property>
                    <property name="isRequired">false</property>
                    <property name="dataSetName">Union Fechas Avasan</property>
                    <expression name="valueExpr">row["month"]</expression>
                    <expression name="labelExpr">row["Mes"]</expression>
                    <property name="dataType">integer</property>
                    <property name="controlType">list-box</property>
                    <property name="fixedOrder">true</property>
                    <structure name="format"/>
                </scalar-parameter>
            </parameters>
        </cascading-parameter-group>
        <cascading-parameter-group name="Year Acum Avasan" id="654">
            <property name="dataSet">Union Fechas Avasan</property>
            <property name="dataSetMode">single</property>
            <parameters>
                <scalar-parameter name="avasan year" id="655">
                    <property name="valueType">dynamic</property>
                    <property name="isRequired">false</property>
                    <property name="dataSetName">Union Fechas Avasan</property>
                    <expression name="valueExpr">row["year"]</expression>
                    <expression name="labelExpr">row["year"]</expression>
                    <property name="dataType">integer</property>
                    <property name="controlType">list-box</property>
                    <property name="fixedOrder">true</property>
                    <structure name="format"/>
                </scalar-parameter>
            </parameters>
        </cascading-parameter-group>
        <cascading-parameter-group name="Fechas AT" id="663">
            <property name="dataSet">Union Fechas At</property>
            <property name="dataSetMode">single</property>
            <parameters>
                <scalar-parameter name="year at" id="664">
                    <property name="valueType">dynamic</property>
                    <property name="isRequired">false</property>
                    <property name="dataSetName">Union Fechas At</property>
                    <expression name="valueExpr">row["year"]</expression>
                    <expression name="labelExpr">row["year"]</expression>
                    <property name="dataType">integer</property>
                    <property name="paramType">simple</property>
                    <property name="controlType">list-box</property>
                    <property name="fixedOrder">true</property>
                    <structure name="format"/>
                </scalar-parameter>
                <scalar-parameter name="month at" id="665">
                    <property name="valueType">dynamic</property>
                    <property name="isRequired">false</property>
                    <property name="dataSetName">Union Fechas At</property>
                    <expression name="valueExpr">row["month"]</expression>
                    <expression name="labelExpr">row["Mes"]</expression>
                    <property name="dataType">integer</property>
                    <property name="controlType">list-box</property>
                    <property name="fixedOrder">true</property>
                    <structure name="format"/>
                </scalar-parameter>
            </parameters>
        </cascading-parameter-group>
        <cascading-parameter-group name="Year Aum AT" id="667">
            <property name="dataSet">Union Fechas At</property>
            <property name="dataSetMode">single</property>
            <parameters>
                <scalar-parameter name="at year" id="668">
                    <property name="valueType">dynamic</property>
                    <property name="isRequired">false</property>
                    <property name="dataSetName">Union Fechas At</property>
                    <expression name="valueExpr">row["year"]</expression>
                    <expression name="labelExpr">row["year"]</expression>
                    <property name="dataType">integer</property>
                    <property name="controlType">list-box</property>
                    <property name="fixedOrder">true</property>
                    <structure name="format"/>
                </scalar-parameter>
            </parameters>
        </cascading-parameter-group>
    </parameters>
</datamart>
